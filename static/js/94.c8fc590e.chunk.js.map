{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js","../node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js","../node_modules/@arcgis/core/layers/support/RasterStorageInfo.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js","../node_modules/@arcgis/core/layers/support/rasterTransforms/IdentityTransform.js","../node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js","../node_modules/@arcgis/core/layers/support/rasterTransforms/utils.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js","../node_modules/@arcgis/core/layers/ImageryTileLayer.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js"],"names":["u","m","e","n","t","isWGS84","isWebMercator","equals","async","h","a","s","l","y","o","spatialReference","c","M","r","center","i","xmin","x","xmax","ymin","ymax","p","w","d","isGeographic","f","origin","valid","Math","abs","g","R","j","push","map","filter","isNaN","max","apply","min","b","v","N","S","cols","ceil","rows","z","W","G","P","L","inverseTransform","NaN","q","A","Float32Array","E","F","length","offsets","error","coefficients","spacing","size","log","pixelSize","LN2","storageInfo","maximumPyramidLevel","floor","round","pyramidLevel","pyramidResolution","nativePixelSize","excessiveReading","extent","projectedPixelSize","scales","srcResolutions","isCustomTilingScheme","wkid","width","height","J","getLogger","constructor","super","arguments","this","_rasterJobHandler","instance","refCount","connectionPromise","bandIds","copyright","fullExtent","interpolation","raster","rasterInfo","sourceJSON","tileInfo","symbolizer","_sliceId","getSliceIndex","_set","updateRenderer","loaded","JSON","stringify","_cachedRendererJson","renderer","rendererJSON","toJSON","bind","updateSymbolizer","pixelBlock","pixels","symbolize","simpleStretchParams","getTileUrl","datasetFormat","url","getCompatibleTileInfo","create","getCompatibleFullExtent","_compatibleFullExtent","computeExtent","requestAsImageElement","responseType","query","sliceId","_ts","timestamp","signal","then","data","_initJobHandler","type","multidimensionalDefinition","buffer","fetchTile","fetchPixels","identify","increaseRasterJobHandlerUsage","decreaseRasterJobHandlerUsage","_shutdownJobHandler","_configDefaultSettings","_configDefaultInterpolation","_configDefaultSlice","_configDefaultRenderer","initialize","rasterJobHandler","catch","destroy","tileType","defaultResamplingMethod","multidimensionalInfo","variables","dimensions","forEach","variableName","name","dimensionName","values","hasRegularIntervals","isSlice","_","I","warn","prototype","readOnly","types","blockWidth","blockHeight","compression","firstPyramidLevel","pyramidScalingFactor","pyramidBlockWidth","pyramidBlockHeight","isVirtualTileInfo","blockBoundary","Number","json","write","String","Boolean","datasetName","ioConfig","sampling","k","addResolvingPromise","when","normalizeCtorArgs","resolution","declaredClass","lodAt","getTileExtent","datumTransformation","intersects","location","value","transform","nativeExtent","srcResolution","computeBestPyramidLevelForLocation","identifyPixelLocation","row","col","rowOffset","colOffset","B","fetchRawTile","mask","clone","normalize","fetchRawPixels","pixelBlocks","srcExtent","T","C","requestRawData","D","mosaicSize","H","isPartiallyFilled","U","mosaicAndTransform","srcPixelBlocks","srcMosaicSize","destDimension","coefs","sampleSpacing","transformGrid","getBlockWidthHeight","minRow","minCol","maxCol","maxRow","_fetchRawTile","allowPartialFill","Promise","all","decodePixelBlock","useCanvas","decode","options","customFetchParameters","range","headers","retryCount","Range","from","to","request","_getDimensionValuesCount","reduce","Array","isArray","_getIndexFromDimensions","shift","updateTileInfo","level","scale","lods","createRemoteDatasetStorageInfo","_computeBlockBoundary","srcLocation","isBlockOutside","resolve","registryId","interval","unit","findIndex","indexOf","intervalUnit","toLowerCase","Date","getUTCFullYear","fields","records","some","alias","concat","typeName","attributes","displayFieldName","features","DataView","getUint8","header","version","recordSet","getUint32","getUint16","recordCount","headerByteCount","recordByteCount","fromCharCode","trim","Uint8Array","byteLength","parseInt","parseFloat","substring","forwardTransform","IdentityXform","polynomialOrder","readForwardCoefficients","coeffX","coeffY","writeForwardCoefficients","_get","readInverseCoefficients","inverseCoeffX","inverseCoeffY","writeInverseCoefficients","forwardCoefficients","inverseCoefficients","PolynomialXform","Object","keys","Map","set","init","_validateHeader","slice","lastIndexOf","_parseHeader","dataType","_fetchAuxiliaryInformation","attributeTable","_buildCacheFilePath","_getIndexRecordFromBundle","headerSize","_getTileEndAndContentType","recordSize","position","planes","pixelType","bandCount","histograms","colormap","statistics","avg","mean","stddev","standardDeviation","median","mode","geodataXform","wkt","pixelSizeX","pixelSizeY","_parseTransform","properties","format","replace","colors","LODInfos","levels","resolutions","dpi","O","packetSize","$","mdInfo","keyProperties","includes","read","get","parse","fromJSON","_toHexString4","toString","subarray","isPseudoSpatialReference","_buildInMemoryRaster","_pixelBlockTiles","split","tileSize","estimateStatisticsHistograms","getElementsByTagNameNS","item","textContent","nodeValue","nodeName","startsWith","endsWith","documentElement","tagName","metadata","rasterBands","childNodes","nodeType","getAttribute","toUpperCase","noDataValue","histogram","counts","sourceBandIndex","_fetchData","_fetchAuxiliaryData","DateType","open","_inMemoryRaster","skipExtensions","aborted","_levelOffset","_slices","_tilemapCache","ssl","_fixScaleInServiceInfo","cacheType","_fetchRasterInfo","maxScale","sort","minScale","capabilities","parsedUrl","tileServers","layer","isPoint","variable","fetchAvailability","DataType","hasRasterAttributeTable","hasColormap","hasHistograms","hasMultidimensions","_fetchMultidimensionalInfo","slices","minValues","maxValues","meanValues","stdvValues","_files","_storageIndex","files","index","_parseIndex","ranges","actualTileWidth","actualTileHeight","_getTileLocation","validPixelCount","ArrayBuffer","Uint32Array","mrf","_headerInfo","_bufferSize","littleEndian","firstIFD","isBigTiff","readIFDs","tileWidth","tileHeight","tileBoundary","affine","BandProperties","bandProperties","ifds","isSupported","message","getTileLocation","ifd","customOptions","headerInfo","offset","readIFD","TIFF_TAGS","nextIFD","success","offlineOffsetSize","has","valueOffset","GEO_KEYS","id","valueCount","requiredBufferSize","desc","Set","add","supportedFormats","RSP_NearestNeighbor","RSP_BilinearInterpolation","RSP_CubicConvolution","RSP_Majority","enabled","legendEnabled","isReference","listMode","title","operationalLayerType","popupEnabled","popupTemplate","load","loadFromPortal","supportedTypes","_openRaster","createPopupTemplate","domain","editable","readRenderer","layerDefinition","drawingInfo","test","messages","layerContainerType","currentVersion","copyrightText","overridePolicy","source","reader","disablePopup","target","writer","origins","_timer","_cachedBlocks","_size","_duration","_interval","decreaseRefCount","delete","controller","abort","getBlock","ts","now","block","putBlock","updateTimer","deleteBlock","updateMaxSize","empty","clear","clearTimer","getCurrentSize","setInterval","clearInterval","cache","isResolved","isRejected"],"mappings":"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","file":"static/js/94.c8fc590e.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{getInfo as n}from\"../../../geometry/support/spatialReferenceUtils.js\";import{project as t}from\"../../../geometry/support/webMercatorUtils.js\";import o from\"../../../geometry/Point.js\";import i from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import{getMetersPerUnitForSR as r}from\"../../../core/unitUtils.js\";import{isLoaded as a,isSupported as s,load as l,getTransformation as c,project as x}from\"../../../geometry/projection.js\";const u=5e-4,m=function(e,n){const t=(e.isWGS84||e.isWebMercator)&&(n.isWGS84||n.isWebMercator);return!(e.equals(n)||t)},p=function(e,n){const t=(e[0]+e[4]+e[4*n.cols]+e[4*n.cols+4])/4,o=(e[1]+e[5]+e[4*n.rows+1]+e[4*n.rows+5])/4;return[Math.abs(t-e[2*n.rows+2]),Math.abs(o-e[2*n.rows+3])]},f=32;async function h(){if(a()||!s())return null;await l()}function y(n,t,o){if(!m(n.spatialReference,t))return null;if(!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");return o?c(t,n.spatialReference,n):c(n.spatialReference,t,n)}function M(n,o,r,s=null){if(n.spatialReference.equals(o))return n;const l=m(n.spatialReference,o);if(l&&!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const c=r.center,u=new i({xmin:c.x-n.x/2,xmax:c.x+n.x/2,ymin:c.y-n.y/2,ymax:c.y+n.y/2,spatialReference:n.spatialReference}),p=l?x(u,o,s):t(u,o);if(null==p)return null;return{x:p.xmax-p.xmin,y:p.ymax-p.ymin}}function w(e,n=.01){return r(e)?n/r(e):0}function d(o,i,r=null,s=!0){const l=o.spatialReference;if(l.equals(i))return o;const c=m(l,i);if(c&&!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const p=c?x(o,i,r):t(o,i);if(p&&s&&i.isGeographic){var f,h;const[e,t]=l.isWebMercator?n(l).origin:null!=(f=null==(h=n(l))?void 0:h.valid)?f:[],i=w(l);i&&null!=e&&null!=t&&(Math.abs(o.x-e)<i&&Math.abs(180-p.x)<u?p.x-=360:Math.abs(o.x-t)<i&&Math.abs(180+p.x)<u&&(p.x+=360))}return p}function g(i,r,s=null,l=!0){var c,p,f,h;const y=i.spatialReference;if(y.equals(r))return i;const M=m(y,r);if(M&&!a())throw new e(\"rasterprojectionhelper-projectExtent\",\"projection engine is not loaded\");const g=M?x(i,r,s):t(i,r);let[R,j]=null!=(c=null==(p=n(y))?void 0:p.origin)?c:[];if(g&&l&&y.isWebMercator&&r.isGeographic&&null!=R&&null!=j){const e=.001,n=1e3;if(Math.abs(i.xmin-R)<e&&Math.abs(j-i.xmax)>n&&Math.abs(180-g.xmax)<u){g.xmin=-180;const e=[];e.push(new o(i.xmax,i.ymin,y)),e.push(new o(i.xmax,(i.ymin+i.ymax)/2,y)),e.push(new o(i.xmax,i.ymax,y));const n=e.map((e=>d(e,r,s))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));g.xmax=Math.max.apply(null,n)}if(Math.abs(i.xmax-j)<e&&Math.abs(R-i.xmin)>n&&Math.abs(180+g.xmin)<u){g.xmax=180;const e=[];e.push(new o(i.xmin,i.ymin,y)),e.push(new o(i.xmin,(i.ymin+i.ymax)/2,y)),e.push(new o(i.xmin,i.ymax,y));const n=e.map((e=>d(e,r,s))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));g.xmin=Math.min.apply(null,n)}}[R,j]=r.isWebMercator?n(r).origin:null!=(f=null==(h=n(r))?void 0:h.valid)?f:[];const b=w(r);return b&&null!=R&&null!=j&&(Math.abs(g.xmin-R)<b&&(g.xmin=R),Math.abs(g.xmax-j)<b&&(g.xmax=j)),g}function R(t,i,r,s=null,l=null,c=!1,x=[f,f]){var u,h;if(m(t.spatialReference,i.spatialReference)&&!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");if(!(t&&i&&r))return null;const{xmin:y,ymin:M,xmax:w,ymax:g}=t,R=t.spatialReference,j=i.spatialReference,[b,v]=null!=(u=null==(h=n(R))?void 0:h.valid)?u:[],N={x:x[0]*r.x,y:x[1]*r.y},S={cols:Math.ceil((w-y)/N.x-.1)+1,rows:Math.ceil((g-M)/N.y-.1)+1},z=N.x,W=N.y,G=[];let P,L=!1;for(let e=0;e<S.cols;e++){const n=[];for(let t=0;t<S.rows;t++){let r=d(new o({x:y+z*e,y:g-W*t,spatialReference:R}),j,s);l&&(r=l.inverseTransform(r)),n.push(r),e>0&&c&&r&&P[t]&&null!=b&&r.x<P[t].x&&(r.x+=v-b),r?(G.push((r.x-i.xmin)/(i.xmax-i.xmin)),G.push((i.ymax-r.y)/(i.ymax-i.ymin))):(G.push(NaN),G.push(NaN),L=!0)}P=n}const q=p(G,S),A=new Float32Array((S.cols-1)*(S.rows-1)*2*6),E=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),F=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<S.cols-1;e++){for(let n=0;n<S.rows-1;n++){let t=e*S.rows*2+2*n;const o=G[t],i=G[t+1],r=G[t+2],a=G[t+3];t+=2*S.rows;const s=G[t],l=G[t+1],c=G[t+2],x=G[t+3];let u=0,m=12*(n*(S.cols-1)+e);for(let e=0;e<3;e++)A[m++]=E[u++]*o+E[u++]*r+E[u++]*c;u=0;for(let e=0;e<3;e++)A[m++]=E[u++]*i+E[u++]*a+E[u++]*x;u=0;for(let e=0;e<3;e++)A[m++]=F[u++]*o+F[u++]*s+F[u++]*c;u=0;for(let e=0;e<3;e++)A[m++]=F[u++]*i+F[u++]*l+F[u++]*x}if(L)for(let e=0;e<A.length;e++)isNaN(A[e])&&(A[e]=-1)}return{offsets:G,error:q,coefficients:A,spacing:x,size:[S.cols-1,S.rows-1]}}function j(e,n,t){const i=Math.log(e.x/n.pixelSize.x)/Math.LN2,r=Math.log(e.y/n.pixelSize.y)/Math.LN2,a=n.storageInfo.maximumPyramidLevel||0;let s=\"down\"===t?Math.floor(Math.min(i,r)):\"up\"===t?Math.ceil(Math.max(i,r)):Math.round((i+r)/2),l=!1;s<0?s=0:s>a&&(l=s>a+3,s=a);const c=2**s;return{pyramidLevel:s,pyramidResolution:new o({x:c*n.nativePixelSize.x,y:c*n.nativePixelSize.y,spatialReference:n.spatialReference}),excessiveReading:l}}function b(e,n,t=512,i=!0){const{extent:a,spatialReference:s,pixelSize:l}=e,c=M(new o({x:l.x,y:l.y,spatialReference:s}),n,a);if(null==c)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const x=(c.x+c.y)/2,u=r(n),m=x*u*96*39.37,p=n.isGeographic?512/t*295828763.7958547:512/t*591657527.591555;let f=!1;const h=g(a,n);i&&(n.isGeographic||n.isWebMercator)&&(f=h.xmin*h.xmax<0);let y,w=m;const d=1.001;if(f){w=p;const e=.29858214164761665,n=e*(96*u*39.37);y=M(new o({x:e,y:e,spatialReference:{wkid:3857}}),s,h),y.x*=w/n,y.y*=w/n}else{y={x:l.x,y:l.y};const n=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let t=0;for(;w<p*(d/2)&&t<n;)t++,w*=2,y.x*=2,y.y*=2;Math.max(w,p)/Math.min(w,p)<=d&&(w=p)}const R=[w],j=[{x:y.x,y:y.y}],b=70.5310735,v=Math.min(b,m)/d;for(;w>=v;)w/=2,y.x/=2,y.y/=2,R.push(w),j.push({x:y.x,y:y.y});return{projectedPixelSize:c,scales:R,srcResolutions:j,isCustomTilingScheme:!f}}export{b as computeProjectedScales,f as defaultGridSpacing,y as getDefaultDatumTransformationForDataset,R as getProjectionOffsetGrid,h as load,g as projectExtent,d as projectPoint,M as projectResolution,j as snapPyramid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{aliasOf as s}from\"../../core/accessorSupport/decorators/aliasOf.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{getInfo as o}from\"../../geometry/support/spatialReferenceUtils.js\";import l from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Extent.js\";import\"../../geometry.js\";import d from\"../../request.js\";import{sanitizeUrl as p}from\"../support/arcgisLayerUrl.js\";import{url as m}from\"../support/commonProperties.js\";import{rasterRendererTypes as h}from\"../../rasterRenderers.js\";import u from\"../support/TileInfo.js\";import c from\"../support/DimensionalDefinition.js\";import f from\"../support/RasterJobHandler.js\";import{normalizeRendererJSON as y,getDefaultInterpolation as b,getDefaultBandCombination as _,createDefaultRenderer as g}from\"../../renderers/support/rasterRendererHelper.js\";import I from\"../../renderers/support/RasterSymbolizer.js\";const J=r.getLogger(\"esri.layers.mixins.ImageryTileMixin\"),x=r=>{let x=class extends r{constructor(){super(...arguments),this._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},this.bandIds=null,this.copyright=null,this.fullExtent=null,this.interpolation=\"nearest\",this.raster=null,this.rasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.tileInfo=null,this.symbolizer=null}set multidimensionalDefinition(e){this.raster&&(this._sliceId=this.raster.getSliceIndex(e)),this._set(\"multidimensionalDefinition\",e)}set url(e){this._set(\"url\",p(e,J))}set renderer(e){this._set(\"renderer\",e),this.updateRenderer()}async updateRenderer(){if(!this.loaded)return;if(JSON.stringify(this._cachedRendererJson)===JSON.stringify(this.renderer))return;const e=this._rasterJobHandler.instance;e&&(this.symbolizer.rendererJSON=y(this.renderer.toJSON()),this.symbolizer.bind(),await e.updateSymbolizer(this.symbolizer),this._cachedRendererJson=this.renderer.toJSON())}async applyRenderer(e,t){const r=e&&e.pixelBlock;if(!(r&&r.pixels&&r.pixels.length>0))return null;let i;this.updateRenderer();const s=this._rasterJobHandler.instance,{bandIds:n}=this;return i=s?await s.symbolize({...e,simpleStretchParams:t,bandIds:n}):this.symbolizer.symbolize({...e,simpleStretchParams:t,bandIds:n}),i}getTileUrl(e,t,r){return\"RasterTileServer\"===this.raster.datasetFormat?`${this.url}/tile/${e}/${t}/${r}`:\"\"}getCompatibleTileInfo(e,t){if(!this.loaded)return null;const r=o(e);return u.create({size:256,spatialReference:e,origin:r?{x:r.origin[0],y:r.origin[1]}:{x:t.xmin,y:t.ymax}})}getCompatibleFullExtent(e){return this.loaded?(this._compatibleFullExtent&&this._compatibleFullExtent.spatialReference.equals(e)||(this._compatibleFullExtent=this.raster.computeExtent(e)),this._compatibleFullExtent):null}async fetchTile(e,t,r,i={}){if(i.requestAsImageElement){const s=this.getTileUrl(e,t,r);return d(s,{responseType:\"image\",query:{sliceId:this._sliceId,_ts:i.timestamp},signal:i.signal}).then((e=>e.data))}await this._initJobHandler();const s=\"raster-shaded-relief\"===this.renderer.type?{cols:1,rows:1}:null;if(this.multidimensionalDefinition){const e=this._sliceId;i={multidimensionalDefinition:this.multidimensionalDefinition,sliceId:e,buffer:s,...i}}return this.raster.fetchTile(e,t,r,i)}async fetchPixels(e,t,r,i){if(await this._initJobHandler(),this.multidimensionalDefinition){const e=this._sliceId;i={multidimensionalDefinition:this.multidimensionalDefinition,sliceId:e,...i}}return this.raster.fetchPixels(e,t,r,i)}identify(e,t={}){return this.multidimensionalDefinition&&!t.multidimensionalDefinition&&(t={...t,multidimensionalDefinition:this.multidimensionalDefinition}),this.raster.identify(e,t)}increaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler()}_configDefaultSettings(){this._configDefaultInterpolation(),this._configDefaultSlice(),this._configDefaultRenderer()}_initJobHandler(){if(null!=this._rasterJobHandler.connectionPromise)return this._rasterJobHandler.connectionPromise;const e=new f;return this._rasterJobHandler.connectionPromise=e.initialize().then((()=>{this._rasterJobHandler.instance=e,this.raster.rasterJobHandler=e,this.renderer&&this.updateRenderer()})).catch((()=>null)),this._rasterJobHandler.connectionPromise}_shutdownJobHandler(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0,this.raster.rasterJobHandler=null}_configDefaultInterpolation(){if(null==this.interpolation){var e;const t=b(this.rasterInfo,this.raster.tileType,null==(e=this.sourceJSON)?void 0:e.defaultResamplingMethod);this._set(\"interpolation\",t)}}_configDefaultSlice(){const{multidimensionalInfo:e}=this.raster.rasterInfo;if(t(e)){if(!this.multidimensionalDefinition){const t=e.variables[0],r=[];t.dimensions.forEach((e=>{r.push(new c({variableName:t.name,dimensionName:e.name,values:e.hasRegularIntervals?e.extent[0]:e.values[0],isSlice:!0}))})),this.multidimensionalDefinition=r}this._sliceId=this.raster.getSliceIndex(this.multidimensionalDefinition)}}_configDefaultRenderer(){const e=this.raster.rasterInfo;var t,r;(this.bandIds||(this.bandIds=_(e)),this.renderer)||(this.renderer=g(e,{bandIds:this.bandIds,variableName:null==(t=this.multidimensionalDefinition)||null==(r=t[0])?void 0:r.variableName}));this.symbolizer?(this.symbolizer.rendererJSON=y(this.renderer.toJSON()),this.symbolizer.rasterInfo=e):this.symbolizer=new I({rendererJSON:this.renderer.toJSON(),rasterInfo:e}),this.symbolizer.bind()||J.warn(\"imagery-tile-mixin\",\"The given renderer is not supported by the layer.\")}};return e([i()],x.prototype,\"_cachedRendererJson\",void 0),e([i()],x.prototype,\"_sliceId\",void 0),e([i()],x.prototype,\"_compatibleFullExtent\",void 0),e([i()],x.prototype,\"_rasterJobHandler\",void 0),e([i()],x.prototype,\"bandIds\",void 0),e([i()],x.prototype,\"copyright\",void 0),e([i({type:a}),s(\"rasterInfo.extent\")],x.prototype,\"fullExtent\",void 0),e([i()],x.prototype,\"interpolation\",void 0),e([i()],x.prototype,\"ioConfig\",void 0),e([i({type:[c]})],x.prototype,\"multidimensionalDefinition\",null),e([i()],x.prototype,\"raster\",void 0),e([i({readOnly:!0}),s(\"raster.rasterInfo\")],x.prototype,\"rasterInfo\",void 0),e([i()],x.prototype,\"sourceJSON\",void 0),e([i({type:l}),s(\"rasterInfo.spatialReference\")],x.prototype,\"spatialReference\",void 0),e([i({type:u}),s(\"rasterInfo.storageInfo.tileInfo\")],x.prototype,\"tileInfo\",void 0),e([i(m)],x.prototype,\"url\",null),e([i({types:h})],x.prototype,\"renderer\",null),e([i()],x.prototype,\"symbolizer\",void 0),x=e([n(\"esri.layers.ImageryTileMixin\")],x),x};export{x as ImageryTileMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import e from\"../../geometry/Point.js\";let s=class extends i{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.blockBoundary=null}};o([r({type:Number,json:{write:!0}})],s.prototype,\"blockWidth\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"blockHeight\",void 0),o([r({type:String,json:{write:!0}})],s.prototype,\"compression\",void 0),o([r({type:e,json:{write:!0}})],s.prototype,\"origin\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"firstPyramidLevel\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"maximumPyramidLevel\",void 0),o([r()],s.prototype,\"pyramidScalingFactor\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"pyramidBlockWidth\",void 0),o([r({type:Number,json:{write:!0}})],s.prototype,\"pyramidBlockHeight\",void 0),o([r({type:Boolean,json:{write:!0}})],s.prototype,\"isVirtualTileInfo\",void 0),o([r({json:{write:!0}})],s.prototype,\"tileInfo\",void 0),o([r()],s.prototype,\"blockBoundary\",void 0),s=o([t(\"esri.layers.support.RasterStorageInfo\")],s);var p=s;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t,unwrap as r}from\"../../../core/maybe.js\";import o from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{createAbortController as a,onAbort as l}from\"../../../core/promiseUtils.js\";import{JSONSupport as c}from\"../../../core/JSONSupport.js\";import u from\"../../../geometry/Point.js\";import m from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import f from\"../../../request.js\";import{EsriPromiseMixin as h}from\"../../../core/Promise.js\";import{sanitizeUrl as d}from\"../arcgisLayerUrl.js\";import{url as p}from\"../commonProperties.js\";import x from\"../TileInfo.js\";import{decode as y}from\"../rasterFormats/RasterCodec.js\";import{mosaic as g,approximateTransform as w}from\"../rasterFunctions/pixelUtils.js\";import I from\"../RasterStorageInfo.js\";import{load as k,projectPoint as v,snapPyramid as R,projectResolution as b,projectExtent as M,getProjectionOffsetGrid as C}from\"../rasterFunctions/rasterProjectionHelper.js\";import{getRasterId as B,getBlock as P,putBlock as j,deleteBlock as T,decreaseRefCount as F}from\"./RawBlockCache.js\";let S=class extends(h(c)){constructor(){super(...arguments),this.rasterJobHandler=null,this.datasetName=null,this.datasetFormat=null,this.rasterInfo=null,this.ioConfig={sampling:\"closest\"}}async init(){const e=k();this.addResolvingPromise(e),await this.when()}normalizeCtorArgs(e){return e&&e.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:\"closest\",tileInfo:x.create(),...e.ioConfig}}),e}set url(e){this._set(\"url\",d(e,o.getLogger(this.declaredClass)))}async open(e){throw new s(\"BaseRaster:open-not-implemented\",\"open() is not implemented\")}async fetchTile(e,r,o,i={}){var n;const{tileInfo:s}=i,a=s.lodAt(e),l=this.getTileExtent({x:a.resolution,y:a.resolution},r,o,s.origin,s.spatialReference,s.size);return null!=(n=i.multidimensionalDefinition)&&n.length&&t(this.rasterInfo.multidimensionalInfo)&&null==i.sliceId&&(i={...i,sliceId:this.getSliceIndex(i.multidimensionalDefinition)||0}),this.fetchPixels(l,s.size[0],s.size[1],i)}async identify(e,r={}){const{spatialReference:o,extent:i}=this.rasterInfo,{datumTransformation:n}=r;let s=v(e,o,n);if(!i.intersects(s))return{location:s,value:null};if(t(this.rasterInfo.transform)){const e=this.rasterInfo.transform.inverseTransform(s);if(!this.rasterInfo.nativeExtent.intersects(e))return{location:e,value:null};s=e}let a=0;if(r.srcResolution){a=R(r.srcResolution,this.rasterInfo,this.ioConfig.sampling).pyramidLevel}else if(a=await this.computeBestPyramidLevelForLocation(e,r),null==a)return{location:s,value:null};const l=this.identifyPixelLocation(s,a,null);if(null===l)return{location:s,value:null};const{row:c,col:u,rowOffset:m,colOffset:f}=l,h=B(this.url,r.sliceId),d=`${a}/${c}/${u}`;let p=P(h,null,d);t(p)||(p=this.fetchRawTile(a,c,u,r),j(h,null,d,p));const x=await p;if(!(x&&x.pixels&&x.pixels.length>0))return{location:s,value:null};const y=m*this.rasterInfo.storageInfo.blockHeight+f;return{location:s,value:!x.mask||x.mask[y]?x.pixels.map((e=>e[y])):null,pyramidLevel:a}}async fetchPixels(e,t,o,i={}){const n=e.clone().normalize();e=n[0];const s=this.rasterInfo.spatialReference,a=!e.spatialReference.equals(s),{datumTransformation:l}=i,c=new u({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/o,spatialReference:e.spatialReference}),m=i.srcResolution||(a?b(c,s,e,l):c);if(!m)return null;const{pyramidLevel:f,pyramidResolution:h,excessiveReading:d}=R(m,this.rasterInfo,this.ioConfig.sampling);if(d)return null;const p=this.rasterInfo.storageInfo;let x=a?M(e,s,l):e;const y=r(this.rasterInfo.transform);if(y&&(x=y.inverseTransform(x)),null==x)return null;const I={x:Math.floor((x.xmin-p.origin.x)/h.x+.1),y:Math.floor((p.origin.y-x.ymax)/h.y+.1)},k=Math.ceil((x.xmax-x.xmin)/h.x-.1),v=Math.ceil((x.ymax-x.ymin)/h.y-.1);if(k/t>8||v/o>8)return null;const B=await this.fetchRawPixels(f,I,{width:k,height:v},i);if(!B)return null;const P=f>0?p.pyramidBlockWidth:p.blockWidth,j=f>0?p.pyramidBlockHeight:p.blockHeight;if(!a&&1===B.pixelBlocks.length&&P===t&&j===o&&m.x===c.x&&m.y===c.y)return{extent:e,srcExtent:x,pixelBlock:B.pixelBlocks[0]};const T=C(e,B.extent,c,l,y);let F;const S=!i.requestRawData,L={rows:T.spacing[0],cols:T.spacing[1]},{pixelBlocks:D,mosaicSize:H,isPartiallyFilled:U}=B;if(this.rasterJobHandler)F=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:D,srcMosaicSize:H,destDimension:S?{width:t,height:o}:null,coefs:S?T.coefficients:null,sampleSpacing:S?L:null,interpolation:i.interpolation},i);else{const e=g(D,H);F=S?w(e,{width:t,height:o},T.coefficients,L,i.interpolation):e}return i.requestRawData?{srcExtent:x,pixelBlock:F,transformGrid:T,extent:e,isPartiallyFilled:U}:{srcExtent:x,extent:e,pixelBlock:F}}async fetchRawPixels(e,t,r,o){const{origin:i,blockBoundary:n}=this.rasterInfo.storageInfo,{blockWidth:s,blockHeight:a}=this.getBlockWidthHeight(e);let{x:l,y:c}=t,{width:u,height:f}=r;o.buffer&&(l-=o.buffer.cols,c-=o.buffer.rows,u+=2*o.buffer.cols,f+=2*o.buffer.rows);const h=Math.floor(l/s),d=Math.floor(c/a),p=Math.floor((l+u-1)/s),x=Math.floor((c+f-1)/a),y=n[e];if(!y)return null;const{minRow:g,minCol:w,maxCol:I,maxRow:k}=y;if(x<g||p<w||d>k||h>I)return null;const v=[];let R,b=!1;for(let m=d;m<=x;m++)for(let t=h;t<=p;t++)m>=g&&t>=w&&k>=m&&I>=t?(R=this._fetchRawTile(e,m,t,o),this.ioConfig.allowPartialFill&&(R=new Promise((e=>{R.then((t=>e(t))).catch((()=>{b=!0,e(null)}))}))),v.push(R)):v.push(null);if(0===v.length)return null;const M=await Promise.all(v),C={height:(x-d+1)*s,width:(p-h+1)*a},{nativePixelSize:B,spatialReference:P}=this.rasterInfo,j=B.x*2**e,T=B.y*2**e;return{extent:new m({xmin:i.x+h*s*j,xmax:i.x+(p+1)*s*j,ymin:i.y-(x+1)*a*T,ymax:i.y-d*a*T,spatialReference:P}),pixelBlocks:M,mosaicSize:C,isPartiallyFilled:b}}async fetchRawTile(e,t,r,o){throw new s(\"BaseRaster:read-not-implemented\",\"fetchRawTile() is not implemented\")}computeExtent(e){return M(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return!this.rasterJobHandler||t.useCanvas?y(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,t,r){var o,i;const{customFetchParameters:n}=this.ioConfig,{range:s,query:a,headers:l}=t;r=null!=(o=null!=(i=r)?i:t.retryCount)?o:this.ioConfig.retryCount;const c=s?{Range:`bytes=${s.from}-${s.to}`}:null;try{return await f(e,{...t,query:{...a,...n},headers:{...l,...c}})}catch(u){if(r>0)return r--,this.request(e,t,r);throw u}}getSliceIndex(e){const{multidimensionalInfo:r}=this.rasterInfo;if(!t(r)||null==e||!e.length)return null;let o=0;const i=e[0].variableName;for(let t=0;t<r.variables.length;t++){const n=r.variables[t],s=n.dimensions;if(n.name!==i){o+=s.map((e=>this._getDimensionValuesCount(e))).reduce(((e,t)=>e+t));break}const a=s.map((e=>this._getDimensionValuesCount(e))),l=s.length;for(let t=0;t<l;t++){const r=e.filter((e=>e.dimensionName===s[t].name))[0];if(null==r)return null;const i=Array.isArray(r.values[0])?r.values[0][0]:r.values[0],n=this._getIndexFromDimensions(i,s[t]);if(-1===n)return null;a.shift(),o+=t===l-1?n:n*a.reduce(((e,t)=>e+t))}}return o}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:r,pixelSize:o}=this.rasterInfo;if(!e.tileInfo){const i=[],n=e.maximumPyramidLevel||0;let s=Math.max(o.x,o.y),a=1/.0254*96*s;for(let e=0;e<=n;e++)i.push({level:n-e,resolution:s,scale:a}),s*=2,a*=2;const l=new u({x:r.xmin,y:r.ymax,spatialReference:t});e.tileInfo=new x({origin:l,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:i}),e.isVirtualTileInfo=!0}}createRemoteDatasetStorageInfo(e,t=512,r=512,o){const{width:i,height:n,nativeExtent:s,pixelSize:a,spatialReference:l}=e,c=new u({x:s.xmin,y:s.ymax,spatialReference:l});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(i,n))/Math.LN2-8)));const m=this._computeBlockBoundary(s,a,o,512,512);e.storageInfo=new I({blockWidth:t,blockHeight:r,pyramidBlockWidth:t,pyramidBlockHeight:r,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:m})}async computeBestPyramidLevelForLocation(e,t={}){return 0}identifyPixelLocation(e,t,r){const{spatialReference:o,nativePixelSize:i,nativeExtent:n}=this.rasterInfo,{blockWidth:s,blockHeight:a,maximumPyramidLevel:l,pyramidScalingFactor:c,origin:u}=this.rasterInfo.storageInfo,m=v(e,o,r);if(!n.intersects(m))return null;if(t<0||t>l)return null;const f=c**t,h=f*i.x,d=f*i.y,p=(u.y-m.y)/d/a,x=(m.x-u.x)/h/s,y=Math.min(a-1,Math.floor((p-Math.floor(p))*a)),g=Math.min(s-1,Math.floor((x-Math.floor(x))*s));return{pyramidLevel:t,row:Math.floor(p),col:Math.floor(x),rowOffset:y,colOffset:g,srcLocation:m}}getTileExtent(e,t,r,o,i,n){const[s,a]=n,l=o.x+r*s*e.x,c=l+s*e.x,u=o.y-t*a*e.y,f=u-a*e.y;return new m({xmin:l,xmax:c,ymin:f,ymax:u,spatialReference:i})}getBlockWidthHeight(e){return{blockWidth:e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,blockHeight:e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight}}isBlockOutside(e,t,r){const o=this.rasterInfo.storageInfo.blockBoundary[e];return!o||o.maxRow<t||o.maxCol<r||o.minRow>t||o.minCol>r}_computeBlockBoundary(e,t,r,o,i){let{x:n,y:s}=t;const a=e.xmin,l=e.ymax,c=[{minCol:Math.floor((e.xmin-a+.1*n)/o/n),maxCol:Math.floor((e.xmax-a-.1*n)/o/n),minRow:Math.floor((l-e.ymax+.1*s)/i/s),maxRow:Math.floor((l-e.ymin-.1*s)/i/s)}];if(r>0)for(let u=0;u<r;u++)n*=2,s*=2,c.push({minCol:Math.floor((e.xmin-a+.1*n)/o/n),maxCol:Math.floor((e.xmax-a-.1*n)/o/n),minRow:Math.floor((l-e.ymax+.1*s)/i/n),maxRow:Math.floor((l-e.ymin-.1*s)/i/n)});return c}_fetchRawTile(e,r,o,i){const n=this.rasterInfo.storageInfo.blockBoundary[e];if(!n)return Promise.resolve(null);const{minRow:s,minCol:c,maxCol:u,maxRow:m}=n;if(r<s||o<c||r>m||o>u)return Promise.resolve(null);const f=B(this.url,i.sliceId),h=`${e}/${r}/${o}`;let d=P(f,i.registryId,h);if(!t(d)){const t=a();d=this.fetchRawTile(e,r,o,{...i,signal:t.signal}),j(f,i.registryId,h,d,t),d.catch((()=>{T(f,i.registryId,h)}))}return i.signal&&l(i,(()=>{F(f,i.registryId,h)})),d}_getIndexFromDimensions(e,t){const{extent:r,interval:o,unit:i,values:n}=t;if(null!=n&&n.length)return Array.isArray(n[0])?n.findIndex((t=>t[0]<=e&&t[1]>=e)):n.indexOf(e);if(e>r[1])return-1;const s=r[0];let a=-1;if(\"ISO8601\"===i){var l;switch((null==(l=t.intervalUnit)?void 0:l.toLowerCase())||\"seconds\"){case\"seconds\":a=Math.round((e-s)/1e3/o);break;case\"minutes\":a=Math.round((e-s)/6e4/o);break;case\"hours\":a=Math.round((e-s)/36e5/o);break;case\"days\":a=Math.round((e-s)/864e5/o);break;case\"years\":a=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/o);break;case\"decades\":a=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/10/o)}return a}return Math.round((e-s)/o)}_getDimensionValuesCount(e){const{extent:t,interval:r,unit:o,values:i}=e;let n=(null==i?void 0:i.length)||0;if(n)return n;const s=t[0];if(0===n&&\"ISO8601\"===o){var a;switch((null==(a=e.intervalUnit)?void 0:a.toLowerCase())||\"seconds\"){case\"seconds\":n=Math.round((t[1]-t[0])/1e3/r);break;case\"minutes\":n=Math.round((t[1]-t[0])/6e4/r);break;case\"hours\":n=Math.round((t[1]-t[0])/36e5/r);break;case\"days\":n=Math.round((t[1]-t[0])/864e5/r);break;case\"years\":n=Math.round((new Date(t[1]).getUTCFullYear()-new Date(s).getUTCFullYear())/r);break;case\"decades\":n=Math.round((new Date(t[1]).getUTCFullYear()-new Date(s).getUTCFullYear())/10/r)}return n}return Math.round((t[1]-t[0])/r)}};e([i(p)],S.prototype,\"url\",null),e([i({type:String,json:{write:!0}})],S.prototype,\"datasetName\",void 0),e([i({type:String,json:{write:!0}})],S.prototype,\"datasetFormat\",void 0),e([i()],S.prototype,\"rasterInfo\",void 0),e([i()],S.prototype,\"ioConfig\",void 0),e([i()],S.prototype,\"sourceJSON\",void 0),S=e([n(\"esri.layers.support.rasterDatasets.BaseRaster\")],S);var L=S;export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{bytesToUTF8 as e}from\"./byteStreamUtils.js\";function t(e){const t=e.fields,r=e.records,n=t.some((e=>\"oid\"===e.name.toLowerCase()))?\"OBJECTID\":\"OID\",i=[{name:n,type:\"esriFieldTypeOID\",alias:\"OID\"}].concat(t.map((e=>({name:e.name,type:\"esriFieldType\"+e.typeName,alias:e.name})))),s=i.map((e=>e.name)),a=[];let o=0,l=0;return r.forEach((e=>{const t={};for(t[n]=o++,l=1;l<s.length;l++)t[s[l]]=e[l-1];a.push({attributes:t})})),{displayFieldName:\"\",fields:i,features:a}}class r{static get supportedVersions(){return[5]}static parse(r){const n=new DataView(r),i=3&n.getUint8(0);if(3!==i)return{header:{version:i},recordSet:null};const s=n.getUint32(4,!0),a=n.getUint16(8,!0),o=n.getUint16(10,!0),l={version:i,recordCount:s,headerByteCount:a,recordByteCount:o};let p=32;const g=[],u=[];let d;if(3===i){for(;13!==n.getUint8(p);)d=String.fromCharCode(n.getUint8(p+11)).trim(),g.push({name:e(new Uint8Array(r,p,11)),type:d,typeName:[\"String\",\"Date\",\"Double\",\"Boolean\",\"String\",\"Integer\"][[\"C\",\"D\",\"F\",\"L\",\"M\",\"N\"].indexOf(d)],length:n.getUint8(p+16)}),p+=32;if(p+=1,g.length>0)for(;u.length<s&&r.byteLength-p>o;){const t=[];32===n.getUint8(p)?(p+=1,g.forEach((n=>{if(\"C\"===n.type)t.push(e(new Uint8Array(r,p,n.length)).trim());else if(\"N\"===n.type)t.push(parseInt(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim(),10));else if(\"F\"===n.type)t.push(parseFloat(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim()));else if(\"D\"===n.type){const e=String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim();t.push(new Date(parseInt(e.substring(0,4),10),parseInt(e.substring(4,6),10)-1,parseInt(e.substring(6,8),10)))}p+=n.length})),u.push(t)):p+=o}}return{header:l,fields:g,records:u,recordSet:t({fields:g,records:u})}}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{enumeration as e}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../../core/JSONSupport.js\";let p=class extends t{constructor(){super(...arguments),this.type=\"identity\"}forwardTransform(r){return r}inverseTransform(r){return r}};r([o({json:{write:!0}})],p.prototype,\"spatialReference\",void 0),r([e({IdentityXform:\"identity\"})],p.prototype,\"type\",void 0),p=r([s(\"esri.layers.support.rasterTransforms.IdentityTransform\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{enumeration as o}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{reader as t}from\"../../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as n}from\"../../../core/accessorSupport/decorators/writer.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../../core/JSONSupport.js\";import f from\"../../../geometry/Point.js\";import p from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";function l(e,r,o){const{x:t,y:s}=r;if(o<2){return{x:e[0]+t*e[2]+s*e[4],y:e[1]+t*e[3]+s*e[5]}}if(2===o){const r=t*t,o=s*s,n=t*s;return{x:e[0]+t*e[2]+s*e[4]+r*e[6]+n*e[8]+o*e[10],y:e[1]+t*e[3]+s*e[5]+r*e[7]+n*e[9]+o*e[11]}}const n=t*t,i=s*s,f=t*s,p=n*t,l=n*s,c=t*i,a=s*i;return{x:e[0]+t*e[2]+s*e[4]+n*e[6]+f*e[8]+i*e[10]+p*e[12]+l*e[14]+c*e[16]+a*e[18],y:e[1]+t*e[3]+s*e[5]+n*e[7]+f*e[9]+i*e[11]+p*e[13]+l*e[15]+c*e[17]+a*e[19]}}function c(e,r,o){const{xmin:t,ymin:s,xmax:n,ymax:i,spatialReference:f}=r;let c=[];if(o<2)c.push({x:t,y:i}),c.push({x:n,y:i}),c.push({x:t,y:s}),c.push({x:n,y:s});else{let e=10;for(let r=0;r<e;r++)c.push({x:t,y:s+(i-s)*r/(e-1)}),c.push({x:n,y:s+(i-s)*r/(e-1)});e=8;for(let r=1;r<=e;r++)c.push({x:t+(n-t)*r/e,y:s}),c.push({x:t+(n-t)*r/e,y:i})}c=c.map((r=>l(e,r,o)));const a=c.map((e=>e.x)),u=c.map((e=>e.y));return new p({xmin:Math.min.apply(null,a),xmax:Math.max.apply(null,a),ymin:Math.min.apply(null,u),ymax:Math.max.apply(null,u),spatialReference:f})}function a(e){const[r,o,t,s,n,i]=e,f=t*i-n*s,p=n*s-t*i;return[(n*o-r*i)/f,(t*o-r*s)/p,i/f,s/p,-n/f,-t/p]}let u=class extends i{constructor(){super(...arguments),this.polynomialOrder=1,this.type=\"polynomial\"}readForwardCoefficients(e,r){const{coeffX:o,coeffY:t}=r;if(null==o||!o.length||null==t||!t.length||o.length!==t.length)return null;const s=[];for(let n=0;n<o.length;n++)s.push(o[n]),s.push(t[n]);return s}writeForwardCoefficients(e,r,o){const t=[],s=[];for(let n=0;n<(null==e?void 0:e.length);n++)n%2==0?t.push(e[n]):s.push(e[n]);r.coeffX=t,r.coeffY=s}get inverseCoefficients(){let e=this._get(\"inverseCoefficients\");const r=this._get(\"forwardCoefficients\");return!e&&r&&this.polynomialOrder<2&&(e=a(r)),e}set inverseCoefficients(e){this._set(\"inverseCoefficients\",e)}readInverseCoefficients(e,r){const{inverseCoeffX:o,inverseCoeffY:t}=r;if(null==o||!o.length||null==t||!t.length||o.length!==t.length)return null;const s=[];for(let n=0;n<o.length;n++)s.push(o[n]),s.push(t[n]);return s}writeInverseCoefficients(e,r,o){const t=[],s=[];for(let n=0;n<(null==e?void 0:e.length);n++)n%2==0?t.push(e[n]):s.push(e[n]);r.inverseCoeffX=t,r.inverseCoeffY=s}forwardTransform(e){if(\"point\"===e.type){const r=l(this.forwardCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return c(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if(\"point\"===e.type){const r=l(this.inverseCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return c(this.inverseCoefficients,e,this.polynomialOrder)}};e([r({json:{write:!0}})],u.prototype,\"polynomialOrder\",void 0),e([r()],u.prototype,\"forwardCoefficients\",void 0),e([t(\"forwardCoefficients\",[\"coeffX\",\"coeffY\"])],u.prototype,\"readForwardCoefficients\",null),e([n(\"forwardCoefficients\")],u.prototype,\"writeForwardCoefficients\",null),e([r({json:{write:!0}})],u.prototype,\"inverseCoefficients\",null),e([t(\"inverseCoefficients\",[\"inverseCoeffX\",\"inverseCoeffY\"])],u.prototype,\"readInverseCoefficients\",null),e([n(\"inverseCoefficients\")],u.prototype,\"writeInverseCoefficients\",null),e([r({json:{write:!0}})],u.prototype,\"spatialReference\",void 0),e([o({PolynomialXform:\"polynomial\"})],u.prototype,\"type\",void 0),u=e([s(\"esri.layers.support.rasterTransforms.PolynomialTransform\")],u);var m=u;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport n from\"./IdentityTransform.js\";import o from\"./PolynomialTransform.js\";const t={PolynomialXform:o,IdentityXform:n},r=Object.keys(t);function e(n){const o=null==n?void 0:n.type;return!n||r.includes(o)}function l(n){if(!(null==n?void 0:n.type))return null;const o=t[null==n?void 0:n.type];if(o){const t=new o;return t.read(n),t}return null}export{e as isTransformSupported,l as readTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../../geometry/SpatialReference.js\";import a from\"../../../geometry/Point.js\";import n from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import l from\"../../../tasks/support/FeatureSet.js\";import f from\"../TileInfo.js\";import m from\"../RasterInfo.js\";import p from\"../RasterStorageInfo.js\";import c from\"./BaseRaster.js\";import u from\"./DBFParser.js\";import{isTransformSupported as d,readTransform as h}from\"../rasterTransforms/utils.js\";const g=new Map;g.set(\"int16\",\"esriFieldTypeSmallInteger\"),g.set(\"int32\",\"esriFieldTypeInteger\"),g.set(\"int64\",\"esriFieldTypeInteger\"),g.set(\"float32\",\"esriFieldTypeSingle\"),g.set(\"float64\",\"esriFieldTypeDouble\"),g.set(\"text\",\"esriFieldTypeString\");const y=8;let x=class extends c{constructor(){super(...arguments),this.storageInfo=null,this.datasetFormat=\"CRF\"}async open(e){await this.init();const{data:t}=await this.request(this.url+\"/conf.json\",{signal:null==e?void 0:e.signal});if(!this._validateHeader(t))throw new i(\"cloudraster:open\",\"Invalid or unsupported conf.json.\");this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const{storageInfo:r,rasterInfo:o}=this._parseHeader(t);if(\"thematic\"===o.dataType){const e=await this._fetchAuxiliaryInformation();o.attributeTable=e}this._set(\"storageInfo\",r),this._set(\"rasterInfo\",o),this.ioConfig.retryCount=this.ioConfig.retryCount||0}async fetchRawTile(e,t,r,o={}){const i=this.rasterInfo.storageInfo.maximumPyramidLevel-e;if(i<0)return null;const s=this._buildCacheFilePath(i,t,r,o.multidimensionalDefinition),a=this._getIndexRecordFromBundle(t,r),n=await this.request(s,{range:{from:0,to:this.storageInfo.headerSize-1},responseType:\"array-buffer\",signal:o.signal});if(!n)return null;const l=new Uint8Array(n.data),f=this._getTileEndAndContentType(l,a);if(0===f.recordSize)return null;const m=await this.request(s,{range:{from:f.position,to:f.position+f.recordSize},responseType:\"array-buffer\",signal:o.signal});return m?this.decodePixelBlock(m.data,{width:this.rasterInfo.storageInfo.tileInfo.size[0],height:this.rasterInfo.storageInfo.tileInfo.size[1],planes:null,pixelType:null}):null}_validateHeader(e){const t=[\"origin\",\"extent\",\"geodataXform\",\"LODInfos\",\"blockWidth\",\"blockHeight\",\"bandCount\",\"pixelType\",\"pixelSizeX\",\"pixelSizeY\",\"format\",\"packetSize\"];return e&&\"RasterInfo\"===e.type&&!t.some((t=>!e[t]))}_parseHeader(e){var t,r;const o=[\"u1\",\"u2\",\"u4\",\"u8\",\"s8\",\"u16\",\"s16\",\"u32\",\"s32\",\"f32\",\"f64\"][e.pixelType],{bandCount:i,histograms:l,colormap:c,blockWidth:u,blockHeight:d,firstPyramidLevel:h,maximumPyramidLevel:g}=e,x=e.statistics&&e.statistics.map((e=>({min:e.min,max:e.max,avg:e.mean,stddev:e.standardDeviation,median:e.median,mode:e.mode}))),I=e.extent.spatialReference,S=null==(t=e.geodataXform)?void 0:t.spatialReference,v=new s(null!=I&&I.wkid||null!=I&&I.wkt?I:S);let w=new n({xmin:e.extent.xmin,ymin:e.extent.ymin,xmax:e.extent.xmax,ymax:e.extent.ymax,spatialReference:v});const b=new a({x:e.pixelSizeX,y:e.pixelSizeY,spatialReference:v}),T=Math.round((w.xmax-w.xmin)/b.x),j=Math.round((w.ymax-w.ymin)/b.y),k=this._parseTransform(e.geodataXform),z=k?w:null;k&&(w=k.forwardTransform(w),b.x=(w.xmax-w.xmin)/T,b.y=(w.ymax-w.ymin)/j);const _=null!=(r=e.properties)?r:{},C=e.format.toLowerCase().replace(\"cache/\",\"\"),R=new a(e.origin.x,e.origin.y,v);let F,P,H,L;if(c&&c.colors)for(F=[],P=0;P<c.colors.length;P++)H=c.colors[P],L=c.values?c.values[P]:P,F.push([L,255&H,H<<16>>>24,H<<8>>>24,H>>>24]);const D=e.LODInfos,M=[];for(P=0;P<D.levels.length;P++)M.push({level:D.levels[P],resolution:D.resolutions[P],scale:96/.0254*D.resolutions[P]});const B=new f({dpi:96,lods:M,format:C,origin:R,size:[u,d],spatialReference:v}),O={recordSize:y,packetSize:e.packetSize,headerSize:e.packetSize*e.packetSize*y+64},$=[{maxCol:Math.ceil(T/u)-1,maxRow:Math.ceil(j/d)-1,minCol:0,minRow:0}];let q=2;if(g>0)for(P=0;P<g;P++)$.push({maxCol:Math.ceil(T/q/u)-1,maxRow:Math.ceil(j/q/d)-1,minCol:0,minRow:0}),q*=2;const E=e.mdInfo;return{storageInfo:O,rasterInfo:new m({width:T,height:j,pixelType:o,bandCount:i,extent:w,nativeExtent:z,transform:k,spatialReference:v,pixelSize:b,keyProperties:_,statistics:x,histograms:l,multidimensionalInfo:E,colormap:F,storageInfo:new p({blockWidth:u,blockHeight:d,pyramidBlockWidth:u,pyramidBlockHeight:d,origin:R,tileInfo:B,firstPyramidLevel:h,maximumPyramidLevel:g,blockBoundary:$})})}}_parseTransform(e){var t,r;if(!d(e))throw new i(\"cloudraster:open\",\"the data contains unsupported geodata transform types\");const o=h(e);if(\"identity\"===o.type)return null;if(null==(t=o.forwardCoefficients)||!t.length||null==(r=o.inverseCoefficients)||!r.length)throw new i(\"cloudraster:open\",\"the data contains unsupported geodata transforms - both forward and inverse coefficients are required currently\");return o}async _fetchAuxiliaryInformation(e){const t=this.request(this.url+\"/conf.vat.json\",{signal:e}).then((e=>e.data)).catch((()=>null)),r=this.request(this.url+\"/conf.vat.dbf\",{responseType:\"array-buffer\",signal:e}).then((e=>e.data)).catch((()=>null)),o=await Promise.all([t,r]);let i;if(o[0]){let e=o[0].fields;const t=o[0].values;if(e&&t){e=e.map((e=>({type:\"OID\"===e.name?\"esriFieldTypeOID\":g.get(e.type),name:e.name,alias:e.alias||e.name})));const r=t.map((e=>({attributes:e})));e&&t&&(i={fields:e,features:r})}}if(!i&&o[1]){i=u.parse(o[1]).recordSet}return l.fromJSON(i)}_buildCacheFilePath(e,r,o,i){const s=this.storageInfo.packetSize,a=Math.floor(r/s)*s,n=Math.floor(o/s)*s,l=\"R\"+this._toHexString4(a)+\"C\"+this._toHexString4(n);let f=\"L\";f+=e>=10?e.toString():\"0\"+e.toString();const{multidimensionalInfo:m}=this.rasterInfo,p=null==i?void 0:i[0];if(!t(m)||!p)return`${this.url}/_alllayers/${f}/${l}.bundle`;let c=m.variables.filter((e=>e.name===p.variableName))[0].dimensions[0].values.indexOf(p.values[0]).toString(16);const u=4-c.length;for(let t=0;t<u;t++)c=\"0\"+c;return c=\"S\"+c,`${this.url}/_alllayers/${p.variableName}/${c}/${f}/${l}.bundle`}_getIndexRecordFromBundle(e,t){const r=this.storageInfo.packetSize,o=r*(e%r)+t%r;if(o<0)throw\"Invalid level / row / col\";return 20+o*this.storageInfo.recordSize+44}_getTileEndAndContentType(e,t){const r=e.subarray(t,t+8);let o,i=0;for(o=0;o<5;o++)i|=(255&r[o])<<8*o;const s=0xffffffffff&i;for(i=0,o=5;o<8;o++)i|=(255&r[o])<<8*(o-5);return{position:s,recordSize:0xffffffffff&i}}_toHexString4(e){let t=e.toString(16);if(4!==t.length){let e=4-t.length;for(;e-- >0;)t=\"0\"+t}return t}};e([r({readOnly:!0})],x.prototype,\"storageInfo\",void 0),e([r({type:String,json:{write:!0}})],x.prototype,\"datasetFormat\",void 0),x=e([o(\"esri.layers.support.rasterDatasets.CloudRaster\")],x);var I=x;export default I;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{eachAlways as o}from\"../../../core/promiseUtils.js\";import a from\"../../../geometry/SpatialReference.js\";import m from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import n from\"../RasterInfo.js\";import{split as l,estimateStatisticsHistograms as p}from\"../rasterFunctions/pixelUtils.js\";import c from\"./BaseRaster.js\";let h=class extends c{constructor(){super(...arguments),this.datasetFormat=\"MEMORY\"}async open(t){var e;await this.init();const{pixelBlock:s,statistics:r,histograms:i,name:o,keyProperties:l,nativeExtent:p,transform:c}=this.data,{width:h,height:u,pixelType:d}=s,f=this.data.extent||new m({xmin:-.5,ymin:.5,xmax:h-.5,ymax:u-.5,spatialReference:new a({wkid:3857})}),y=null!=(e=this.data.isPseudoSpatialReference)?e:!this.data.extent,x={x:f.width/h,y:f.height/u},g=new n({width:h,height:u,pixelType:d,extent:f,nativeExtent:p,transform:c,pixelSize:x,spatialReference:f.spatialReference,bandCount:3,keyProperties:l||{},statistics:r,isPseudoSpatialReference:y,histograms:i});this.createRemoteDatasetStorageInfo(g,512,512),this._set(\"rasterInfo\",g),this.updateTileInfo(),await this._buildInMemoryRaster(s,{width:512,height:512},t),this.datasetName=o,this.url=\"/InMemory/\"+o}fetchRawTile(t,e,s,r={}){const i=this._pixelBlockTiles.get(`${t}/${e}/${s}`);return Promise.resolve(i)}async _buildInMemoryRaster(t,s,r){const a=this.rasterInfo.storageInfo.maximumPyramidLevel,m=this.rasterJobHandler?this.rasterJobHandler.split({pixelBlock:t,tileSize:s,maximumPyramidLevel:a},r):Promise.resolve(l(t,s,a)),n=e(this.rasterInfo.statistics),c=e(this.rasterInfo.histograms),h=n&&c?Promise.resolve({statistics:null,histograms:null}):this.rasterJobHandler?this.rasterJobHandler.estimateStatisticsHistograms({pixelBlock:t},r):Promise.resolve(p(t)),u=await o([m,h]);if(!u[0].value&&u[1].value)throw new i(\"inmemory-raster:open\",\"failed to build in memory raster\");var d,f;(this._pixelBlockTiles=u[0].value,n)||(this.rasterInfo.statistics=null==(d=u[1].value)?void 0:d.statistics);c&&(this.rasterInfo.histograms=null==(f=u[1].value)?void 0:f.histograms)}};t([s({type:String,json:{write:!0}})],h.prototype,\"datasetFormat\",void 0),t([s()],h.prototype,\"data\",void 0),h=t([r(\"esri.layers.support.rasterDatasets.InMemoryRaster\")],h);var u=h;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(e,t){if(!e||!t)return[];let l=t;t.indexOf(\"/\")>-1?(l=t.slice(0,t.indexOf(\"/\")),t=t.slice(t.indexOf(\"/\")+1)):t=\"\";const r=[];if(t){const u=n(e,l);for(let e=0;e<u.length;e++){n(u[e],t).forEach((n=>r.push(n)))}return r}const u=e.getElementsByTagNameNS(\"*\",l);if(!u||0===u.length)return[];for(let n=0;n<u.length;n++)r.push(u[n]||u.item[n]);return r}function e(t,l){if(!t||!l)return null;let r=l;l.indexOf(\"/\")>-1?(r=l.slice(0,l.indexOf(\"/\")),l=l.slice(l.indexOf(\"/\")+1)):l=\"\";const u=n(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),\"\"!==u&&r.push(u));return r}function r(n,e=null){const l=t(n,e);return null==l?void 0:l.split(\" \").map((n=>Number(n)))}function u(n,e){return l(n,e).map((n=>Number(n)))}function o(n,e){const l=t(n,e);return Number(l)}function i(n,e){var t;const l=null==n||null==(t=n.nodeName)?void 0:t.toLowerCase(),r=e.toLowerCase();return l.slice(l.lastIndexOf(\":\")+1)===r}function c(n){return n.nodeName.slice(n.nodeName.lastIndexOf(\":\")+1)}export{e as getElement,o as getElementNumericValue,u as getElementNumericValues,t as getElementValue,l as getElementValues,n as getElements,c as getNodeNameIgnoreNS,r as getSpaceDelimitedNumericValues,i as isSameTagIgnoreNS};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../geometry/SpatialReference.js\";import\"../../../geometry.js\";import t from\"../rasterTransforms/PolynomialTransform.js\";import{isSameTagIgnoreNS as n,getElementValue as a,getElements as r,getElement as s,getElementNumericValue as l,getElementNumericValues as i}from\"./xmlUtilities.js\";function o(e,t){if(!e||!t)return null;const n=[];for(let a=0;a<e.length;a++)n.push(e[a]),n.push(t[a]);return n}function u(e){var n;const r=s(e,\"GeodataXform\"),u=c(l(r,\"SpatialReference/WKID\")||a(r,\"SpatialReference/WKT\"));if(\"typens:PolynomialXform\"!==r.getAttribute(\"xsi:type\"))return{spatialReference:u,transform:null};const f=null!=(n=l(r,\"PolynomialOrder\"))?n:1,m=i(r,\"CoeffX/Double\"),d=i(r,\"CoeffY/Double\"),p=i(r,\"InverseCoeffX/Double\"),S=i(r,\"InverseCoeffY/Double\"),I=o(m,d),g=o(p,S);return{spatialReference:u,transform:new t({spatialReference:u,polynomialOrder:f,forwardCoefficients:I,inverseCoefficients:g})}}function f(e){var t;const n=l(e,\"NoDataValue\"),i=s(e,\"Histograms/HistItem\"),o=l(i,\"HistMin\"),u=l(i,\"HistMax\"),f=l(i,\"BucketCount\"),c=null==(t=a(i,\"HistCounts\"))?void 0:t.split(\"|\").map((e=>Number(e)));let m,d,p,S;r(e,\"Metadata/MDI\").forEach((e=>{var t;const n=Number(null!=(t=e.textContent)?t:e.nodeValue);switch(e.getAttribute(\"key\").toUpperCase()){case\"STATISTICS_MINIMUM\":m=n;break;case\"STATISTICS_MAXIMUM\":d=n;break;case\"STATISTICS_MEAN\":p=n;break;case\"STATISTICS_STDDEV\":S=n}}));const I=l(e,\"Metadata/SourceBandIndex\");return{noDataValue:n,histogram:null!=c&&c.length&&null!=m&&null!=d?{min:o,max:u,size:f||c.length,counts:c}:null,sourceBandIndex:I,statistics:null!=m&&null!=d?{min:m,max:d,avg:p,stddev:S}:null}}function c(t){if(!t)return null;let n=Number(t);if(!isNaN(n)&&0!==n)return new e({wkid:n});if(!(t=String(t)).startsWith(\"GEOGCS\")&&!t.startsWith(\"PROJCS\"))return null;const a=t.replace(/\\]/g,\"[\").replace(/\\\"/g,\"\").split(\"[\").map((e=>e.trim())).filter((e=>\"\"!==e)),r=a[a.length-1].split(\",\");return\"EPSG\"===r[0]&&t.endsWith('\"]]')&&(n=Number(r[1]),!isNaN(n)&&0!==n)?new e({wkid:n}):new e({wkt:t})}function m(e){var t;if(\"pamdataset\"!==(null==e||null==(t=e.documentElement.tagName)?void 0:t.toLowerCase()))return{};const s={spatialReference:null,transform:null,metadata:{},rasterBands:[],statistics:null,histograms:null};e.documentElement.childNodes.forEach((e=>{if(1===e.nodeType)if(n(e,\"SRS\")){if(!s.spatialReference){const t=a(e);s.spatialReference=c(t)}}else if(n(e,\"Metadata\"))if(\"xml:ESRI\"===e.getAttribute(\"domain\")){const{spatialReference:t,transform:n}=u(e);s.transform=n,s.spatialReference||(s.spatialReference=t)}else{r(e,\"MDI\").forEach((e=>s.metadata[e.getAttribute(\"key\")]=a(e)))}else if(n(e,\"PAMRasterBand\")){const t=f(e);null!=t.sourceBandIndex&&null==s.rasterBands[t.sourceBandIndex]?s.rasterBands[t.sourceBandIndex]=t:s.rasterBands.push(t)}}));const l=s.rasterBands;if(l){const e=!!l[0].statistics;s.statistics=e?l.map((e=>e.statistics)):null;const t=!!l[0].histogram;s.histograms=t?l.map((e=>e.histogram)):null}return s}export{m as parsePAMInfo,c as parseSpatialReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as r}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{eachAlways as a,createAbortError as i}from\"../../../core/promiseUtils.js\";import n from\"../../../geometry/SpatialReference.js\";import l from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import{getFormat as m}from\"../rasterFormats/RasterCodec.js\";import{estimateStatisticsFromHistograms as p}from\"../rasterFunctions/pixelUtils.js\";import c from\"./BaseRaster.js\";import f from\"../rasterTransforms/PolynomialTransform.js\";import u from\"./InMemoryRaster.js\";import{parsePAMInfo as h}from\"./pamParser.js\";let d=class extends c{async open(t){await this.init();const r=await this._fetchData(t);let{spatialReference:e,statistics:s,histograms:o,transform:a}=await this._fetchAuxiliaryData(t);const i=!e;i&&(e=new n({wkid:3857})),null!=o&&o.length&&null==s&&(s=p(o));const{width:m,height:c}=r;let f=new l({xmin:-.5,ymin:.5-c,xmax:m-.5,ymax:.5,spatialReference:e});const h=a?a.forwardTransform(f):f;let d=!0;if(a){const t=a.forwardCoefficients;d=t&&0===t[1]&&0===t[2],d&&(a=null,f=h)}const x=new u({data:{extent:h,nativeExtent:f,transform:a,pixelBlock:r,statistics:s,histograms:o,keyProperties:{DateType:\"Processed\"},isPseudoSpatialReference:i}});await x.open(),this._set(\"rasterInfo\",x.rasterInfo),this._inMemoryRaster=x}fetchRawTile(t,r,e,s={}){return this._inMemoryRaster.fetchRawTile(t,r,e,s)}async _fetchData(t){const{data:r}=await this.request(this.url,{responseType:\"array-buffer\",signal:null==t?void 0:t.signal}),e=m(r).toUpperCase();if(\"JPG\"!==e&&\"PNG\"!==e&&\"GIF\"!==e&&\"BMP\"!==e)throw new o(\"image-aux-raster:open\",\"the data is not a supported format\");this._set(\"datasetFormat\",e);return await this.decodePixelBlock(r,{format:\"jpg\",width:1,height:1,useCanvas:!0})}async _fetchAuxiliaryData(t){var e,s;const o=r(null==t?void 0:t.signal),n=null!=(e=this.ioConfig.skipExtensions)?e:[],l=n.indexOf(\"aux.xml\")>-1?null:this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:o}),m=this.datasetFormat,p=\"JPG\"===m?\"jgw\":\"PNG\"===m?\"pgw\":\"BMP\"===m?\"bpw\":null,c=n.indexOf(p)>-1?null:this.request(this.url.slice(0,this.url.lastIndexOf(\".\"))+\".\"+p,{responseType:\"text\",signal:o}),u=await a([l,c]);if(null!=o&&o.aborted)throw i();const d=h(null==(s=u[0].value)?void 0:s.data);if(!d.transform){const t=u[1].value?u[1].value.data.split(\"\\n\").slice(0,6).map((t=>Number(t))):null;d.transform=6===(null==t?void 0:t.length)?new f({forwardCoefficients:[t[4],t[5],t[0],-t[1],t[2],-t[3]]}):null}return d}};t([e({type:String,json:{write:!0}})],d.prototype,\"datasetFormat\",void 0),d=t([s(\"esri.layers.support.rasterDatasets.ImageAuxRaster\")],d);var x=d;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t,unwrap as i}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import l from\"../../../core/Error.js\";import{urlToObject as r}from\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import o from\"../../../geometry/SpatialReference.js\";import n from\"../../../geometry/Point.js\";import m from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import h from\"../../../tasks/support/FeatureSet.js\";import c from\"../TileInfo.js\";import{readServiceTileInfo as u}from\"../serviceTileInfoProperty.js\";import{TilemapCache as p}from\"../TilemapCache.js\";import f from\"../RasterInfo.js\";import{setValidBoundary as x}from\"../rasterFunctions/pixelUtils.js\";import d from\"../RasterStorageInfo.js\";import y from\"./BaseRaster.js\";let g=class extends y{constructor(){super(...arguments),this._levelOffset=0,this._slices=null,this._tilemapCache=null,this.datasetFormat=\"RasterTileServer\"}async open(e){await this.init();const i=e&&e.signal,s=this.sourceJSON?{data:this.sourceJSON}:await this.request(this.url,{query:{f:\"json\"},signal:i});s.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));const a=s.data;if(this.sourceJSON=a,!a)throw new l(\"imageserverraster:open\",\"cannot initialize tiled image service, missing service info\");if(!a.tileInfo)throw new l(\"imageserverraster:open\",\"use ImageryLayer to open non-tiled image services\");this._fixScaleInServiceInfo();const o=[\"jpg\",\"jpeg\",\"png\",\"png8\",\"png24\",\"png32\",\"mixed\"];this.tileType=a.cacheType,null==this.tileType&&(o.indexOf(a.tileInfo.format.toLowerCase())>-1?this.tileType=\"Map\":\"lerc\"===a.tileInfo.format.toLowerCase()?this.tileType=\"Elevation\":this.tileType=\"Raster\"),this.datasetName=a.name.slice(a.name.indexOf(\"/\")+1);const n=await this._fetchRasterInfo({signal:i});if(!t(n))throw new l(\"image-server-raster:open\",\"cannot initialize image service\");{const e=\"Map\"===this.tileType?u(a.tileInfo,a):c.fromJSON(a.tileInfo),{extent:t,pixelSize:i}=n,s=.5/n.width*i.x;let l,r;const o=e.lodAt(Math.max.apply(null,e.lods.map((e=>e.level))));\"Map\"!==this.tileType&&0!==a.maxScale&&(\"Raster\"===this.tileType?(l=e.lods.filter((e=>e.resolution===i.x))[0],l||(l=e.lods[e.lods.length-1])):(l=e.lods.filter((e=>Math.abs(e.scale-a.maxScale)<s))[0],l||(l=e.lods.filter((e=>e.scale>a.maxScale)).sort(((e,t)=>e.scale>t.scale?1:-1))[0])),i.x=i.y=l.resolution,n.width=Math.ceil((t.xmax-t.xmin)/i.x-.1),n.height=Math.ceil((t.ymax-t.ymin)/i.y-.1)),l||(l=o);const m=e.lodAt(Math.min.apply(null,e.lods.map((e=>e.level))));\"Map\"===this.tileType?this._levelOffset=e.lods[0].level:0!==a.minScale&&\"Elevation\"===this.tileType&&(r=e.lods.filter((e=>Math.abs(e.scale-a.minScale)<s))[0],this._levelOffset=r.level-m.level),r||(r=m);const h=Math.max(i.x,i.y);(Math.abs(i.x-i.y)>s||!e.lods.some((e=>Math.abs(e.resolution-h)<s)))&&(i.x=i.y=l.resolution,n.width=Math.ceil((t.xmax-t.xmin)/i.x-.1),n.height=Math.ceil((t.ymax-t.ymin)/i.y-.1));const p=l.level-r.level,[f,x]=e.size,y=e.origin;let{x:g,y:v}=i;const S=[{minCol:Math.floor((t.xmin-y.x+.1*g)/f/g),maxCol:Math.floor((t.xmax-y.x-.1*g)/f/g),minRow:Math.floor((y.y-t.ymax+.1*v)/x/v),maxRow:Math.floor((y.y-t.ymin-.1*v)/x/v)}];if(p>0)for(let a=0;a<p;a++)g*=2,v*=2,S.push({minCol:Math.floor((t.xmin-y.x+.1*g)/f/g),maxCol:Math.floor((t.xmax-y.x-.1*g)/f/g),minRow:Math.floor((y.y-t.ymax+.1*v)/x/g),maxRow:Math.floor((y.y-t.ymin-.1*v)/x/g)});n.storageInfo=new d({blockWidth:e.size[0],blockHeight:e.size[1],pyramidBlockWidth:e.size[0],pyramidBlockHeight:e.size[1],compression:e.format,origin:e.origin,firstPyramidLevel:1,maximumPyramidLevel:p,tileInfo:e,blockBoundary:S}),this._set(\"rasterInfo\",n)}if(a.capabilities.toLowerCase().indexOf(\"tilemap\")>-1){const e={tileInfo:n.storageInfo.tileInfo,parsedUrl:r(this.url),url:this.url,tileServers:[],type:\"tile\"};this._tilemapCache=new p({layer:e})}}async fetchRawTile(e,t,i,s={}){const{storageInfo:a,extent:l,pixelSize:r}=this.rasterInfo,o=a.maximumPyramidLevel-e+this._levelOffset,n=`${this.url}/tile/${o}/${t}/${i}`,m=this._slices?{sliceId:s.sliceId||0}:null,{data:h}=await this.request(n,{query:m,responseType:\"array-buffer\",signal:s.signal});if(!h)return null;const c=await this.decodePixelBlock(h,{width:a.tileInfo.size[0],height:a.tileInfo.size[1],planes:null,pixelType:null,isPoint:\"Elevation\"===this.tileType}),u=a.blockBoundary[e];if(\"jpg\"!==a.compression||i>u.minCol&&i<u.maxCol&&t>u.minRow&&t<u.maxRow)return c;const{origin:p,blockWidth:f,blockHeight:d}=a,y=2**e,g=Math.round((l.xmin-p.x)/(r.x*y))%f,v=Math.round((l.xmax-p.x)/(r.x*y))%f,S=Math.round((p.y-l.ymax)/(r.x*y))%d,w=Math.round((p.y-l.ymin)/(r.x*y))%d,I=i===u.minCol?g:0,j=t===u.minRow?S:0,b=i===u.maxCol?v:f,M=t===u.maxRow?w:d;return x(c,{x:I,y:j},{width:b-I,height:M-j}),c}getSliceIndex(e){if(null==e||!e.length||!this._slices)return null;const t=e;for(let i=0;i<this._slices.length;i++){const e=this._slices[i].multidimensionalDefinition;if(e.length===t.length&&!e.some((e=>{const i=t.filter((t=>e.variableName===t.variableName&&t.dimensionName===e.dimensionName))[0];if(!i)return!0;return(Array.isArray(e.values[0])?e.values[0][0]:e.values[0])!==(Array.isArray(i.values[0])?i.values[0][0]:i.values[0])})))return i}return null}async fetchVariableStatisticsHistograms(e,t){const i=this.request(this.url+\"/statistics\",{query:{variable:e,f:\"json\"},signal:t}).then((e=>{var t;return null==(t=e.data)?void 0:t.statistics})),s=this.request(this.url+\"/histograms\",{query:{variable:e,f:\"json\"},signal:t}).then((e=>{var t;return null==(t=e.data)?void 0:t.histograms})),a=await Promise.all([i,s]);return a[0]&&a[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),{statistics:a[0]||null,histograms:a[1]||null}}async computeBestPyramidLevelForLocation(e,t={}){if(!this._tilemapCache)return 0;let s=this.identifyPixelLocation(e,0,i(t.datumTransformation));if(null===s)return null;let a=0;const{maximumPyramidLevel:l}=this.rasterInfo.storageInfo;let r=l-a+this._levelOffset;const o=s.srcLocation;for(;r>=0;){try{if(\"available\"===await this._tilemapCache.fetchAvailability(r,s.row,s.col,t))break}catch{}if(r--,a++,s=this.identifyPixelLocation(o,a,i(t.datumTransformation)),null===s)return null}return-1===r||null==s?null:a}async _fetchRasterInfo(e){const t=this.sourceJSON,i=Math.ceil((t.extent.xmax-t.extent.xmin)/t.pixelSizeX-.1),s=Math.ceil((t.extent.ymax-t.extent.ymin)/t.pixelSizeY-.1),a=o.fromJSON(t.spatialReference||t.extent.spatialReference);if(\"Map\"===this.tileType)return new f({width:i,height:s,bandCount:3,extent:m.fromJSON(t.extent),spatialReference:a,pixelSize:new n({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:a}),pixelType:\"u8\",statistics:null,keyProperties:{DataType:\"processed\"}});const{slice:l,signal:r}=e,c=!!t.hasRasterAttributeTable&&this.request(this.url+\"/rasterAttributeTable\",{query:{slice:l,f:\"json\"},signal:r}).then((e=>h.fromJSON(e.data))).catch((()=>null)),u=!!t.hasColormap&&this.request(this.url+\"/colormap\",{query:{slice:l,f:\"json\"},signal:r}).then((e=>{var t;return null==(t=e.data)?void 0:t.colormap})),p=!!t.hasHistograms&&this.request(this.url+\"/histograms\",{query:{slice:l,f:\"json\"},signal:r}).then((e=>{var t;return null==(t=e.data)?void 0:t.histograms})),x=this.request(this.url+\"/keyProperties\",{query:{f:\"json\"},signal:r}).then((e=>e.data)).catch((()=>{})),d=!!t.hasMultidimensions&&this._fetchMultidimensionalInfo(),y=!!t.hasMultidimensions&&this.request(this.url+\"/slices\",{query:{f:\"json\"},signal:r}).then((e=>e.data&&e.data.slices)).catch((()=>{}));return Promise.all([c,u,p,x,d,y]).then((e=>{let l=null;if(t.minValues&&t.minValues.length===t.bandCount){l=[];for(let e=0;e<t.minValues.length;e++)l.push({min:t.minValues[e],max:t.maxValues[e],avg:t.meanValues[e],stddev:t.stdvValues[e]})}return this._slices=e[5]||null,new f({width:i,height:s,bandCount:t.bandCount,extent:m.fromJSON(t.extent),spatialReference:a,pixelSize:new n({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:a}),pixelType:t.pixelType.toLowerCase(),statistics:l,attributeTable:e[0]||null,colormap:e[1]||null,histograms:e[2]||null,keyProperties:e[3]||{},multidimensionalInfo:e[4]||null})}))}async _fetchMultidimensionalInfo(e){var t;const i=await this.request(this.url+\"/multidimensionalInfo\",{query:{f:\"json\"},signal:e}).then((e=>{var t;return null==(t=e.data)?void 0:t.multidimensionalInfo}));return null!=(t=i.variables)&&t.length&&i.variables.forEach((e=>{var t;null!=(t=e.statistics)&&t.length&&e.statistics.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation}))})),i}_fixScaleInServiceInfo(){const{sourceJSON:e}=this;e.minScale&&e.minScale<0&&(e.minScale=0),e.maxScale&&e.maxScale<0&&(e.maxScale=0)}};e([s({type:String,json:{write:!0}})],g.prototype,\"datasetFormat\",void 0),e([s()],g.prototype,\"tileType\",void 0),g=e([a(\"esri.layers.support.rasterDatasets.ImageServerRaster\")],g);var v=g;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as e,isSome as r}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../geometry/SpatialReference.js\";import n from\"../../../geometry/Point.js\";import l from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import p from\"../PixelBlock.js\";import c from\"../RasterInfo.js\";import{isPlatformLittleEndian as f}from\"../rasterFormats/utils.js\";import{estimateStatisticsFromHistograms as m}from\"../rasterFunctions/pixelUtils.js\";import h from\"../RasterStorageInfo.js\";import u from\"./BaseRaster.js\";import{getElement as g,getElementValue as d}from\"./xmlUtilities.js\";import{parseSpatialReference as y,parsePAMInfo as x}from\"./pamParser.js\";const w=new Map;w.set(\"Int8\",\"s8\"),w.set(\"UInt8\",\"u8\"),w.set(\"Int16\",\"s16\"),w.set(\"UInt16\",\"u16\"),w.set(\"Int32\",\"s32\"),w.set(\"UInt32\",\"u32\"),w.set(\"Float32\",\"f32\"),w.set(\"Float64\",\"f32\"),w.set(\"Double64\",\"f32\");const I=new Map;I.set(\"lerc\",\".lrc\"),I.set(\"none\",\".til\"),I.set(\"deflate\",\".pzp\"),I.set(\"jpeg\",\".jzp\");let b=class extends u{constructor(){super(...arguments),this._files=null,this._storageIndex=null,this.datasetFormat=\"MRF\"}async open(t){var s;await this.init(),this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const o=t?e(t.signal):null,i=await this.request(this.url,{responseType:\"xml\",signal:o}),{rasterInfo:a,files:n}=this._parseHeader(i.data);if(-1===(null==(s=this.ioConfig.skipExtensions)?void 0:s.indexOf(\"aux.xml\"))){const e=await this._fetchAuxiliaryData(t);var l;if(null!=e)a.statistics=null!=(l=e.statistics)?l:a.statistics,a.histograms=e.histograms,e.histograms&&!r(a.statistics)&&(a.statistics=m(e.histograms))}this._set(\"rasterInfo\",a),this._files=n;const p=await this.request(n.index,{responseType:\"array-buffer\",signal:o});this._storageIndex=this._parseIndex(p.data);let c,f,h=0,u=-1;const{blockWidth:g,blockHeight:d,compression:y}=this.rasterInfo.storageInfo,x=this.rasterInfo.storageInfo.pyramidScalingFactor,{width:w,height:I,bandCount:b}=this.rasterInfo,A=[],j=\"none\"===y?1:b;for(;h<this._storageIndex.length;)u++,c=Math.ceil(w/g/x**u),f=Math.ceil(I/d/x**u),h+=c*f*j*4,A.push({maxRow:f,maxCol:c,minCol:0,minRow:0});this.rasterInfo.storageInfo.blockBoundary=A,u>0&&(this.rasterInfo.storageInfo.firstPyramidLevel=1,this.rasterInfo.storageInfo.maximumPyramidLevel=u),this.updateTileInfo()}async fetchRawTile(t,e,r,s={}){const{blockWidth:o,blockHeight:i,blockBoundary:a,compression:n}=this.rasterInfo.storageInfo,l=a[t];if(!l||l.maxRow<e||l.maxCol<r||l.minRow>e||l.minCol>r)return null;const{bandCount:c,pixelType:f}=this.rasterInfo,{ranges:m,actualTileWidth:h,actualTileHeight:u}=this._getTileLocation(t,e,r);if(!m||0===m.length)return null;if(0===m[0].from&&0===m[0].to){const t=new Uint8Array(o*i);return new p({width:o,height:i,pixels:null,mask:t,validPixelCount:0})}const{bandIds:g}=this.ioConfig,d=\"none\"===n?1:c,y=[];let x=0;for(x=0;x<d;x++)(!g||g.indexOf[x]>-1)&&y.push(this.request(this._files.data,{range:{from:m[x].from,to:m[x].to},responseType:\"array-buffer\",signal:s.signal}));const w=await Promise.all(y),I=w.map((t=>t.data.byteLength)).reduce(((t,e)=>t+e)),b=new Uint8Array(I);let A=0;for(x=0;x<d;x++)b.set(new Uint8Array(w[x].data),A),A+=w[x].data.byteLength;const j=\"lerc\"===this.rasterInfo.storageInfo.compression?\"lerc\":\"bip\",R=await this.decodePixelBlock(b.buffer,{width:o,height:i,format:j,pixelType:f});let _=0,F=0;if(h!==o||u!==i){let t=R.mask;if(t)for(x=0;x<i;x++)if(F=x*o,x<u)for(_=h;_<o;_++)t[F+_]=0;else for(_=0;_<o;_++)t[F+_]=0;else for(t=new Uint8Array(o*i),R.mask=t,x=0;x<u;x++)for(F=x*o,_=0;_<h;_++)t[F+_]=1}return R}_parseIndex(t){if(t.byteLength%16>0)throw\"invalid array buffer must be multiples of 16\";let e,r,s,o,i,a;if(f){for(r=new Uint8Array(t),o=new ArrayBuffer(t.byteLength),s=new Uint8Array(o),i=0;i<t.byteLength/4;i++)for(a=0;a<4;a++)s[4*i+a]=r[4*i+3-a];e=new Uint32Array(o)}else e=new Uint32Array(t);return e}_getTileLocation(t,e,r){const{blockWidth:s,blockHeight:o,pyramidScalingFactor:i,compression:a}=this.rasterInfo.storageInfo,{width:n,height:l,bandCount:p}=this.rasterInfo,c=\"none\"===a?1:p;let f,m,h,u=0,g=0;for(h=0;h<t;h++)g=i**h,f=Math.ceil(n/s/g),m=Math.ceil(l/o/g),u+=f*m;g=i**t,f=Math.ceil(n/s/g),m=Math.ceil(l/o/g),u+=e*f+r,u*=4*c;const d=this._storageIndex.subarray(u,u+4*c);let y=0,x=0;const w=[];for(let I=0;I<c;I++)y=d[4*I+0]*2**32+d[4*I+1],x=y+d[4*I+2]*2**32+d[4*I+3],w.push({from:y,to:x});return{ranges:w,actualTileWidth:r<f-1?s:Math.ceil(n/g)-s*(f-1),actualTileHeight:e<m-1?o:Math.ceil(l/g)-o*(m-1)}}_parseHeader(t){const e=g(t,\"MRF_META/Raster\");if(!e)throw new i(\"mrf:open\",\"not a valid MRF format\");const r=g(e,\"Size\"),s=parseInt(r.getAttribute(\"x\"),10),o=parseInt(r.getAttribute(\"y\"),10),p=parseInt(r.getAttribute(\"c\"),10),f=(d(e,\"Compression\")||\"none\").toLowerCase();if(!f||-1===[\"none\",\"lerc\"].indexOf(f))throw new i(\"mrf:open\",\"currently does not support compression \"+f);const m=d(e,\"DataType\")||\"UInt8\",u=w.get(m);if(null==u)throw new i(\"mrf:open\",\"currently does not support pixel type \"+m);const x=g(e,\"PageSize\"),b=parseInt(x.getAttribute(\"x\"),10),A=parseInt(x.getAttribute(\"y\"),10),j=g(e,\"DataValues\");let R,_;j&&(_=j.getAttribute(\"NoData\"),null!=_&&(R=_.trim().split(\" \").map((t=>parseFloat(t)))));if(g(t,\"MRF_META/CachedSource\"))throw new i(\"mrf:open\",\"currently does not support MRF referencing other data files\");const F=g(t,\"MRF_META/GeoTags\"),M=g(F,\"BoundingBox\");if(null==M)throw new i(\"mrf:open\",\"missing node MRF_META/GeoTags/BoundingBox\");const T=parseFloat(M.getAttribute(\"minx\")),k=parseFloat(M.getAttribute(\"miny\")),C=parseFloat(M.getAttribute(\"maxx\")),U=parseFloat(M.getAttribute(\"maxy\")),L=d(F,\"Projection\")||\"\",S=d(t,\"datafile\"),v=d(t,\"IndexFile\");let B;if(\"LOCAL_CS[]\"!==L)if(L.toLowerCase().startsWith(\"epsg:\")){const t=Number(L.slice(5));isNaN(t)||0===t||(B=new a({wkid:t}))}else B=y(L);const P=new l(T,k,C,U);P.spatialReference=B;const E=g(t,\"MRF_META/Rsets\"),H=parseInt(E&&E.getAttribute(\"scale\")||\"2\",10),W=new h({origin:new n({x:P.xmin,y:P.ymax,spatialReference:B}),blockWidth:b,blockHeight:A,pyramidBlockWidth:b,pyramidBlockHeight:A,compression:f,pyramidScalingFactor:H}),D=new n({x:(C-T)/s,y:(U-k)/o,spatialReference:B});return{rasterInfo:new c({width:s,height:o,extent:P,spatialReference:B,bandCount:p,pixelType:u,pixelSize:D,noDataValue:R,storageInfo:W}),files:{mrf:this.url,index:v||this.url.replace(\".mrf\",\".idx\"),data:S||this.url.replace(\".mrf\",I.get(f))}}}async _fetchAuxiliaryData(t){try{const{data:e}=await this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:null==t?void 0:t.signal});return x(e)}catch{return null}}};t([s()],b.prototype,\"_files\",void 0),t([s()],b.prototype,\"_storageIndex\",void 0),t([s({type:String,json:{write:!0}})],b.prototype,\"datasetFormat\",void 0),b=t([o(\"esri.layers.support.rasterIO.MRFRaster\")],b);var A=b;export default A;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as t,isSome as r}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import o from\"../../../geometry/Point.js\";import n from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import f from\"../RasterInfo.js\";import l from\"../rasterFormats/TiffTags.js\";import{parseSignature as u,getImageInfo as m,parseIFD as p,parseFieldValues as c}from\"../rasterFormats/TiffDecoder.js\";import{estimateStatisticsFromHistograms as h}from\"../rasterFunctions/pixelUtils.js\";import d from\"../RasterStorageInfo.js\";import y from\"./BaseRaster.js\";import g from\"../rasterTransforms/PolynomialTransform.js\";import{parsePAMInfo as x}from\"./pamParser.js\";const T=function(e,t){const r=e.get(t);return r&&r.values},I=function(e,t){const r=e.get(t);return r&&r.values[0]};let w=class extends y{constructor(){super(...arguments),this._files=null,this._headerInfo=null,this._bufferSize=1048576,this.datasetFormat=\"TIFF\"}async open(e){var i;await this.init();const s=e?t(e.signal):null,{data:l}=await this.request(this.url,{range:{from:0,to:this._bufferSize},responseType:\"array-buffer\",signal:s});if(!l)throw new a(\"tiffraster:open\",\"failed to open url \"+this.url);this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const{littleEndian:p,firstIFD:c,isBigTiff:y}=u(l),x=[];await this.readIFDs(x,l,p,c,0,y?8:4,s);const T=m(x),{width:I,height:w,tileWidth:E,tileHeight:F,planes:S,pixelType:v,compression:b,firstPyramidLevel:_,maximumPyramidLevel:j,pyramidBlockWidth:R,pyramidBlockHeight:B,tileBoundary:D,affine:k,metadata:L}=T,O=n.fromJSON(T.extent),z=O.spatialReference,H=new o(O?{x:O.xmin,y:O.ymax,spatialReference:z}:{x:0,y:0}),P=new d({blockWidth:E,blockHeight:F,pyramidBlockWidth:R,pyramidBlockHeight:B,compression:b,origin:H,firstPyramidLevel:_,maximumPyramidLevel:j,blockBoundary:D}),G=new o({x:(O.xmax-O.xmin)/I,y:(O.ymax-O.ymin)/w,spatialReference:z}),q=L?{BandProperties:L.bandProperties,DataType:L.dataType}:{},W=new f({width:I,height:w,bandCount:S,pixelType:v,compression:b,pixelSize:G,storageInfo:P,spatialReference:z,keyProperties:q,extent:O,statistics:L?L.statistics:null});if(null!=k&&k.length&&(W.nativeExtent=new n({xmin:-.5,ymin:.5-w,xmax:I-.5,ymax:.5,spatialReference:z}),W.transform=new g({polynomialOrder:1,forwardCoefficients:[k[2]+k[0]/2,k[5]-k[3]/2,k[0],k[3],-k[1],-k[4]]}),W.extent=W.transform.forwardTransform(W.nativeExtent),W.pixelSize=new o({x:(O.xmax-O.xmin)/I,y:(O.ymax-O.ymin)/w,spatialReference:z}),P.origin.x=-.5,P.origin.y=.5),null==(i=this.ioConfig.skipExtensions)||!i.includes(\"aux.xml\")){const t=await this._fetchAuxiliaryData(e);if(null!=t){var C;if(W.statistics=null!=(C=t.statistics)?C:W.statistics,W.histograms=t.histograms,t.histograms&&!r(W.statistics)&&(W.statistics=h(t.histograms)),t.transform&&!k){W.transform=t.transform,W.nativeExtent=W.extent;const e=W.transform.forwardTransform(W.nativeExtent);W.pixelSize=new o({x:(e.xmax-e.xmin)/I,y:(e.ymax-e.ymin)/w,spatialReference:z}),W.extent=e}W.spatialReference||(W.spatialReference=t.spatialReference)}}if(this._set(\"rasterInfo\",W),this._headerInfo={littleEndian:p,isBigTiff:y,ifds:x,...T},!this._headerInfo.isSupported)throw new a(\"tiffraster:open\",\"this tiff is not supported: \"+this._headerInfo.message);this.updateTileInfo()}async fetchRawTile(e,t,r,i={}){var s;if(null==(s=this._headerInfo)||!s.isSupported||this.isBlockOutside(e,t,r))return null;const a=this.getTileLocation(e,t,r);if(!a)return null;const{range:o,actualTileWidth:n,actualTileHeight:f,ifd:l}=a,{data:u}=await this.request(this.url,{range:o,responseType:\"array-buffer\",signal:i.signal}),{blockWidth:m,blockHeight:p}=this.getBlockWidthHeight(e),c=await this.decodePixelBlock(u,{format:\"tiff\",customOptions:{headerInfo:this._headerInfo,ifd:l,offset:0,size:0},width:m,height:p,planes:null,pixelType:null});let h,d,y;if(n!==m||f!==p){let e=c.mask;if(e)for(h=0;h<p;h++)if(y=h*m,h<f)for(d=n;d<m;d++)e[y+d]=0;else for(d=0;d<m;d++)e[y+d]=0;else for(e=new Uint8Array(m*p),c.mask=e,h=0;h<f;h++)for(y=h*m,d=0;d<n;d++)e[y+d]=1}return c}async readIFDs(e,t,r,i,s,a=4,o){if(!i)return null;if(i>=t.byteLength||i<0){t=(await this.request(this.url,{range:{from:i+s,to:i+s+this._bufferSize},responseType:\"array-buffer\",signal:o})).data,s=i+s,i=0}const n=await this.readIFD(t,r,i,s,l.TIFF_TAGS,a,o);if(e.push(n.ifd),!n.nextIFD)return null;await this.readIFDs(e,t,r,n.nextIFD-s,s,a,o)}async readIFD(e,t,r,i,s=l.TIFF_TAGS,a=4,o){if(!e)return null;const n=p(e,t,r,i,s,a);if(n.success){const r=[];if(n.ifd.forEach((e=>{e.values||r.push(e)})),r.length>0){const s=r.map((e=>e.offlineOffsetSize)),a=Math.min.apply(null,s.map((e=>e[0])));if(Math.min.apply(null,s.map((e=>e[0]+e[1])))-a<=this._bufferSize){const{data:s}=await this.request(this.url,{range:{from:a,to:a+this._bufferSize},responseType:\"array-buffer\",signal:o});e=s,i=a,r.forEach((r=>c(e,t,r,i)))}}if(n.ifd.has(\"GEOKEYDIRECTORY\")){const r=n.ifd.get(\"GEOKEYDIRECTORY\"),s=r.values;if(s&&s.length>4){const a=s[0]+\".\"+s[1]+\".\"+s[2],n=await this.readIFD(e,t,r.valueOffset+6-i,i,l.GEO_KEYS,2,o);r.data=n.ifd,r.data&&r.data.set(\"GEOTIFFVersion\",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}return n}if(n.requiredBufferSize&&n.requiredBufferSize!==e.byteLength){const r=await this.request(this.url,{range:{from:i,to:i+n.requiredBufferSize+4},responseType:\"array-buffer\",signal:o});return(e=r.data).byteLength<n.requiredBufferSize?null:this.readIFD(e,t,0,i,l.TIFF_TAGS,4,o)}}getTileLocation(e,t,r){const{firstPyramidLevel:i,blockBoundary:s}=this.rasterInfo.storageInfo,a=0===e?0:e-(i-1),o=this._headerInfo.ifds[a];if(!o)return null;const n=T(o,\"TILEOFFSETS\");if(void 0===n)return null;const f=T(o,\"TILEBYTECOUNTS\"),{minRow:l,minCol:u,maxRow:m,maxCol:p}=s[a];if(t>m||r>p||t<l||r<u)return null;const c=I(o,\"IMAGEWIDTH\"),h=I(o,\"IMAGELENGTH\"),d=I(o,\"TILEWIDTH\"),y=I(o,\"TILELENGTH\"),g=t*(p+1)+r,x=n[g],w=f[g];if(null==x||null==w)return null;return{range:{from:x,to:x+w-1},ifd:o,actualTileWidth:r===p?c%d:d,actualTileHeight:t===m?h%y:y}}async _fetchAuxiliaryData(e){try{const{data:t}=await this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:null==e?void 0:e.signal});return x(t)}catch{return null}}};e([i()],w.prototype,\"_files\",void 0),e([i()],w.prototype,\"_headerInfo\",void 0),e([i()],w.prototype,\"_bufferSize\",void 0),e([i({type:String,json:{write:!0}})],w.prototype,\"datasetFormat\",void 0),w=e([s(\"esri.layers.support.rasterDatasets.TIFFRaster\")],w);var E=w;export default E;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Error.js\";import r from\"./CloudRaster.js\";import e from\"./ImageAuxRaster.js\";import s from\"./ImageServerRaster.js\";import o from\"./MRFRaster.js\";import a from\"./TIFFRaster.js\";const c=new Map;c.set(\"CRF\",{desc:\"Cloud Raster Format\",constructor:r}),c.set(\"MRF\",{desc:\"Meta Raster Format\",constructor:o}),c.set(\"TIFF\",{desc:\"GeoTIFF\",constructor:a}),c.set(\"RasterTileServer\",{desc:\"Raster Tile Server\",constructor:s}),c.set(\"JPG\",{desc:\"JPG Raster Format\",constructor:e}),c.set(\"PNG\",{desc:\"PNG Raster Format\",constructor:e}),c.set(\"GIF\",{desc:\"GIF Raster Format\",constructor:e}),c.set(\"BMP\",{desc:\"BMP Raster Format\",constructor:e});class n{static get supportedFormats(){const t=new Set;return c.forEach(((r,e)=>t.add(e))),t}static async open(r){const{url:e,ioConfig:s,sourceJSON:o}=r;let a=r.datasetFormat;null==a&&e.lastIndexOf(\".\")&&(a=e.slice(e.lastIndexOf(\".\")+1).toUpperCase()),\"OVR\"===a||\"TIF\"===a?a=\"TIFF\":\"JPG\"!==a&&\"JPEG\"!==a&&\"JFIF\"!==a||(a=\"JPG\"),e.toLowerCase().indexOf(\"/imageserver\")>-1&&-1===e.toLowerCase().indexOf(\"/wcsserver\")&&(a=\"RasterTileServer\");const n={url:e,sourceJSON:o,datasetFormat:a,ioConfig:s||{bandIds:null,sampling:null}};let i,u;if(this.supportedFormats.has(a))return i=c.get(a).constructor,u=new i(n),await u.open({signal:r.signal}),u;if(a)throw new t(\"rasterfactory:open\",\"not a supported format \"+a);const l=Array.from(c.keys());let m=0;const F=function(){return a=l[m++],a?(i=c.get(a).constructor,u=new i(n),u.open({signal:r.signal}).then((()=>u)).catch((()=>F()))):null};return F()}static register(t,r,e){c.has(t.toUpperCase())||c.set(t.toUpperCase(),{desc:r,constructor:e})}}export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as r}from\"../core/maybe.js\";import\"../core/Logger.js\";import{Integer as t}from\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{strict as i}from\"../core/jsonMap.js\";import{enumeration as s}from\"../core/accessorSupport/decorators/enumeration.js\";import{reader as a}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import p from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import l from\"../PopupTemplate.js\";import d from\"./Layer.js\";import{MultiOriginJSONMixin as u}from\"../core/MultiOriginJSONSupport.js\";import{legendEnabled as m}from\"./support/commonProperties.js\";import{OperationalLayer as c}from\"./mixins/OperationalLayer.js\";import{read as y,rasterRendererTypes as h,websceneRasterRendererTypes as f}from\"../rasterRenderers.js\";import g from\"./support/Field.js\";import{BlendLayer as v}from\"./mixins/BlendLayer.js\";import{PortalLayer as j}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as S}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as b}from\"./mixins/ScaleRangeLayer.js\";import{createPopupTemplate as P}from\"../support/popupUtils.js\";import{ImageryTileMixin as w}from\"./mixins/ImageryTileMixin.js\";import T from\"./support/rasterDatasets/RasterFactory.js\";const R=i()({RSP_NearestNeighbor:\"nearest\",RSP_BilinearInterpolation:\"bilinear\",RSP_CubicConvolution:\"cubic\",RSP_Majority:\"majority\"});function I(){return{enabled:!this.loaded||\"RasterTileServer\"===this.raster.datasetFormat&&\"Raster\"===this.raster.tileType}}let O=class extends(v(b(S(c(j(w(u(d)))))))){constructor(...e){super(...e),this.bandIds=null,this.interpolation=null,this.legendEnabled=!0,this.isReference=null,this.listMode=\"show\",this.sourceJSON=null,this.version=null,this.title=null,this.type=\"imagery-tile\",this.operationalLayerType=\"ArcGISTiledImageServiceLayer\",this.popupEnabled=!0,this.popupTemplate=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const t=r(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"]},e).then((()=>this._openRaster(t)),(()=>this._openRaster(t)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get fields(){var e,r;let t=[new g({name:\"Raster.ServicePixelValue\",alias:\"Pixel Value\",domain:null,editable:!1,length:50,type:\"string\"})];const o=null==(e=this.rasterInfo)||null==(r=e.attributeTable)?void 0:r.fields,i=\"Raster.\";if(o){const e=o.filter((e=>\"oid\"!==e.type&&\"value\"!==e.name.toLowerCase())).map((e=>{const r=e.clone();return r.name=i+e.name,r}));t=t.concat(e)}return t}set renderer(e){this._set(\"renderer\",e),this.updateRenderer()}readRenderer(e,r,t){const o=r&&r.layerDefinition&&r.layerDefinition.drawingInfo&&r.layerDefinition.drawingInfo.renderer,i=y(o,t)||void 0;if(null!=i)return i}createPopupTemplate(e){return P(this,e)}write(e,r){const{raster:t}=this;if(this.loaded?\"RasterTileServer\"===t.datasetFormat&&(\"Raster\"===t.tileType||\"Map\"===t.tileType):this.url&&/\\/ImageServer(\\/|\\/?$)/i.test(this.url))return super.write(e,r);if(r&&r.messages){const e=`${r.origin}/${r.layerContainerType||\"operational-layers\"}`;r.messages.push(new p(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}async _openRaster(e){this.raster?(this.raster.rasterInfo||await this.raster.open(),this.url=this.raster.url):this.raster=await T.open({url:this.url,sourceJSON:this.sourceJSON,ioConfig:this.ioConfig,signal:e});const{rasterInfo:r}=this.raster;if(!r)throw new p(\"imagery-tile-layer:load\",\"cannot load resources on \"+this.url);this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON&&(this._set(\"version\",this.sourceJSON.currentVersion),this._set(\"copyright\",this.sourceJSON.copyrightText)),null==this.title&&(this.title=this.raster.datasetName),\"Map\"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings()}};e([o({type:[t],json:{write:{overridePolicy:I}}})],O.prototype,\"bandIds\",void 0),e([o({json:{write:{overridePolicy:I}}}),s(R)],O.prototype,\"interpolation\",void 0),e([o({json:{write:!0}})],O.prototype,\"multidimensionalDefinition\",void 0),e([o(m)],O.prototype,\"legendEnabled\",void 0),e([o({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],O.prototype,\"isReference\",void 0),e([o({type:[\"show\",\"hide\"]})],O.prototype,\"listMode\",void 0),e([o()],O.prototype,\"sourceJSON\",void 0),e([o({readOnly:!0})],O.prototype,\"version\",void 0),e([o()],O.prototype,\"title\",void 0),e([o({readOnly:!0,json:{read:!1}})],O.prototype,\"type\",void 0),e([o({type:[\"ArcGISTiledImageServiceLayer\"]})],O.prototype,\"operationalLayerType\",void 0),e([o({type:Boolean,value:!0,json:{read:{source:\"disablePopup\",reader:(e,r)=>!r.disablePopup},write:{target:\"disablePopup\",overridePolicy:I,writer(e,r,t){r[t]=!e}}}})],O.prototype,\"popupEnabled\",void 0),e([o({type:l,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\",overridePolicy:I}}})],O.prototype,\"popupTemplate\",void 0),e([o({readOnly:!0})],O.prototype,\"defaultPopupTemplate\",null),e([o({readOnly:!0,type:[g]})],O.prototype,\"fields\",null),e([o({types:h,json:{name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:I},origins:{\"web-scene\":{types:f,name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:e=>({enabled:e&&\"vector-field\"!==e.type})}}}}})],O.prototype,\"renderer\",null),e([a(\"renderer\")],O.prototype,\"readRenderer\",null),O=e([n(\"esri.layers.ImageryTileLayer\")],O);var x=O;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../geometry/Point.js\";import\"../../../geometry.js\";import n from\"./EphemeralBlockCache.js\";import{projectExtent as o,projectResolution as r,snapPyramid as l}from\"../rasterFunctions/rasterProjectionHelper.js\";const c=new Map,a=new n;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(n,c,a,i,s,u,f=null){const h=y(n,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const n=g[y];if(n.xmax-n.xmin<=i||n.ymax-n.ymin<=i)continue;let c=o(n,p,f);e(k)&&(c=k.inverseTransform(c));const a=new t({x:i,y:i,spatialReference:n.spatialReference});if(null==s&&!(s=r(a,p,n,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=l(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n"],"sourceRoot":""}