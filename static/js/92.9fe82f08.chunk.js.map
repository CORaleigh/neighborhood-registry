{"version":3,"sources":["../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/tileUtils.js","../node_modules/@arcgis/core/views/2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js","../node_modules/@arcgis/core/views/3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js","../node_modules/@arcgis/core/views/support/TileTreeDebugger.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/WorkerTileTreeDebugger.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTilesSimple.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/FeatureServiceSnappingSource.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js","../node_modules/@arcgis/core/core/workers/WorkerHandle.js"],"names":["e","o","r","fromAABoundingRect","extent","s","distance","t","n","x","y","create","a","l","constructor","super","this","pointOfInterest","tilesCoveringView","view","center","sort","p","scaleEnabled","scale","layer","minScale","maxScale","ready","featuresTilingScheme","state","tileInfo","spans","lodInfo","getTileCoverage","level","i","row","colFrom","colTo","id","col","normalizeCol","updateTileInfo","push","size","initialize","handles","add","watch","notifyChange","readOnly","prototype","constructOnly","u","effectivePointOfInterest","map","length","slice","filterTiles","featureTiles","tiles","toArray","c","tilingScheme","toTileInfo","tileSize","pointsOfInterest","focus","location","remove","addClient","filter","Math","abs","measures","screenRect","visibility","lij","b","updating","enablePolygons","enableLabels","_polygons","Map","_labels","_enabled","_symbols","color","outline","width","update","destroy","clear","getTiles","Array","Set","keys","forEach","toString","delete","g","d","geometry","has","m","symbol","set","label","loadPriority","_","f","w","j","type","h","verticalOffset","screenLength","callout","border","symbolLayers","text","halo","material","haloColor","haloSize","get","JSON","stringify","graphics","removeMany","addMany","from","values","setInterval","fetchDebugInfo","clearInterval","debugInfo","storedTiles","data","featureCount","pendingTiles","fromExtent","spatialReference","handle","getDebugInfo","then","availability","workerHandleUpdating","editId","updatingHandles","workerHandle","scheduler","on","_set","serviceInfoFromLayer","configuration","convertConfiguration","serviceInfo","toJSON","addPromise","invokeMethod","point","coordinateHelper","toPoint","types","createQuery","invoke","result","edits","addedFeatures","objectId","deletedFeatures","updatedFeatures","customParameters","geometryType","url","parsedUrl","path","fields","capabilities","objectIdField","timeInfo","strategy","getTransferList","origin","lods","resolution","tilesOfInterest","layerSource","resourceController","setup","updateTiles","updateTilesParameters","configure","debug","applyEdits","refresh","candidates","fetchCandidates","constraint","edgeStart","edgeEnd","start","end","targetPoint","fromPoint","target","getLogger","_mainMethod","_listeners","_promise","_thread","hasInitialize","broadcast","_connectListener","close","catch","error","removed","eventName","callback","threadHandle","transferList","signal","Promise","reject","all"],"mappings":"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","file":"static/js/92.9fe82f08.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{s as t}from\"../../../../../chunks/vec3.js\";import{a as o}from\"../../../../../chunks/vec4f64.js\";import{boundedPlane as r}from\"../../../../3d/support/geometryUtils.js\";function e(o,e){return r.fromAABoundingRect(e.extent,s),r.distance(s,t(n,o.x,o.y,0))}const s=r.create(),n=o();export{e as distanceToTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import\"../../../../../../core/has.js\";import{isSome as t,isNone as r}from\"../../../../../../core/maybe.js\";import\"../../../../../../core/Logger.js\";import\"../../../../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../../core/urlUtils.js\";import\"../../../../../../core/uuid.js\";import\"../../../../../../portal/support/resourceExtension.js\";import s from\"../../../../../../core/Accessor.js\";import{HandleOwnerMixin as l}from\"../../../../../../core/HandleOwner.js\";import{scaleBoundsPredicate as n}from\"../../../../../support/layerViewUtils.js\";import{distanceToTile as p}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";let a=class extends(l(s)){constructor(e){super(e),this.pointOfInterest=null}get tiles(){const e=this.tilesCoveringView,r=t(this.pointOfInterest)?this.pointOfInterest:this.view.center;return e.sort(((e,t)=>p(r,e)-p(r,t))),e}scaleEnabled(){return n(this.view.scale,this.layer.minScale||0,this.layer.maxScale||0)}get tilesCoveringView(){if(!this.view.ready||!this.view.featuresTilingScheme||!this.view.state||r(this.tileInfo))return[];if(!this.scaleEnabled)return[];const{spans:e,lodInfo:t}=this.view.featuresTilingScheme.getTileCoverage(this.view.state,0),{level:i}=t,o=[];for(const{row:r,colFrom:s,colTo:l}of e)for(let e=s;e<=l;e++){const s={id:null,level:i,row:r,col:t.normalizeCol(e)};this.tileInfo.updateTileInfo(s),o.push(s)}return o}get tileInfo(){var e,t;return null!=(e=null==(t=this.view.featuresTilingScheme)?void 0:t.tileInfo)?e:null}get tileSize(){return t(this.tileInfo)?this.tileInfo.size[0]:256}initialize(){this.handles.add(this.watch(\"view.state.viewpoint\",(()=>this.notifyChange(\"tilesCoveringView\")),!0))}};e([i({readOnly:!0})],a.prototype,\"tiles\",null),e([i({readOnly:!0})],a.prototype,\"scaleEnabled\",null),e([i({readOnly:!0})],a.prototype,\"tilesCoveringView\",null),e([i({readOnly:!0})],a.prototype,\"tileInfo\",null),e([i({readOnly:!0})],a.prototype,\"tileSize\",null),e([i({constructOnly:!0})],a.prototype,\"view\",void 0),e([i({constructOnly:!0})],a.prototype,\"layer\",void 0),e([i()],a.prototype,\"pointOfInterest\",void 0),a=e([o(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D\")],a);export{a as FeatureServiceTiles2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import\"../../../../../../core/has.js\";import{isSome as t,isNone as r}from\"../../../../../../core/maybe.js\";import\"../../../../../../core/Logger.js\";import\"../../../../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../../core/urlUtils.js\";import\"../../../../../../core/uuid.js\";import\"../../../../../../portal/support/resourceExtension.js\";import{init as o}from\"../../../../../../core/watchUtils.js\";import{HandleOwner as l}from\"../../../../../../core/HandleOwner.js\";import{distanceToTile as n}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";let u=class extends l{constructor(e){super(e),this.pointOfInterest=null}get tiles(){const e=this.tilesCoveringView,r=this.effectivePointOfInterest;if(t(r)){const t=e.map((e=>n(r,e)));for(let i=1;i<t.length;i++)if(t[i-1]>t[i])return e.sort(((e,t)=>n(r,e)-n(r,t))),e.slice()}return e}get tilesCoveringView(){var e,t;return this.filterTiles(null==(e=this.view.featureTiles)||null==(t=e.tiles)?void 0:t.toArray()).map(c)}get tileInfo(){var e,t;return null!=(e=null==(t=this.view.featureTiles)?void 0:t.tilingScheme.toTileInfo())?e:null}get tileSize(){var e,t;return null!=(e=null==(t=this.view.featureTiles)?void 0:t.tileSize)?e:256}get effectivePointOfInterest(){var e;const r=this.pointOfInterest;return t(r)?r:null==(e=this.view.pointsOfInterest)?void 0:e.focus.location}initialize(){this.handles.add(o(this.view,\"featureTiles\",(e=>{this.handles.remove(p),e&&this.handles.add(e.addClient(),p)})))}filterTiles(e){if(r(e))return[];return e.filter((e=>Math.abs(e.measures.screenRect[3]-e.measures.screenRect[1])>a&&2===e.measures.visibility))}};function c({lij:[e,t,r],extent:i}){return{id:`${e}/${t}/${r}`,level:e,row:t,col:r,extent:i}}e([i({readOnly:!0})],u.prototype,\"tiles\",null),e([i({readOnly:!0})],u.prototype,\"tilesCoveringView\",null),e([i({readOnly:!0})],u.prototype,\"tileInfo\",null),e([i({readOnly:!0})],u.prototype,\"tileSize\",null),e([i({constructOnly:!0})],u.prototype,\"view\",void 0),e([i()],u.prototype,\"pointOfInterest\",void 0),e([i()],u.prototype,\"effectivePointOfInterest\",null),u=e([s(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles3D\")],u);const a=50,p=\"feature-tiles\";export{u as FeatureServiceTiles3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as s,isNone as o}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import{lerp as l}from\"../../core/mathUtils.js\";import a from\"../../Color.js\";import n from\"../../symbols/TextSymbol3DLayer.js\";import h from\"../../symbols/PointSymbol3D.js\";import p from\"../../symbols/SimpleFillSymbol.js\";import c from\"../../symbols/TextSymbol.js\";import m from\"../../Graphic.js\";const y=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let b=class extends i{constructor(e){super(e),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._polygons=new Map,this._labels=new Map,this._enabled=!0}initialize(){this._symbols=y.map((e=>new p({color:[e[0],e[1],e[2],.6],outline:{color:\"black\",width:1}}))),this.update()}destroy(){this._enabled=!1,this.clear()}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this.update())}update(){if(!this._enabled)return void this.clear();const e=e=>{if(s(e.label))return e.label;let o=e.lij.toString();return s(e.loadPriority)&&(o+=` (${e.loadPriority})`),o},t=this.getTiles(),r=new Array,i=new Set((this._labels.size,this._labels.keys()));t.forEach(((p,y)=>{const b=p.lij.toString();i.delete(b);const g=p.lij[0],d=p.geometry;if(this.enablePolygons&&!this._polygons.has(b)){const e=new m({geometry:d,symbol:this._symbols[g%this._symbols.length]});this._polygons.set(b,e),r.push(e)}if(this.enableLabels){const i=e(p),g=y/(t.length-1),u=l(0,200,g),_=l(20,6,g)/.75,f=s(p.loadPriority)&&p.loadPriority>=t.length,w=new a([u,f?0:u,f?0:u]),j=\"3d\"===this.view.type?()=>new h({verticalOffset:{screenLength:40/.75},callout:{type:\"line\",color:\"white\",border:{color:\"black\"}},symbolLayers:[new n({text:i,halo:{color:\"white\",size:1/.75},material:{color:w},size:_})]}):()=>new c({text:i,haloColor:\"white\",haloSize:1/.75,color:w,size:_});if(this._labels.has(b)){const e=this._labels.get(b),s=j();(o(e.symbol)||JSON.stringify(s)!==JSON.stringify(e.symbol))&&(e.symbol=s)}else{const e=new m({geometry:d.extent.center,symbol:j()});this._labels.set(b,e),r.push(e)}}}));const p=new Array;i.forEach((e=>{this._polygons.has(e)&&(p.push(this._polygons.get(e)),this._polygons.delete(e)),this._labels.has(e)&&(p.push(this._labels.get(e)),this._labels.delete(e))})),this.view.graphics.removeMany(p),this.view.graphics.addMany(r)}clear(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}};e([t({constructOnly:!0})],b.prototype,\"view\",void 0),e([t({readOnly:!0})],b.prototype,\"updating\",void 0),e([t()],b.prototype,\"enabled\",null),b=e([r(\"esri.views.support.TileTreeDebugger\")],b);export{b as TileTreeDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{makeHandle as t}from\"../../../../core/handleUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import s from\"../../../../geometry/Polygon.js\";import i from\"../../../../core/Handles.js\";import{toExtent as a}from\"../../../../geometry/support/aaBoundingRect.js\";import{TileTreeDebugger as n}from\"../../../support/TileTreeDebugger.js\";let p=class extends n{constructor(e){super(e),this.handles=new i}initialize(){const e=setInterval((()=>this.fetchDebugInfo()),2e3);this.handles.add(t((()=>clearInterval(e))))}destroy(){this.handles.destroy()}getTiles(){if(!this.debugInfo)return[];const e=new Map,t=new Map;this.debugInfo.storedTiles.forEach((t=>{e.set(t.data.id,t.featureCount)})),this.debugInfo.pendingTiles.forEach((r=>{e.set(r.data.id,r.featureCount),t.set(r.data.id,r.state)}));const r=r=>{var o;const s=t.get(r),i=null!=(o=e.get(r))?o:\"?\";return s?`${s}:${i}\\n${r}`:`store:${i}\\n${r}`},o=new Map;return this.debugInfo.storedTiles.forEach((e=>{o.set(e.data.id,e.data)})),this.debugInfo.pendingTiles.forEach((e=>{o.set(e.data.id,e.data)})),Array.from(o.values()).map((e=>({lij:[e.level,e.row,e.col],geometry:s.fromExtent(a(e.extent,this.view.spatialReference)),label:r(e.id)})))}fetchDebugInfo(){this.handle.getDebugInfo(null).then((e=>{this.debugInfo=e,this.update()}))}};e([r({constructOnly:!0})],p.prototype,\"handle\",void 0),p=e([o(\"esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger\")],p);export{p as WorkerTileTreeDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isNone as t,isSome as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{whenOrAbort as a}from\"../../../../../core/promiseUtils.js\";import n from\"../../../../../geometry/Point.js\";import{featureGeometryTypeKebabDictionary as s}from\"../../../../../geometry/support/typeUtils.js\";import{HandleOwner as d}from\"../../../../../core/HandleOwner.js\";import{WorkerHandle as l}from\"../../../../../core/workers/WorkerHandle.js\";let p=class extends d{constructor(e){super(e),this.availability=0,this.workerHandleUpdating=!0,this.editId=0}get updating(){return this.updatingHandles.updating||this.workerHandleUpdating}destroy(){this.workerHandle.destroy()}initialize(){this.workerHandle=new u(this.scheduler),this.handles.add([this.workerHandle.on(\"notify-updating\",(({updating:e})=>this.workerHandleUpdating=e)),this.workerHandle.on(\"notify-availability\",(({availability:e})=>this._set(\"availability\",e)))])}async setup(e,i){const r=this.serviceInfoFromLayer(e.layer);if(t(r))return;const o={configuration:this.convertConfiguration(e.configuration),serviceInfo:r,spatialReference:e.spatialReference.toJSON()};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"setup\",o,i)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},i))}async configure(e,t){const i=this.convertConfiguration(e);await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"configure\",i,t)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async refresh(e){await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"refresh\",{},e)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},e))}async fetchCandidates(e,t){const r={distance:e.distance,point:e.coordinateHelper.toPoint(e.point,new n).toJSON(),types:e.types,filter:i(e.filter)?e.filter.createQuery().toJSON():null};return this.workerHandle.invoke(r,t)}async updateTiles(e,t){const r={tiles:e.tiles,tileInfo:i(e.tileInfo)?e.tileInfo.toJSON():null,tileSize:e.tileSize};await this.workerHandle.invokeMethod(\"updateTiles\",r,t),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async applyEdits(e,t){var i,r,o,n,s,d;const l=this.editId++,p={id:l};await this.workerHandle.invokeMethod(\"beginApplyEdits\",p,t),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t));const u=await a(e.result,t),c={id:l,edits:{addedFeatures:null!=(i=null==(r=u.addedFeatures)?void 0:r.map((({objectId:e})=>e)))?i:[],deletedFeatures:null!=(o=null==(n=u.deletedFeatures)?void 0:n.map((({objectId:e})=>e)))?o:[],updatedFeatures:null!=(s=null==(d=u.updatedFeatures)?void 0:d.map((({objectId:e})=>e)))?s:[]}};await this.workerHandle.invokeMethod(\"endApplyEdits\",c,t),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}getDebugInfo(e){return this.workerHandle.invokeMethod(\"getDebugInfo\",{},e)}convertConfiguration(e){return{filter:i(e.filter)?e.filter.toJSON():null,customParameters:e.customParameters}}serviceInfoFromLayer(e){var t;return\"multipatch\"===e.geometryType||\"mesh\"===e.geometryType?null:{url:e.parsedUrl.path,fields:e.fields.map((e=>e.toJSON())),geometryType:s.toJSON(e.geometryType),capabilities:e.capabilities,objectIdField:e.objectIdField,spatialReference:e.spatialReference.toJSON(),timeInfo:null==(t=e.timeInfo)?void 0:t.toJSON()}}};e([r({constructOnly:!0})],p.prototype,\"scheduler\",void 0),e([r({readOnly:!0})],p.prototype,\"updating\",null),e([r({readOnly:!0})],p.prototype,\"availability\",void 0),e([r()],p.prototype,\"workerHandleUpdating\",void 0),p=e([o(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorkerHandle\")],p);class u extends l{constructor(e){super(\"FeatureServiceSnappingSourceWorker\",\"fetchCandidates\",e,{strategy:\"dedicated\"})}getTransferList(){return[]}}export{p as FeatureServiceSnappingSourceWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import t from\"../../../../../core/Accessor.js\";import s from\"../../../../../geometry/Point.js\";import{fromValues as i}from\"../../../../../geometry/support/aaBoundingRect.js\";import p from\"../../../../../layers/support/LOD.js\";import l from\"../../../../../layers/support/TileInfo.js\";let n=class extends t{constructor(e){super(e),this.pointOfInterest=null}get tiles(){return[{id:\"0/0/0\",level:0,row:0,col:0,extent:i(-1e8,-1e8,1e8,1e8)}]}get tileInfo(){return new l({origin:new s({x:-1e8,y:1e8,spatialReference:this.layer.spatialReference}),size:[512,512],lods:[new p({level:0,scale:1,resolution:390625})],spatialReference:this.layer.spatialReference})}get tileSize(){return this.tileInfo.size[0]}};e([r({readOnly:!0})],n.prototype,\"tiles\",null),e([r({readOnly:!0})],n.prototype,\"tileInfo\",null),e([r({readOnly:!0})],n.prototype,\"tileSize\",null),e([r({constructOnly:!0})],n.prototype,\"layer\",void 0),e([r()],n.prototype,\"pointOfInterest\",void 0),n=e([o(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTilesSimple\")],n);export{n as FeatureServiceTilesSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as r}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{destroyHandle as t}from\"../../../../core/handleUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import{reaction as o}from\"../../../../core/accessorSupport/trackingUtils.js\";import a from\"../../../../core/Accessor.js\";import n from\"../../../../geometry/Point.js\";import{init as l}from\"../../../../core/watchUtils.js\";import u from\"../../../support/debugFlags.js\";import{HandleOwnerMixin as p}from\"../../../../core/HandleOwner.js\";import{convertSnappingCandidate as c}from\"./queryEngineUtils.js\";import{FeatureServiceTiles2D as d}from\"../../../2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js\";import{FeatureServiceTiles3D as h}from\"../../../3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js\";import{WorkerTileTreeDebugger as f}from\"./WorkerTileTreeDebugger.js\";import{FeatureServiceSnappingSourceWorkerHandle as m}from\"./featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js\";import{FeatureServiceTilesSimple as y}from\"./featureServiceSource/FeatureServiceTilesSimple.js\";let g=class extends(p(a)){constructor(e){super(e)}get updateTilesParameters(){return{tiles:this.tilesOfInterest.tiles,tileInfo:this.tilesOfInterest.tileInfo,tileSize:this.tilesOfInterest.tileSize}}get updating(){return this.workerHandle.updating||this.updatingHandles.updating}get configuration(){return{filter:this.layer.createQuery(),customParameters:this.layer.customParameters}}get availability(){return this.workerHandle.availability}get layer(){return this.layerSource.layer}initialize(){if(r(this.view))switch(this.view.type){case\"2d\":this.tilesOfInterest=new d({view:this.view,layer:this.layer});break;case\"3d\":this.tilesOfInterest=new h({view:this.view})}else this.tilesOfInterest=new y({layer:this.layer});if(this.workerHandle=new m({scheduler:r(this.view)&&\"3d\"===this.view.type?this.view.resourceController.scheduler:null}),this.handles.add([t(this.workerHandle)]),this.workerHandle.setup({layer:this.layer,spatialReference:this.spatialReference,configuration:this.configuration},null),this.updatingHandles.add(this,\"updateTilesParameters\",(()=>this.workerHandle.updateTiles(this.updateTilesParameters,null)),2),this.handles.add([o((()=>this.configuration),(e=>this.workerHandle.configure(e,null)))]),r(this.view)){const e=this.view;this.handles.add(l(u,\"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES\",(r=>{r&&!this.debug?(this.debug=new f({view:e,handle:this.workerHandle}),this.handles.add(t(this.debug),\"debug\")):!r&&this.debug&&this.handles.remove(\"debug\")})))}this.handles.add(this.layerSource.layer.on(\"apply-edits\",(e=>{this.workerHandle.applyEdits(e,null)})))}refresh(){this.workerHandle.refresh(null)}async fetchCandidates(e,r){this.tilesOfInterest.pointOfInterest=e.coordinateHelper.toPoint(e.point,new n);const{candidates:t}=await this.workerHandle.fetchCandidates({...e,filter:null},r);return{candidates:t.map((r=>c(r,e.coordinateHelper)))}}getDebugInfo(e){return this.workerHandle.getDebugInfo(e)}};e([i({constructOnly:!0})],g.prototype,\"spatialReference\",void 0),e([i({constructOnly:!0})],g.prototype,\"layerSource\",void 0),e([i({constructOnly:!0})],g.prototype,\"view\",void 0),e([i()],g.prototype,\"tilesOfInterest\",void 0),e([i({readOnly:!0})],g.prototype,\"updateTilesParameters\",null),e([i({readOnly:!0})],g.prototype,\"updating\",null),e([i({readOnly:!0})],g.prototype,\"configuration\",null),e([i({readOnly:!0})],g.prototype,\"availability\",null),g=e([s(\"esri.views.interactive.snapping.featureSources.FeatureServiceSnappingSource\")],g);export{g as FeatureServiceSnappingSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{LineSnappingHint as t}from\"../hints/LineSnappingHint.js\";import{FeatureSnappingCandidate as n}from\"./FeatureSnappingCandidate.js\";import{LineConstraint as r}from\"../SnappingConstraint.js\";class e extends n{constructor(t){super({...t,constraint:new r(t.coordinateHelper,t.edgeStart,t.edgeEnd)})}get hints(){return[new t(1,this.constraint.start,this.constraint.end)]}}export{e as EdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{PointSnappingHint as t}from\"../hints/PointSnappingHint.js\";import{FeatureSnappingCandidate as n}from\"./FeatureSnappingCandidate.js\";import{PointConstraint as r}from\"../SnappingConstraint.js\";class i extends n{constructor(t){super({...t,constraint:new r(t.coordinateHelper,t.targetPoint)})}get hints(){return[new t(this.targetPoint)]}}export{i as VertexSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{EdgeSnappingCandidate as e}from\"../candidates/EdgeSnappingCandidate.js\";import{VertexSnappingCandidate as t}from\"../candidates/VertexSnappingCandidate.js\";function r(r,n){switch(r.type){case\"edge\":return new e({coordinateHelper:n,edgeStart:n.fromPoint(r.start),edgeEnd:n.fromPoint(r.end),targetPoint:n.fromPoint(r.target),objectId:r.objectId});case\"vertex\":return new t({coordinateHelper:n,targetPoint:n.fromPoint(r.target),objectId:r.objectId})}}export{r as convertSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../maybe.js\";import t from\"../Logger.js\";import{makeHandle as r}from\"../handleUtils.js\";import{remove as s}from\"../arrayUtils.js\";import{throwIfAborted as i}from\"../promiseUtils.js\";import{open as o}from\"./workers.js\";const h=t.getLogger(\"esri.core.workers.WorkerHandle\");class n{constructor(e,t,r,s={}){this._mainMethod=t,this._listeners=[],this._promise=o(e,{...s,scheduler:r}).then((e=>{if(void 0===this._thread){this._thread=e,this._promise=null,s.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()})),this._promise.catch((t=>h.error(`Failed to initialize ${e} worker: ${t}`)))}on(t,i){const o={removed:!1,eventName:t,callback:i,threadHandle:null};return this._listeners.push(o),this._connectListener(o),r((()=>{o.removed=!0,s(this._listeners,o),this._thread&&e(o.threadHandle)&&o.threadHandle.remove()}))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}invoke(e,t){return this.invokeMethod(this._mainMethod,e,t)}invokeMethod(e,t,r){if(this._thread){const s=this.getTransferList(t,e);return this._thread.invoke(e,t,{transferList:s,signal:r})}return this._promise?this._promise.then((()=>(i(r),this.invokeMethod(e,t,r)))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then((t=>{e.removed||(e.threadHandle=t)}))}}export{n as WorkerHandle};\n"],"sourceRoot":""}