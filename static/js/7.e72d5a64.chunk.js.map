{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Reprojection.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../node_modules/@arcgis/core/geometry/support/triangulationUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js","../node_modules/@arcgis/core/views/3d/support/debugFlags.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTarget.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/localOrigin.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/CommonUniformStore.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRep.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ResizableFloat32Array.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js","../node_modules/@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LongVectorMath.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/layers/graphics/constants.js","../node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/pointGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/NativeLineMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolConfig.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/SlicePlaneMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/SlicePlaneVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/widgets/Slice/SlicePlane.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/PreserveAspectRatio.js","../node_modules/@arcgis/core/views/interactive/editGeometry/support/editPlaneUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/images/heading-rotate-png.js","../node_modules/@arcgis/core/core/libs/earcut/earcut.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js","../node_modules/@arcgis/core/chunks/WaterSurface.glsl.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/chunks/NativeLine.glsl.js","../node_modules/@arcgis/core/chunks/SlicePlaneMaterial.glsl.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js","../node_modules/@arcgis/core/views/draw/support/createUtils.js"],"names":["o","fragment","uniforms","add","code","r","a","include","t","e","highStepCount","bindUniforms","setUniform1i","lastFrameColorTextureUnit","bindTexture","lastFrameColorTexture","setUniformMatrix4fv","reprojectionMat","camera","projectionMatrix","ssrEnabled","linearDepthTextureUnit","linearDepthTexture","setUniform2fv","nearFar","viewMatrix","setUniform1f","height","n","i","constants","constructor","this","cache","Map","dispose","forEach","texture","clear","acquire","patternId","get","refCount","bind","patternToTextureData","u","length","c","width","internalFormat","pixelFormat","dataType","wrapMode","set","release","delete","swap","join","reduce","Uint8Array","s","slice","main","selected","staged","outline","selectedOutline","clone","h","l","g","b","color","coneHeight","coneWidth","renderOccluded","d","size","outlineSize","collisionPadding","outlineColor","hoverOutlineColor","apply","setParameterValues","transparent","vertex","edge","p","stipplePattern","stippleOffColor","falloff","innerWidth","innerColor","w","shape","primitive","f","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","radius","heightFillColor","toUnitRGB","intersectsLineRadius","style","laserlineStyle","shadowStyle","C","m","super","extensionType","W","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","toUnitRGBA","z","visualElements","reshapeManipulators","zManipulator","colorToVec4","data","material","layerUid","graphicUid","boundingSphere","instanceParameters","highlights","occludees","visible","shaderTransformationDirty","boundingInfo","origin","transformation","calculateShaderTransformation","updateTransformation","castShadow","computeBoundingSphere","shaderTransformationChanged","getCenter","getBSRadius","primitiveType","getShaderTransformation","shaderTransformation","computeAttachmentOrigin","indices","vertexAttributes","addHighlight","removeHighlight","Array","Float64Array","y","index","pathLengths","count","holeIndices","position","polygons","outlines","intensity","direction","castShadows","sh","L","_viewUp","_viewForward","_viewRight","_ray","createWrapper","_viewport","S","_padding","_fov","Math","PI","_nearFar","V","_viewDirty","_viewMatrix","F","_projectionDirty","_projectionMatrix","_viewProjectionDirty","_viewProjectionMatrix","_viewInverseTransposeMatrixDirty","_viewInverseTransposeMatrix","_frustumDirty","_frustum","H","create","_fullViewport","T","pixelRatio","relativeElevation","_eye","_center","_up","_compareAndSetView","eye","center","_ensureViewClean","x","fullWidth","fullHeight","k","D","near","tan","fovY","aspect","j","far","G","X","Y","_recomputeFrustum","M","R","depthNDCToWorld","fovX","perRenderPixelRatio","copyFrom","_","I","copy","copyViewFrom","up","equals","U","almostEquals","abs","fov","B","J","v","max","A","padding","viewport","markViewDirty","computeRenderPixelSizeAt","computeRenderPixelSizeAtDist","viewDirectionDistance","computeScreenPixelSizeAt","computeScreenPixelSizeAtDist","E","viewForward","perScreenPixelRatio","computeDistanceFromRadius","min","getScreenCenter","getRenderCenter","setGLViewport","setViewport","applyProjection","q","fullViewport","projectToScreen","projectToRenderScreen","K","renderToScreen","viewProjectionMatrix","unprojectFromScreen","unprojectFromRenderScreen","screenToRender","N","constrainWindowSize","computeUp","computeUpGlobal","computeUpLocal","fromMatrix","P","arguments","SCENEVIEW_HITTEST_RETURN_INTERSECTOR","SCENEVIEW_LOCKING_LOG","HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED","HIGHLIGHTS_PROFILE_TO_CONSOLE","DECONFLICTOR_SHOW_VISIBLE","DECONFLICTOR_SHOW_INVISIBLE","DECONFLICTOR_SHOW_GRID","LABELS_SHOW_BORDER","OVERLAY_DRAW_DEBUG_TEXTURE","OVERLAY_SHOW_CENTER","SHOW_POI","TESTS_DISABLE_UPDATE_THRESHOLDS","DISABLE_DECONFLICTOR_VISIBILITY_OFFSET","DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES","DRAW_MESH_GEOMETRY_NORMALS","FEATURE_TILE_FETCH_SHOW_TILES","FEATURE_TILE_TREE_SHOW_TILES","TERRAIN_TILE_TREE_SHOW_TILES","I3S_TREE_SHOW_TILES","I3S_SHOW_MODIFICATIONS","ENABLE_PROFILE_DEPTH_RANGE","DISABLE_FAST_UPDATES","LOD_INSTANCE_RENDERER_DISABLE_UPDATES","LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL","EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES","prototype","id","_renderTarget","colorTarget","depthStencilTarget","target","samplingMode","hasMipmap","maxAnisotropy","getTexture","colorTexture","isValid","resize","bindFramebuffer","generateMipMap","descriptor","generateMipmap","disposeRenderTargetMemory","getGpuMemoryUsage","vec3","extent","resolution","renderLocalOrigin","renderTargets","fbo","valid","lastUsed","colorWithoutRasterImage","highlight","water","occluded","drawRenderTargets","drawPass","computeRenderTargetValidityBitfield","validateUsage","collectUnusedMemory","_uniforms","proj","uShadowMapDistance","viewportPixelSz","lightingMainDirection","getPrograms","subscribeProgram","hasUniform","push","unsubscribeProgram","technique","refZeroFrame","_context","_perConstructorInstances","_frameCounter","_keepAliveFrameCount","viewingMode","key","acquireAndReleaseExisting","frameUpdate","getProgramsUsingUniform","commonUniformStore","async","shader","reload","Promise","all","output","name","find","getLogger","refCnt","glMaterial","incRefCnt","decRefCnt","getRefCnt","getGLMaterial","_textureRep","_techniqueRep","onMaterialChanged","_id2glMaterialRef","ownMaterial","techniqueRep","textureRep","materialChanged","updateParameters","materialRepository","error","ROOT_ORIGIN_ID","_origins","_gridSize","getOrigin","testOrigin","random","round","_drawOriginBox","window","view","_stage","_object","_material","isPickable","Uint16Array","WebMercator","spatialReference","O","exclusive","addGeometry","console","log","rctx","offscreenRenderingHelper","scenelightingData","shadowMap","ssaoHelper","sliceHelper","lastFrameCamera","pass","slot","highlightDepthTexture","renderOccludedMask","hasOccludees","resetRenderOccludedMask","adds","removes","updates","allocator","deallocator","renderGeometry","prune","indexCount","_array","Float32Array","_size","floor","subarray","append","erase","waterTextureRepository","initializeProgram","configuration","build","OITEnabled","transparencyPassType","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","receiveShadows","pbrMode","useCustomDTRExponentForWater","useSSR","multipassTerrainEnabled","cullAboveGround","generateSource","ensureResource","ready","updating","loadTextures","bindPass","bindProjectionMatrix","program","inverseViewport","lighting","setUniforms","bindRepo","setUniform4fv","bindOutputHighlight","bindDraw","bindView","bindCamPosition","viewInverseTransposeMatrix","SHADOW_MAP","bindUniformsWithOrigin","setPipelineState","blending","depthTest","func","depthWrite","writeDepth","colorWrite","polygonOffset","enableOffset","initializePipeline","isDraped","getTechniqueConfig","beginSlot","params","setElapsedTimeUniform","animation","time","animationSpeed","_updateShadowState","shadowMappingEnabled","_updateSSRState","ensureResources","ensureParameters","bindProgram","from","to","isVisible","hasHighlights","transformationNormal","first","drawCalls","triangles","hasHiddenInstances","begin","end","type","_dataByOrigin","_hasHighlights","_hasOccludees","_rctx","_materialRep","_glMaterials","_bufferWriter","createBufferWriter","vao","isEmpty","modify","updateGeometries","addAndRemoveGeometries","updateRenderCommands","vertexBufferLayout","stride","optimalCount","sparseCount","buffer","toAdd","toRemove","elementCount","createData","array","removeAndRebuild","removeByErasing","vertexBuffers","geometry","byteSize","byteLength","setData","setSubData","drawCommandsDirty","updateType","instances","write","invTranspTransformation","createView","drawCommandsDefault","drawCommandsHighlight","drawCommandsOccludees","drawCommandsShadowHighlightRest","stats","default","shadowHighlightRest","layout","sort","values","updateLogic","update","render","getTechnique","getPipelineState","ensureAttributeLocations","bindVAO","renderCommands","drawArrays","vertexAttributeLocations","createVertex","glMaterials","_pendingAddsRemoves","_changes","_materialRenderers","_sortedMaterialRenderers","_hasWater","rendersOccluded","stopAnimationsAtTime","forAll","stopAtTime","commitChanges","updateAddsRemoves","hasWater","updateSortedMaterialRenderers","notifyChange","remove","pushNew","materialRenderer","draw","insertOrder","renderPriority","has","removeUnorderedIndex","sortedMaterialRenderers","hasAlpha","sqrt","sphericalHarmonics","_renderLighting","_shOrder","_oldSunlight","ambient","diffuse","setLightDirectionUniform","setUniform3fv","_info","groundLightingFactor","globalFactor","setUniform3f","setUniform4f","lights","_overlays","_rendersOccluded","_lighting","_localOrigins","_handles","_layerRenderers","_sortedLayerRenderersDirty","_sortedLayerRenderers","_geometries","globalUnitScale","longitudeCyclical","initialize","renderView","renderingContext","_renderContext","_stippleTextureRepository","_shaderTechniqueRepository","stippleTextureRepository","emitContentChanged","_materialRepository","textureRepository","updateRendersOccluded","_compositingHelper","compositingHelper","_bindParameters","screenToWorldRatio","screenToWorldRatioGlobalWM","slicePlane","ssaoEnabled","terrainLinearDepthTexture","geometryLinearDepthTexture","multipassGeometryEnabled","scheduler","registerTask","STAGE","destroy","_temporaryRenderTarget","_debugPatternTexture","_quadVAO","forEachOverlay","ensureOverlays","disposeOverlays","updateSortedLayerRenderers","updateHasHighlights","updateHasWater","addGeometries","ensureLayerRenderer","notifyGraphicGeometryChanged","removeGeometries","notifyGraphicVisibilityChanged","warn","updateHighlights","updateLayerOrder","numViews","_screenToWorldRatio","views","hasNonZeroSizedView","setClearColor","clearSafe","setViewParameters","drawDebugTexture","layerView","renderer","drapeSourceType","fullOpacity","bindTemporaryFramebuffer","composite","hotReload","intersect","intersectRenderGeometry","range","Z","addIntersectionResult","metadata","results","ground","dist","normal","intersector","drapedLayerOrder","options","store","ray","watch","allLayerViews","keys","Set","onContentChanged","onHasHighlightsChanged","onRendersOccludedChanged","ensureDebugPatternResources","_debugTextureTechnique","pipeline","layerRenderers","constructOnly","Boolean","readOnly","attributeData","removeDuplicateStartEnd","Uint32Array","mapPosition","colorFeature","sizeFeature","opacityFeature","uniformSize","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncGeometriesToRenderer","_createOrDestroyResources","recreate","attached","_createResources","recreateGeometry","ensureRenderGeometriesRemoved","createResources","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","ensureRenderGeometriesAdded","geometries","_attachmentOrigin","_attachmentOriginDirty","events","_isDraped","_geometry","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_falloff","_elevationInfo","_laserlineStyle","_laserlineEnabled","_renderOccluded","resources","drapedResources","createDrapedResources","createRenderGeometriesDraped","attachmentOriginChanged","_laserline","updateAttached","laserlineAttached","laserlineEnabled","updateMaterial","isClosed","renderCoordsHelper","fromRenderCoords","materialParameters","stippleIntegerRepeats","normalizedRenderOccluded","createRenderGeometries","emit","rings","paths","lines","projectionSuccess","calculateMapBounds","hasZ","sampledElevation","elevationProvider","fromElevationInfo","elevationInfo","pathVerticalPlane","screenSizeEnabled","shadingEnabled","shadingTint","shadingDirection","blendColor","bindPassUniforms","culling","face","mode","cullFace","offset","supportsEdges","techniqueConfig","_vertexAttributeLocations","getPassParameters","applyToVertex","screenSize","applyToAabb","vec3f","allocate","createBuffer","Error","getField","_vertices","_spatialReference","_outlineColor","_outlineSize","applyProps","updateOutlineMaterial","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","vertices","numVertices","vertexGeometry","vertexOutlineGeometry","createGeometries","createExternalResources","destroyExternalResources","forEachExternalMaterial","createSphereGeometry","EventedAccessor","tracking","displaying","EventedMixin","drawOperation","_createGraphic","_createGraphicState","_outlineVisualElement","_verticesVisualElement","_stagedVerticesVisualElement","defaultZ","snapToScene","snappingManager","geometryType","_internalGraphicsLayer","listMode","internal","map","layers","manipulators","drawingMode","snapToSceneEnabled","snappingDrawSurface","elevationDrawSurface","hasM","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","_destroyAllVisualisations","_set","onInputEvent","_getCreateGeometry","hasStagedVertex","splice","regularVertices","stagedVertices","full","coordinateHelper","createPointFromArray","makeMapPoint","forceUniformSize","centered","_destroyCreateGraphic","_destroyOutlineVisualElement","_destroyVerticesVisualElement","_destroyStagedVerticesVisualElement","handles","_updateCreateGraphic","symbol","createGraphicSymbol","maskOccludee","graphic","trackGraphicState","interactive","reset","canRedo","redo","canUndo","undo","completeCreateOperation","complete","activate","deactivate","isCompleted","cancel","getVertexCoords","vertexIndex","nonNullable","value","idHint","_elevation","override","collisionType","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","_location","_elevationAlignedLocation","_elevationAlignedLocationDirty","selectable","grabbable","cursor","_grabbing","dragging","_hovering","_selected","_state","_focused","EventEmitter","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_engineLayer","_materialIdReferences","state","_removeResourcesFromStage","_updateEngineObject","disableDisplay","toRenderCoords","elevationAlignedLocation","ie","location","_evaluateElevationAlignment","_updateElevationAlignedLocation","grabbableForEvent","_setFocused","action","updateStateEnabled","ensureScreenLocation","renderLocation","_calculateModelTransformOffset","ae","intersectionDistance","available","_getCollisionRadius","screenLocation","_getWorldToScreenObjectScale","_calculateObjectTransform","ee","fromScreen","se","closestRayDistance2","fromPoints","Q","oe","re","fromPositionAndNormal","te","ne","intersectRay","_calculateModelTransformPosition","distance2","attach","manipulator3D","engineLayerId","getObject","engineLayerReferences","materialIdReferences","detach","onViewChange","onElevationChange","ce","_getFocusedSize","focused","objectsByState","_ensureEngineResources","stateMask","objects","setVisible","commit","renderObjects","transform","isArray","layer","materials","_addResourcesToStage","removeMany","$","areAnyResourcesVisible","atan2","getViewForGraphic","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","visualElement","writeDepthEnabled","angleCutoff","setStartEndFromWorldDownAtLocation","heightManifoldTarget","attachmentOrigin","onManipulatorsChanged","intersectsLineInfinite","intersectsWorldUpAtLocation","ceil","dxScreen","screenDeltaX","dyScreen","screenDeltaY","next","translationX","translationY","translationZ","forEachManipulator3D","someManipulator","hasManipulator","performanceInfo","queryDuration","numObjectsTested","tolerance","verticalOffset","_rayEndPoint","_rayStartPointTransformed","_rayEndPointTransformed","resetWithRay","_numObjectsTested","init","point","filterPredicate","intersectObject","getSpatialQueryAccelerator","forEachAlongRayWithVerticalOffset","forEachAlongRay","selectionMode","hud","forEachDegenerateObject","getObjects","sortResults","geometryRecords","setAndInvalidateLazyTransforms","inverse","objectTransform","Number","MAX_VALUE","drapedLayerGraphicOrder","MIN_VALUE","screenStart","screenEnd","renderStart","renderEnd","plane","sceneIntersectionHelper","intersectElevationFromScreen","mapStart","mapEnd","worldUpAtPosition","projectPoint","execute","DEFAULT_TOLERANCE","_arrowManipulatorInfos","_opaqueMaterial","createMaterial","_transparentMaterial","_angle","_scale","_updateAfterDrag","_tool","tool","_view","_createManipulators","manipulator","removeAll","createGraphicDragPipeline","createDragPipeline","manipulatorType","angle","_updateManipulatorTransform","_updateManipulators","_updateArrowManipulator","createExtrudedTriangle","transformInPlace","_createArrowManipulator","displayScale","modelTransform","arrowManipulators","lastDragEvent","_enabled","snap","toMap","exclude","createDragEventPipelineStep","_snapToScene","_discMaterial","_createMaterial","_discMaterialTransparent","_createManipulator","_manipulator","enabled","_updateManipulator","worldSized","createCylinderGeometry","discManipulator","createManipulator","updateManipulator","createTubeGeometry","createConeGeometry","applyObjectTransform","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","autoHideXYAxis","updateManipulatorInteractivity","xyAxisVisible","inputManager","latestPointerType","symbolLayers","some","_graphicState","graphicState","allGraphics","dx","dy","graphics","enableZ","_toolHandles","snappingPipeline","_refreshManipulators","_moveManipulation","toArray","filter","createManipulators","createVisualElements","updateMoveManipulation","manipulationXY","stopPropagation","buildDragEventPipeline","createMoveManipulation","radiusForSymbol","getItemAt","updateMoveManipulationAngle","geometryRepresentation","angleDeferred","buildSnappingPipelineSteps","destroyed","toScreen","pointer","fromGeometry","visualizer","excludeFeature","snapOrigin","fromPoint","createSnapDragEventPipelineStep","snappingContext","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_manipulatorHandles","_manipulatorInfos","_reshapeHelper","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_snappingPipeline","_snappingPipelineHandle","_vertexLaserLineVisualElement","_clear","_recreateManipulators","enableMoveGraphic","removeSelectedVertices","handle","_removeVertices","manipulatorSelectionChanged","inputGeometry","editGeometry","components","_createPerVertexManipulator","edges","_createGraphicMoveManipulators","_perGraphicManipulatorDragAction","moveVertices","mapDeltaX","mapDeltaY","mapDeltaZ","pos","_updateManipulatorPosition","_updateEventState","mover","isMultiVertexSelection","_perVertexManipulatorDragAction","info","_trackNumDragging","_cancelDragOperation","_watchAndUpdateGrabState","_clearSelection","predicate","_updateMoveManipulationPosition","Vertex","Edge","_setTypeSpecificManipulatorSettings","locationUpdateHandle","selectedIndex","_getManipulatorInfoFromHandle","left","right","_splitEdgeManipulator","_manipulatorClickCallback","doneSnapping","_updateSelection","_removeManipulator","indexOf","toPoint","splitEdge","createdVertex","component","coordinates","componentIndex","added","orthogonalAvailable","canRemoveVertex","removeVertices","removedVertices","createdEdge","removed","shiftKey","button","_dirty","toPolyline","toPolygon","_reshapeOperation","_internalGeometryUpdate","_updateGeometry","_updateGraphic","_onReshapeGeometryChanged","beforeUndo","rt","ScaleIn","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","nt","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","scale","updateDragState","updateManipulatorTransform","frameTask","startAnimation","cancelActiveAnimation","start","deltaTime","createRingManipulator","heading","getSymbolLayerSize","ct","startAngle","symbolRotationAngle","angleDir","scaleDir","startSymbolData","shortestSignedDiff","lt","onScaleChanged","gt","wrap","ht","xScale","yScale","applySymbolData","dt","ut","updateDelayedFocusedState","cos","sin","createPathExtrusionGeometry","et","st","concat","enforceNonZeroSize","depth","mt","pt","enableRotation","enableScaling","scaleRotate","moveManipulation","updateMoveAngle","onGeometryChanged","hideManipulatorsForGraphicState","onDetach","onHide","test","stippleTextureBind","attributeColor","vertexColors","stippleEnabled","stippleOffColorEnabled","stippleUVMaxEnabled","stippleIntegerRepeatsEnabled","setUniform2f","stencilWrite","sceneHasOcludees","stencilTest","_occludeePipelineState","intersectLineGeometry","signedDistance","frustum","rayBeginPoint","rayEndPoint","closestLineSegmentPoint","_updateOccludeeState","writeAuxpos1","typedBufferStride","typedBuffer","backgroundColor","gridColor","gridWidth","constructionContext","opacity","updateTexture","textureId","bindTextureScale","initTextureTransparent","tilt","json","read","normalize","Be","basis","basis1","basis2","qe","He","We","$e","ke","_e","bothEnds","tipFocusMultiplier","tipLength","focusTipLength","tipRadius","part","Ze","tubeRadius","tubeFocusMultiplier","flat","thickness","Ye","addCap","createPolylineGeometry","Xe","ye","tt","adjustScaleFactors","factor1","factor2","operation","dz","axis1","axis2","ft","_preserveAspectRatio","inputState","moveZManipulator","resizeManipulators","rotateManipulator","outlineVisualElement","mapBounds","mapBoundsStart","displayBounds","displayBoundsStart","displayBoundsMarginStart","resizeHandles","reshapeHelper","graphicMoveManipulation","_createMoveXYGraphicDragPipeline","updateManipulatorAvailability","_createMoveZDragPipeline","_onResizeGrab","_createResizeDragPipeline","addMany","rotateManipulatorTexture","mipmap","preMultiplyAlpha","Oe","_onRotateGrab","_createRotateDragPipeline","updateDisplayBounds","updateAllManipulatorAvailability","graphicDrapedChanged","pointsOfInterest","focus","Mt","bt","pixelSizeAt","POSITIVE_INFINITY","NEGATIVE_INFINITY","updateUnboundedPlane","displayBoundsMargin","updateManipulators","St","applyGraphicMoveSteps","_moveDragUpdateGeometry","yt","_calculatePickRay","screenPoint","_resizeDragRenderPlaneToFactors","_resizeDragUpdateGeometry","it","Bt","scaleVertices","fromXYZ","at","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdateGeometry","rotateAngle","rotateAxis","rotateVertices","updateZMoveHandle","ot","lastOperation","vt","activeTool","prev","steiner","prevZ","nextZ","bindViewCustomOrigin","varyings","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","focusedSymbol","originalPoint","mapPoint","radiusPx","xoffset","yoffset","renderSpatialReference","selectOpaqueTerrainOnly","invisibleTerrain","backfacesTerrain","isFiltered","_transform","_transformInverse","_transformInverseTranspose","_transformTranspose","_transformInverseRotation","invalidateLazyTransforms","invalidate","setTransformMatrix","multiplyTransform","original","dirty","getIntersectionPoint","hasIntersectionPoint","getTransformedNormal","geometryId","triangleNr","obj","toOwner","findLayerByUid","toGraphic","createGraphic","graphicsView","graphics3d","getGraphicFromGraphicUid","suspended","getGraphicFromIntersectorMetadata","sphere","tmpVertex","applyToMinMax","applyToBoundingSphere","componentLocalOriginLength","mbs","obb","halfSize","quaternion","applyToMbs","applyToObb","localOrigin","origins","String","url","writer","verifyItemRelativeUrls","writtenUrls","rootPath","originIdOf","portalItem","resourceFromPath","path","toUpdate","toKeep","resource","pendingOperations","responseType","then","itemRelativeUrl","catch","content","finish","Blob","JSON","stringify","toJSON","minReduction","originalIndices","componentOffsets","uniqueCount","waveStrength","waveTextureRepeat","flowStrength","flowOffset","waveDirection","waveVelocity","linearDepth","attributes","float","Object","freeze","__proto__","builder","extensions","points","reverse","isSelfIntersecting","mapToLocalMultiple","localToMap","doUnnormalization","radiusUnit"],"mappings":"kMAIyD,SAASA,EAAEA,GAAGA,EAAEC,SAASC,SAASC,IAAI,oBAAoB,aAAaH,EAAEC,SAASC,SAASC,IAAI,kBAAkB,QAAQH,EAAEC,SAASC,SAASC,IAAI,kBAAkB,QAAQH,EAAEC,SAASG,KAAKD,IAAIE,GAAE;;;;;;;;KCAvE,SAASA,EAAEA,EAAEC,GAAGD,EAAEJ,SAASC,SAASC,IAAI,UAAU,QAAQE,EAAEJ,SAASC,SAASC,IAAI,eAAe,aAAaE,EAAEJ,SAASC,SAASC,IAAI,aAAa,QAAQE,EAAEJ,SAASC,SAASC,IAAI,sBAAsB,SAASE,EAAEJ,SAASM,QAAQC,KAAGH,EAAEE,QAAQP,GAAGK,EAAEJ,SAASG,KAAKD,IAAIM,GAAE;yBACraH,EAAEI,cAAc,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MDOuQV,IAAIA,EAAE,KAAtBW,aAArR,SAAWN,EAAEL,EAAES,GAAGJ,EAAEO,aAAa,oBAAoBH,EAAEI,2BAA2Bb,EAAEc,YAAYL,EAAEM,sBAAsBN,EAAEI,2BAA2BR,EAAEW,oBAAoB,kBAAkBP,EAAEQ,iBAAiBZ,EAAEW,oBAAoB,kBAAkBP,EAAES,OAAOC,oBC2F0Fd,IAAIA,EAAE,KAAtBM,aAA3U,SAAWF,EAAED,EAAEH,GAAGA,EAAEe,aAAaX,EAAEG,aAAa,eAAeP,EAAEgB,wBAAwBb,EAAEM,YAAYT,EAAEiB,mBAAmBjB,EAAEgB,wBAAwBZ,EAAEc,cAAc,UAAUlB,EAAEa,OAAOM,SAASf,EAAEO,oBAAoB,aAAaX,EAAEa,OAAOO,YAAYhB,EAAEiB,aAAa,sBAAsB,EAAErB,EAAEa,OAAOS,QAAQ3B,EAAEW,aAAaF,EAAED,EAAEH,M,mGCnG9R,SAASI,EAAEA,GAAGA,EAAER,SAASG,KAAKD,IAAIH,GAAE;;;;;;;;;;;kBCAgN,SAASM,EAAEA,EAAEsB,GAAGtB,EAAEC,QAAQsB,IAAED,GAAGtB,EAAEC,QAAQF,GAAGC,EAAEC,QAAQC,KAAGoB,EAAER,YAAYd,EAAEC,QAAQP,IAAE4B,GAAGtB,EAAEL,SAAS6B,UAAU3B,IAAI,aAAa,OAAO,CAAC,IAAI,EAAE,KAAKA,IAAI,kBAAkB,OAAO,CAAC,IAAI,KAAKA,IAAI,YAAY,QAAQ,MAAMA,IAAI,wBAAwB,QAAQ,KAAKA,IAAI,eAAe,QAAQ,KAAKA,IAAI,qBAAqB,QAAQ,KAAKA,IAAI,mBAAmB,QAAQ,KAAKA,IAAI,iBAAiB,QAAQ,MAAMA,IAAI,mBAAmB,QAAQ,IAAIA,IAAI,+BAA+B,QAAQ,IAAIA,IAAI,gBAAgB,OAAO,CAAC,IAAI,IAAI,KAAKA,IAAI,WAAW,OAAO,CAAC,IAAI,IAAI,KAAKG,EAAEL,SAASG,KAAKD,IAAIM,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAuFn2BmB,EAAER,WAAWd,EAAEL,SAASG,KAAKD,IAAIM,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAmCvCH,EAAEL,SAASG,KAAKD,IAAIM,GAAE;;;;wjBC1H0O,MAAMmB,EAAEG,cAAcC,KAAKC,MAAM,IAAIC,IAAIC,UAAUH,KAAKC,MAAMG,SAAS5B,IAAIC,YAAED,EAAE6B,WAAW7B,EAAE6B,QAAQF,UAAU3B,EAAE6B,QAAQ,SAASL,KAAKC,MAAMK,QAAQC,QAAQ9B,GAAG,GAAGD,YAAEC,GAAG,OAAO,KAAK,MAAMmB,EAAEI,KAAKQ,UAAU/B,GAAGoB,EAAEG,KAAKC,MAAMQ,IAAIb,GAAG,GAAGC,EAAE,OAAOA,EAAEa,WAAWb,EAAEc,KAAK,MAAU3C,EAAEgC,KAAKY,qBAAqBnC,EAAE,GAAGoC,EAAE7C,EAAE8C,OAAvC,EAAgDC,EAAE,CAACL,SAAS,EAAEL,QAAQ,KAAKM,KAAK,CAAClC,EAAEmB,KAAKpB,YAAEuC,EAAEV,WAAWU,EAAEV,QAAQ,IAAIhC,IAAEI,EAAE,CAACuC,MAAMhD,EAAE8C,OAAOnB,OAAO,EAAEsB,eAAe,KAAKC,YAAY,KAAKC,SAAS,KAAKC,SAAS,OAAOpD,IAAIS,EAAEK,YAAYiC,EAAEV,QAAQT,GAAGiB,IAAI,OAAOb,KAAKC,MAAMoB,IAAIzB,EAAEmB,GAAGA,EAAEJ,KAAKW,QAAQjD,GAAG,GAAGG,YAAEH,GAAG,OAAO,MAAMuB,EAAEI,KAAKQ,UAAUnC,GAAGwB,EAAEG,KAAKC,MAAMQ,IAAIb,GAAGC,IAAIA,EAAEa,WAAW,IAAIb,EAAEa,WAAWjC,YAAEoB,EAAEQ,UAAUR,EAAEQ,QAAQF,UAAUH,KAAKC,MAAMsB,OAAO3B,KAAK4B,KAAK/C,EAAED,GAAG,MAAMH,EAAE2B,KAAKO,QAAQ/B,GAAG,OAAOwB,KAAKsB,QAAQ7C,GAAGJ,EAAEmC,UAAU/B,GAAG,OAAOA,EAAEgD,KAAK,KAAKb,qBAAqBnC,EAAED,GAAG,MAAMH,EAAEI,EAAEiD,QAAQ,CAACjD,EAAED,IAAIC,EAAED,IAAIA,EAAEoB,EAAE,IAAI+B,WAAWtD,GAAG,IAAIwB,GAAE,EAAG+B,EAAE,EAAE,IAAI,MAAM5D,KAAKS,EAAE,CAAC,IAAI,IAAIA,EAAE,EAAEA,EAAET,EAAEQ,EAAEC,IAAImB,EAAEgC,KAAK/B,EAAE,IAAI,EAAEA,GAAGA,EAAE,OAAOD,GAAG,SAASC,EAAEpB,GAAG,OAAOD,YAAEC,GAAGA,EAAEA,EAAEoD,QCAt/B,MAAMD,EAAE,CAACE,KAAK,IAAItD,IAAE,CAAC,IAAI,IAAI,IAAIuD,SAAS,IAAIvD,IAAE,CAAC,IAAI,IAAI,MAAMwD,OAAO,IAAIxD,IAAE,CAAC,GAAG,IAAI,MAAMyD,QAAQ,IAAIzD,IAAE,CAAC,EAAE,EAAE,EAAE,KAAK0D,gBAAgB,IAAI1D,IAAE,CAAC,IAAI,IAAI,OAAOoB,EAAE,GAAG,SAASvB,EAAEG,EAAEqB,GAAG,MAAMpB,EAAED,EAAE2D,QAAQ,OAAO1D,EAAEH,GAAGuB,EAAEpB,EAAE,SAAS2D,EAAE5D,EAAER,GAAG,MAAMqE,EAAE7D,EAAE2D,QAAQP,EAAE/B,YAAEwC,GAAGT,EAAEA,GAAG5D,EAAE,MAAM4B,EAAEnB,YAAEmD,GAAG,OAAOS,EAAEhE,EAAEuB,EAAEvB,EAAEgE,EAAEC,EAAE1C,EAAE0C,EAAED,EAAEE,EAAE3C,EAAE2C,EAAEF,EAAE,SAAStB,EAAEvC,EAAEqB,GAAG,GAAGA,EAAE,IAAI,MAAMpB,KAAKoB,EAAErB,EAAEC,GAAGoB,EAAEpB,GAAG,MAAMH,EAAEyB,YAAYvB,GAAGwB,KAAKwC,MAAMZ,EAAEE,KAAK9B,KAAKL,OAAO,GAAGK,KAAKyC,WAAW,GAAGzC,KAAK0C,UAAU,GAAG1C,KAAKgB,MAAM,EAAEhB,KAAK2C,eAAe,GAAG5B,EAAEf,KAAKxB,IAAI,MAAMoE,EAAE7C,YAAYvB,GAAGwB,KAAK6C,KAAK,GAAG7C,KAAK8C,YAAY,EAAE9C,KAAK+C,iBAAiB,EAAE/C,KAAKwC,MAAMZ,EAAEE,KAAK9B,KAAKgD,aAAapB,EAAEK,QAAQjC,KAAK2C,eAAe,GAAG3C,KAAKiD,kBAAkBrB,EAAEM,gBAAgBnB,EAAEf,KAAKxB,GAAG0E,MAAM1E,EAAEqB,GAAG,MAAMpB,EAAEuB,KAAKxB,GAAGqB,EAAEsD,mBAAmB,CAACX,MAAMD,EAAE9D,GAAG2E,YAAY,UAAU5E,GAAGC,EAAEH,EAAE,EAAEqE,eAAe3C,KAAK2C,kBAAkB,MAAM9B,EAAEd,YAAYvB,GAAGwB,KAAKqD,OAAO,IAAIT,EAAE,CAACJ,MAAMZ,EAAEE,KAAKkB,aAAapB,EAAEK,UAAUjC,KAAKsD,KAAK,IAAIV,EAAE,CAACJ,MAAMJ,EAAE/D,EAAEuD,EAAEE,KAAK,EAAE,GAAG,IAAIkB,aAAa3E,EAAEuD,EAAEK,QAAQ,IAAIY,KAAK,EAAEE,iBAAiB,IAAI/C,KAAK+B,SAAS,IAAIa,EAAE,CAACJ,MAAMZ,EAAEG,SAASiB,aAAapB,EAAEK,UAAUlB,EAAEf,KAAKxB,IAAI,MAAM+E,EAAExD,YAAYvB,GAAGwB,KAAKwC,MAAMZ,EAAEG,SAAS/B,KAAKgB,MAAM,IAAIhB,KAAKwD,eAAenB,EAAE,CAAC,EAAE,IAAIrC,KAAKyD,gBAAgB7B,EAAEK,QAAQjC,KAAK0D,QAAQ,EAAE1D,KAAK2D,WAAW,IAAI3D,KAAK4D,WAAWhC,EAAEG,SAAS/B,KAAK2C,eAAe,EAAE5B,EAAEf,KAAKxB,GAAG0E,MAAM1E,GAAGA,EAAEgE,MAAMD,EAAEvC,KAAKwC,OAAOhE,EAAEwC,MAAMhB,KAAKgB,MAAMxC,EAAEgF,eAAexD,KAAKwD,eAAehF,EAAEiF,gBAAgBlB,EAAEvC,KAAKyD,iBAAiBjF,EAAEkF,QAAQ1D,KAAK0D,QAAQlF,EAAEmF,WAAW3D,KAAK2D,WAAWnF,EAAEoF,WAAWrB,EAAEvC,KAAK4D,YAAYpF,EAAEmE,eAAe3C,KAAK2C,gBAAgB,MAAMkB,EAAE9D,YAAYvB,GAAGwB,KAAKwC,MAAMZ,EAAEG,SAAS/B,KAAK6C,KAAK,EAAE7C,KAAK8C,YAAY,EAAE9C,KAAKgD,aAAapB,EAAEK,QAAQjC,KAAK8D,MAAM,SAAS/C,EAAEf,KAAKxB,GAAG0E,MAAM1E,GAAGA,EAAEgE,MAAMD,EAAEvC,KAAKwC,OAAOhE,EAAEqE,KAAK7C,KAAK6C,KAAKrE,EAAEsE,YAAY9C,KAAK8C,YAAYtE,EAAEwE,aAAaT,EAAEvC,KAAKgD,cAAcxE,EAAEuF,UAAU/D,KAAK8D,OAAO,MAAME,EAAEjE,YAAYvB,GAAGwB,KAAK4D,WAAWhC,EAAEG,SAAS/B,KAAK2D,WAAW,EAAE3D,KAAKiE,UAAUrC,EAAEE,KAAK9B,KAAKkE,UAAU,EAAElE,KAAKmE,YAAY,EAAEnE,KAAKoE,YAAYxE,EAAEI,KAAKqE,yBAAyB,IAAIrE,KAAKsE,OAAO,EAAEtE,KAAKuE,gBAAgB3C,EAAEE,KAAKf,EAAEf,KAAKxB,GAAG0E,MAAMrD,EAAEpB,EAAE,GAAG,MAAMT,EAAE,CAACiG,UAAUzF,IAAEgG,UAAUxE,KAAKiE,WAAWE,YAAYnE,KAAKmE,YAAYD,UAAUlE,KAAKkE,UAAUN,WAAWpF,IAAEgG,UAAUxE,KAAK4D,YAAYD,WAAW3D,KAAK2D,WAAWS,YAAYpE,KAAKoE,YAAY3F,EAAE4F,yBAAyBrE,KAAKqE,yBAAyBI,qBAAqBzE,KAAKsE,QAAQ,UAAUzE,EAAEA,EAAE6E,MAAM1G,EAAE6B,EAAE8E,eAAe3G,GAAG,MAAMsE,EAAEvC,YAAYvB,GAAGwB,KAAKiC,QAAQ,IAAIsB,EAAE,CAACf,MAAMZ,EAAEK,QAAQU,eAAe,EAAEc,gBAAgB7B,EAAEG,SAASyB,eAAenB,EAAE,CAAC,EAAE,IAAIrB,MAAM,IAAI2C,WAAW,IAAI3D,KAAKgC,OAAO,IAAIuB,EAAE,CAACf,MAAMZ,EAAEG,SAASY,eAAe,EAAEiB,WAAWhC,EAAEI,OAAOyB,gBAAgB7B,EAAEK,QAAQuB,eAAenB,EAAE,CAAC,EAAE,IAAIrB,MAAM,MAAMhB,KAAK4E,YAAY,IAAIZ,EAAE,CAACI,YAAYxE,EAAEqE,UAAUrC,EAAEE,KAAKqC,YAAY,EAAED,UAAU,EAAEN,WAAWhC,EAAEG,SAAS4B,WAAW,IAAI5C,EAAEf,KAAKxB,IAAI,MAAMqG,EAAE9E,YAAYvB,GAAGwB,KAAKiC,QAAQ,IAAI4B,EAAE,CAACrB,MAAMZ,EAAEG,SAASiB,aAAapB,EAAEK,QAAQa,YAAY,EAAEgB,MAAM,SAASjB,KAAK,IAAI7C,KAAK4E,YAAY,IAAIZ,EAAE,CAACI,YAAYxE,EAAEqE,UAAUrC,EAAEE,KAAKqC,YAAY,IAAID,UAAU,EAAEN,WAAWhC,EAAEG,SAAS4B,WAAW,EAAEW,OAAO,IAAIvD,EAAEf,KAAKxB,IAAI,MAAMsG,UAAUvB,EAAExD,YAAYvB,GAAGuG,QAAQ/E,KAAKgF,cAAc,EAAEjE,EAAEf,KAAKxB,IAAI,MAAMyG,EAAElF,YAAYvB,GAAGwB,KAAKkF,aAAa,IAAI5C,EAAEtC,KAAKmF,cAAc,IAAIN,EAAE7E,KAAKoF,YAAY,IAAIpB,EAAE,CAACI,YAAYxE,EAAEqE,UAAUrC,EAAEE,KAAKqC,YAAY,EAAED,UAAU,EAAEN,WAAWhC,EAAEG,SAAS4B,WAAW,IAAI3D,KAAKqF,UAAU,IAAIrB,EAAE,CAACI,YAAYxE,EAAEqE,UAAUrC,EAAEE,KAAKqC,YAAY,EAAED,UAAU,EAAEN,WAAWhC,EAAEG,SAAS4B,WAAW,EAAEY,gBAAgB3C,EAAEE,OAAO9B,KAAKsF,cAAc,IAAIR,EAAE,CAACtC,MAAMnE,EAAEuD,EAAEE,KAAK,IAAO4B,QAAQ,EAAEE,WAAWvF,EAAEuD,EAAEG,SAAS,GAAGY,eAAe,EAAEa,eAAe,KAAKxC,MAAM,EAAEgE,cAAc,IAAIhF,KAAKuF,yBAAyB,IAAIvF,KAAKwF,uBAAuB,GAAGzE,EAAEf,KAAKxB,IAAkJ,SAAS+D,EAAE1C,GAAG,OAAO7B,YAAEQ,IAAEiH,WAAW5F,IAAI,MAAM6F,EAAE,IAA9L,MAAQ3F,YAAYvB,GAAGwB,KAAK2F,eAAe,IAAIV,EAAEjF,KAAK4F,oBAAoB,IAAI/E,EAAEb,KAAK6F,aAAa,IAAIvH,EAAEyC,EAAEf,KAAKxB,GAAGsH,YAAYtH,GAAG,OAAO+D,EAAE/D,K,0ICAr7G,MAAMuC,GAAEhB,YAAYvB,EAAEqB,EAAExB,EAAE,KAAKuD,EAAE,KAAKtD,EAAEsB,EAAEnB,EAAET,EAAE8G,GAAG9E,KAAK+F,KAAKvH,EAAEwB,KAAKgG,SAASnG,EAAEG,KAAKiG,SAAS5H,EAAE2B,KAAKkG,WAAWtE,EAAE5B,KAAKmG,eAAe/D,cAAIpC,KAAKoG,mBAAmB,CAACC,WAAW,KAAKC,UAAU,KAAKC,SAAQ,GAAIvG,KAAKwG,2BAA0B,EAAGxG,KAAKyG,aAAanI,EAAE0B,KAAKgG,SAASnG,EAAEG,KAAK0G,OAAO,KAAK1G,KAAK2G,eAAe,KAAK3G,KAAK4G,8BAA8BnI,EAAEmB,GAAGI,KAAK6G,qBAAqBjH,EAAE5B,GAAGgC,KAAK8G,WAAWhC,EAAE+B,qBAAqBrI,EAAEqB,GAAGG,KAAK2G,eAAenI,EAAEwB,KAAKwG,2BAA0B,EAAGxG,KAAK+G,sBAAsBvI,EAAEqB,EAAEG,KAAKmG,gBAAgBa,8BAA8BhH,KAAKwG,2BAA0B,EAAGO,sBAAsBlH,EAAExB,EAAEuB,GAAGpB,YAAEwB,KAAKyG,gBAAgBpI,EAAEA,GAAGC,aAAEuB,GAAG+B,YAAEhC,EAAEI,KAAKyG,aAAaQ,YAAYpH,GAAGD,EAAE,GAAGI,KAAKyG,aAAaS,cAAc7I,GAA8B,8BAAG,OAAOwB,YAAEG,KAAK4G,+BAAgD,oBAAG,OAAO5G,KAAK+F,KAAKoB,cAAcC,0BAA0B,OAAO5I,YAAEwB,KAAK4G,+BAA+BvI,YAAE2B,KAAK2G,eAAelI,OAAIuB,KAAKwG,4BAA4BxG,KAAKqH,uBAAuBrH,KAAKqH,qBAAqBrJ,gBAAK4B,aAAEI,KAAKqH,qBAAqBrH,KAAK4G,8BAA8BvI,YAAE2B,KAAK2G,eAAelI,QAAKuB,KAAKwG,2BAA0B,GAAIxG,KAAKqH,sBAAsBC,wBAAwB9I,GAAG,GAAGwB,KAAKgG,SAASsB,wBAAwB,QAAQtH,KAAKgG,SAASsB,wBAAwBtH,KAAKxB,KAAKqB,YAAEG,KAAK2G,iBAAiB/E,YAAEpD,EAAEA,EAAEwB,KAAK2G,iBAAgB,GAAI,MAAMtI,EAAE2B,KAAKuH,QAAQ9G,IAAI,YAAYnC,EAAE0B,KAAKwH,iBAAiB/G,IAAI,YAAY,QAAQqE,YAAExG,EAAED,EAAEG,KAAKqB,YAAEG,KAAK2G,iBAAiB/E,YAAEpD,EAAEA,EAAEwB,KAAK2G,iBAAgB,GAAe,cAAG,OAAO3G,KAAK+F,KAAKwB,QAA4B,uBAAG,OAAOvH,KAAK+F,KAAKyB,iBAAiBC,eAAe,MAAMjJ,EAAE,IAAIqC,KAAE,GAAGhB,EAAEG,KAAKoG,mBAAmB,OAAOvG,EAAEwG,WAAWzD,aAAE/C,EAAEwG,WAAW7H,GAAGA,EAAEkJ,gBAAgBlJ,GAAG,MAAMqB,EAAEG,KAAKoG,mBAAmBvG,EAAEwG,WAAWrC,aAAEnE,EAAEwG,WAAW7H,I,8CCA/9C,SAAS6D,GAAEzC,EAAEpB,EAAEC,GAAG,MAAMT,EAAE4B,EAAEkB,OAAOzC,EAAE,IAAIsJ,MAAM3J,GAAGqE,EAAE,IAAIsF,MAAM3J,GAAG+C,EAAE,IAAI4G,MAAM3J,GAAG,IAAIoE,EAAE,EAAE4B,EAAE,EAAE1B,EAAE,EAAEhE,EAAE,EAAE,IAAI,IAAIsD,EAAE,EAAEA,EAAE5D,IAAI4D,EAAEtD,GAAGsB,EAAEgC,GAAGd,OAAO,MAAMD,EAAE,IAAI+G,aAAa,EAAEtJ,GAAG,IAAIiF,EAAE,EAAE,IAAI,IAAIX,EAAE5E,EAAE,EAAE4E,GAAG,EAAEA,IAAI,CAAC,MAAMtE,EAAEsB,EAAEgD,GAAGiF,EAAE,IAAIpJ,GAAGoB,GAAEvB,GAAG,GAAGuJ,GAAG,IAAI7J,EAAEK,EAAE+D,KAAK9D,MAAM,CAAC,IAAIsB,EAAEtB,EAAEwC,OAAO,IAAI,IAAItC,EAAE,EAAEA,EAAE4D,IAAI5D,EAAEoB,GAAGvB,EAAEG,GAAGsC,OAAO,MAAMrC,EAAE,CAACqJ,MAAMvE,EAAEwE,YAAY,IAAIJ,MAAMvF,EAAE,GAAG4F,MAAMpI,EAAEqI,YAAY,IAAIN,MAAMvF,IAAI3D,EAAEsJ,YAAY,GAAGzJ,EAAEwC,OAAOxC,EAAEwC,OAAO,IAAIC,EAAEuB,KAAK,CAACwF,MAAMvE,EAAEyE,MAAM1J,EAAEwC,SAASyC,EAAEsE,EAAEjG,GAAEtD,EAAEA,EAAEwC,OAAO,GAAG,EAAED,EAAE0C,EAAEjF,EAAEwC,OAAOtC,GAAGoD,GAAEtD,EAAE,EAAE,EAAEuC,EAAE0C,EAAEjF,EAAEwC,OAAOtC,GAAG,IAAI,IAAIR,EAAE,EAAEA,EAAEoE,IAAIpE,EAAE,CAAC,MAAM4B,EAAEvB,EAAEL,GAAGS,EAAEwJ,YAAYjK,GAAGuF,EAAE9E,EAAEsJ,YAAY/J,EAAE,GAAG4B,EAAEkB,OAAOlB,EAAEkB,OAAO,IAAIC,EAAEuB,KAAK,CAACwF,MAAMvE,EAAEyE,MAAMpI,EAAEkB,SAASyC,EAAE3B,GAAEhC,EAAE,EAAE,EAAEiB,EAAE0C,EAAE3D,EAAEkB,OAAOtC,GAAG4D,EAAE,EAAE3D,EAAEuJ,MAAM,IAAI3F,EAAE2B,KAAKvF,IAAI,IAAI,IAAIoB,EAAE,EAAEA,EAAEuC,IAAIvC,EAAE,CAAC,MAAMD,EAAEvB,EAAEwB,GAAGD,EAAEkB,OAAO,IAAIC,EAAEuB,KAAK,CAACwF,MAAMvE,EAAEyE,MAAMpI,EAAEkB,SAASyC,EAAE3B,GAAEhC,EAAE,EAAE,EAAEiB,EAAE0C,EAAE3D,EAAEkB,OAAOtC,GAAG,OAAOwF,EAAEhG,IAAIqE,EAAEvB,OAAOkD,GAAG1B,EAAEtE,IAAI+C,EAAED,OAAOwB,GAAG,CAAC4F,SAASrH,EAAEsH,SAAS9F,EAAE+F,SAASrH,GAAG,SAASa,GAAEhC,EAAEpB,EAAEC,EAAET,EAAEK,EAAEgE,EAAET,GAAGvD,GAAG,EAAE,IAAI,IAAIwB,EAAE,EAAEA,EAAEwC,IAAIxC,EAAE,CAAC,MAAMwC,EAAEzC,EAAEpB,GAAGR,EAAEK,KAAKgE,EAAE,GAAGrE,EAAEK,KAAKgE,EAAE,GAAGrE,EAAEK,KAAKuD,EAAES,EAAE,GAAG,EAAE7D,GAAGC,EAAE,OAAOJ,EAAE,EAAE,SAASwB,GAAErB,GAAG,OAAOoB,aAAEpB,GAAE,GAAG,G,+GCAzyD,MAAMqB,GAAEE,YAAYF,EAAE+B,cAAIb,EAAEvC,YAAE,OAAO,OAAO,QAAQoB,GAAE,GAAII,KAAKqI,UAAUxI,EAAEG,KAAKsI,UAAUvH,EAAEf,KAAKuI,YAAY3I,GAAG,MAAMmB,GAAEhB,YAAYF,EAAE+B,cAAIb,EAAEvC,YAAE,OAAO,OAAO,SAASwB,KAAKqI,UAAUzG,cAAI5B,KAAKsI,UAAU1G,cAAI5B,KAAKqI,UAAUxI,EAAEG,KAAKsI,UAAUvH,GAAG,MAAMnB,GAAEG,YAAYvB,EAAEoD,eAAK5B,KAAKqI,UAAU7J,GAAG,MAAMR,GAAE+B,cAAcC,KAAKwI,GAAG,CAACnK,EAAE,CAAC,GAAGiE,EAAE,CAAC,GAAGC,EAAE,CAAC,K,4DCA4nB,MAAMkG,GAAE1I,YAAYF,EAAE,KAAKpB,EAAE,KAAKJ,EAAE,MAAM2B,KAAK0I,QAAQ9G,cAAI5B,KAAK2I,aAAa/G,cAAI5B,KAAK4I,WAAWhH,cAAI5B,KAAK6I,KAAKnD,KAAEoD,gBAAgB9I,KAAK+I,UAAUC,YAAE,EAAE,EAAE,EAAE,GAAGhJ,KAAKiJ,SAASD,YAAE,EAAE,EAAE,EAAE,GAAGhJ,KAAKkJ,KAAK,GAAG,IAAIC,KAAKC,GAAGpJ,KAAKqJ,SAASC,aAAE,EAAE,KAAKtJ,KAAKuJ,YAAW,EAAGvJ,KAAKwJ,YAAYC,eAAIzJ,KAAK0J,kBAAiB,EAAG1J,KAAK2J,kBAAkBF,eAAIzJ,KAAK4J,sBAAqB,EAAG5J,KAAK6J,sBAAsBJ,eAAIzJ,KAAK8J,kCAAiC,EAAG9J,KAAK+J,4BAA4BN,eAAIzJ,KAAKgK,eAAc,EAAGhK,KAAKiK,SAASC,KAAEC,SAASnK,KAAKoK,cAAcC,cAAIrK,KAAKsK,WAAW,EAAEtK,KAAKuK,kBAAkB,EAAEvK,KAAKwK,KAAKhM,YAAEqB,GAAGuC,YAAEvC,GAAG+B,cAAI5B,KAAKyK,QAAQjM,YAAEC,GAAG2D,YAAE3D,GAAGmD,cAAI5B,KAAK0K,IAAIlM,YAAEH,GAAG+D,YAAE/D,GAAGuB,YAAE,EAAE,EAAE,GAAU,UAAG,OAAOI,KAAKwK,KAAY,QAAChM,GAAGwB,KAAK2K,mBAAmBnM,EAAEwB,KAAKwK,MAAgB,aAAG,OAAOxK,KAAKyK,QAAkB,WAACjM,GAAGwB,KAAK2K,mBAAmBnM,EAAEwB,KAAKyK,SAAgB,UAAG,OAAOzK,KAAK6I,KAAKnC,OAAO1G,KAAK4K,IAAI5K,KAAK6I,KAAKP,YAAYtI,KAAK6I,KAAKP,UAAU1G,eAAK5D,YAAEgC,KAAK6I,KAAKP,UAAUtI,KAAK6K,OAAO7K,KAAK4K,KAAK5K,KAAK6I,KAAW,SAAG,OAAO7I,KAAK0K,IAAU,OAAClM,GAAGwB,KAAK2K,mBAAmBnM,EAAEwB,KAAK0K,KAAmB,iBAAG,OAAO1K,KAAK8K,mBAAmB9K,KAAKwJ,YAA0B,eAAChL,GAAGuM,aAAE/K,KAAKwJ,YAAYhL,GAAGwB,KAAKuJ,YAAW,EAAGvJ,KAAK8J,kCAAiC,EAAG9J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,eAAc,EAAkB,kBAAG,OAAOhK,KAAK8K,mBAAmB9K,KAAK2I,aAAuB,aAAG,OAAO3I,KAAK8K,mBAAmB9K,KAAK0I,QAAqB,gBAAG,OAAO1I,KAAK8K,mBAAmB9K,KAAK4I,WAAsB,cAAG,OAAO5I,KAAKqJ,SAAiB,WAAG,OAAOrJ,KAAKqJ,SAAS,GAAW,SAAC7K,GAAGwB,KAAKqJ,SAAS,KAAK7K,IAAIwB,KAAKqJ,SAAS,GAAG7K,EAAEwB,KAAK0J,kBAAiB,EAAG1J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,eAAc,GAAW,UAAG,OAAOhK,KAAKqJ,SAAS,GAAU,QAAC7K,GAAGwB,KAAKqJ,SAAS,KAAK7K,IAAIwB,KAAKqJ,SAAS,GAAG7K,EAAEwB,KAAK0J,kBAAiB,EAAG1J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,eAAc,GAAgB,eAAG,OAAOhK,KAAK+I,UAAsB,aAACvK,GAAGwB,KAAK+K,EAAEvM,EAAE,GAAGwB,KAAK6H,EAAErJ,EAAE,GAAGwB,KAAKgB,MAAMxC,EAAE,GAAGwB,KAAKL,OAAOnB,EAAE,GAAQ,QAAG,OAAOwB,KAAK+I,UAAU,GAAQ,MAACvK,GAAGA,GAAGwB,KAAKiJ,SAAS,GAAGjJ,KAAK+I,UAAU,KAAKvK,IAAIwB,KAAK+I,UAAU,GAAGvK,EAAEwB,KAAK0J,kBAAiB,EAAG1J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,eAAc,GAAS,QAAG,OAAOhK,KAAK+I,UAAU,GAAQ,MAACvK,GAAGA,GAAGwB,KAAKiJ,SAAS,GAAGjJ,KAAK+I,UAAU,KAAKvK,IAAIwB,KAAK+I,UAAU,GAAGvK,EAAEwB,KAAK0J,kBAAiB,EAAG1J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,eAAc,GAAa,YAAG,OAAOhK,KAAK+I,UAAU,GAAY,UAACvK,GAAGwB,KAAK+I,UAAU,KAAKvK,IAAIwB,KAAK+I,UAAU,GAAGvK,EAAEwB,KAAK0J,kBAAiB,EAAG1J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,eAAc,GAAc,aAAG,OAAOhK,KAAK+I,UAAU,GAAa,WAACvK,GAAGwB,KAAK+I,UAAU,KAAKvK,IAAIwB,KAAK+I,UAAU,GAAGvK,EAAEwB,KAAK0J,kBAAiB,EAAG1J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,eAAc,GAAiB,gBAAG,OAAOhK,KAAK+I,UAAU,GAAG/I,KAAKiJ,SAAS,GAAGjJ,KAAKiJ,SAAS,GAAgB,cAACzK,GAAGwB,KAAKgB,MAAMxC,GAAGwB,KAAKiJ,SAAS,GAAGjJ,KAAKiJ,SAAS,IAAkB,iBAAG,OAAOjJ,KAAK+I,UAAU,GAAG/I,KAAKiJ,SAAS,GAAGjJ,KAAKiJ,SAAS,GAAiB,eAACzK,GAAGwB,KAAKL,OAAOnB,GAAGwB,KAAKiJ,SAAS,GAAGjJ,KAAKiJ,SAAS,IAAoB,mBAAG,OAAOjJ,KAAKoK,cAAc,GAAGpK,KAAK+I,UAAU,GAAG/I,KAAKiJ,SAAS,GAAGjJ,KAAKoK,cAAc,GAAGpK,KAAK+I,UAAU,GAAG/I,KAAKiJ,SAAS,GAAGjJ,KAAKoK,cAAc,GAAGpK,KAAKgL,UAAUhL,KAAKoK,cAAc,GAAGpK,KAAKiL,WAAWjL,KAAKoK,cAAwB,aAAG,OAAOpK,KAAKgB,MAAMhB,KAAKL,OAAkB,cAAG,OAAOK,KAAKiJ,SAAoB,YAACzK,GAAGwB,KAAKiJ,SAAS,KAAKzK,EAAE,IAAIwB,KAAKiJ,SAAS,KAAKzK,EAAE,IAAIwB,KAAKiJ,SAAS,KAAKzK,EAAE,IAAIwB,KAAKiJ,SAAS,KAAKzK,EAAE,KAAKwB,KAAK+I,UAAU,IAAIvK,EAAE,GAAGwB,KAAKiJ,SAAS,GAAGjJ,KAAK+I,UAAU,IAAIvK,EAAE,GAAGwB,KAAKiJ,SAAS,GAAGjJ,KAAK+I,UAAU,IAAIvK,EAAE,GAAGA,EAAE,IAAIwB,KAAKiJ,SAAS,GAAGjJ,KAAKiJ,SAAS,IAAIjJ,KAAK+I,UAAU,IAAIvK,EAAE,GAAGA,EAAE,IAAIwB,KAAKiJ,SAAS,GAAGjJ,KAAKiJ,SAAS,IAAIiC,YAAElL,KAAKiJ,SAASzK,GAAGwB,KAAK0J,kBAAiB,EAAG1J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,eAAc,GAA4B,2BAAG,OAAOhK,KAAK4J,uBAAuBuB,aAAEnL,KAAK6J,sBAAsB7J,KAAKb,iBAAiBa,KAAKP,YAAYO,KAAK4J,sBAAqB,GAAI5J,KAAK6J,sBAA0C,uBAAG,GAAG7J,KAAK0J,iBAAiB,CAAC,MAAMlL,EAAEwB,KAAKgB,MAAMnB,EAAEG,KAAKL,OAAOlB,EAAEuB,KAAKoL,KAAKjC,KAAKkC,IAAIrL,KAAKsL,KAAK,GAAGjN,EAAEI,EAAEuB,KAAKuL,OAAOC,aAAExL,KAAK2J,mBAAmBtL,GAAG,EAAE,EAAE2B,KAAKiJ,SAAS,GAAGzK,GAAGH,GAAG,EAAE,EAAE2B,KAAKiJ,SAAS,GAAGzK,IAAIC,GAAG,EAAE,EAAEuB,KAAKiJ,SAAS,GAAGpJ,GAAGpB,GAAG,EAAE,EAAEuB,KAAKiJ,SAAS,GAAGpJ,GAAGG,KAAKoL,KAAKpL,KAAKyL,KAAKzL,KAAK0J,kBAAiB,EAAG,OAAO1J,KAAK2J,kBAAsC,qBAACnL,GAAGuM,aAAE/K,KAAK2J,kBAAkBnL,GAAGwB,KAAK0J,kBAAiB,EAAG1J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,eAAc,EAAU,UAAG,OAAOhK,KAAKkJ,KAAY,QAAC1K,GAAGwB,KAAKkJ,KAAK1K,EAAEwB,KAAK0J,kBAAiB,EAAG1J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,eAAc,EAAW,WAAG,OAAO/E,aAAEjF,KAAKkJ,KAAKlJ,KAAKgB,MAAMhB,KAAKL,QAAgB,SAACnB,GAAGwB,KAAKkJ,KAAKwC,aAAElN,EAAEwB,KAAKgB,MAAMhB,KAAKL,QAAQK,KAAK0J,kBAAiB,EAAG1J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,eAAc,EAAW,WAAG,OAAO2B,aAAE3L,KAAKkJ,KAAKlJ,KAAKgB,MAAMhB,KAAKL,QAAgB,SAACnB,GAAGwB,KAAKkJ,KAAK0C,aAAEpN,EAAEwB,KAAKgB,MAAMhB,KAAKL,QAAQK,KAAK0J,kBAAiB,EAAG1J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,eAAc,EAAe,eAAG,OAAO1L,YAAE0B,KAAKyK,QAAQzK,KAAKwK,MAAiB,cAAG,OAAOxK,KAAK6L,oBAAoB7L,KAAKiK,SAAuC,iCAAG,OAAOjK,KAAK8J,kCAAkC9J,KAAKuJ,cAAcuC,aAAE9L,KAAK+J,4BAA4B/J,KAAKP,YAAYsM,aAAE/L,KAAK+J,4BAA4B/J,KAAK+J,6BAA6B/J,KAAK8J,kCAAiC,GAAI9J,KAAK+J,4BAA4BiC,gBAAgBxN,GAAG,MAAMqB,EAAE,EAAErB,EAAE,EAAE,OAAO,EAAEwB,KAAKoL,KAAKpL,KAAKyL,KAAKzL,KAAKyL,IAAIzL,KAAKoL,KAAKvL,GAAGG,KAAKyL,IAAIzL,KAAKoL,OAA8B,0BAAG,OAAOjC,KAAKkC,IAAIrL,KAAKiM,KAAK,IAAIjM,KAAKgB,MAAM,GAA0B,0BAAG,OAAOhB,KAAKkM,oBAAoBlM,KAAKsK,WAA0B,kBAAG,OAAOtK,KAAKuK,mBAAmBvK,KAAKuK,mBAAmB,EAAE4B,SAAS3N,GAAG,MAAMqB,EAAErB,EAAE,OAAO4N,YAAEpM,KAAKwK,KAAK3K,EAAE2K,MAAM4B,YAAEpM,KAAKyK,QAAQ5K,EAAE4K,SAAS2B,YAAEpM,KAAK0K,IAAI7K,EAAE6K,KAAKQ,YAAElL,KAAK+I,UAAUlJ,EAAEkJ,WAAWmC,YAAElL,KAAKiJ,SAASpJ,EAAEoJ,UAAUoD,aAAErM,KAAKqJ,SAASxJ,EAAEwJ,UAAUrJ,KAAKkJ,KAAKrJ,EAAEqJ,KAAKlJ,KAAKuK,kBAAkB/L,EAAE+L,kBAAkBvK,KAAKuJ,WAAW1J,EAAE0J,WAAWvJ,KAAKuJ,aAAawB,aAAE/K,KAAKwJ,YAAY3J,EAAE2J,aAAa4C,YAAEpM,KAAK4I,WAAW/I,EAAE+I,YAAYwD,YAAEpM,KAAK0I,QAAQ7I,EAAE6I,SAAS0D,YAAEpM,KAAK2I,aAAa9I,EAAE8I,eAAe9I,EAAE6J,iBAAiB1J,KAAK0J,kBAAiB,GAAIqB,aAAE/K,KAAK2J,kBAAkB9J,EAAE8J,mBAAmB3J,KAAK0J,kBAAiB,GAAI1J,KAAK4J,sBAAqB,EAAG5J,KAAKgK,cAAcnK,EAAEmK,cAAchK,KAAKgK,gBAAgBE,KAAEoC,KAAKzM,EAAEoK,SAASjK,KAAKiK,UAAUjK,KAAKgK,eAAc,GAAInK,EAAEiK,iCAAiC9J,KAAK8J,kCAAiC,GAAIiB,aAAE/K,KAAK+J,4BAA4BlK,EAAEkK,6BAA6B/J,KAAK8J,kCAAiC,GAAIoB,YAAElL,KAAKoK,cAAcvK,EAAEuK,eAAepK,KAAKsK,WAAW9L,EAAE8L,WAAWtK,KAAKuM,aAAa/N,GAAGwB,KAAK4K,IAAIpM,EAAEoM,IAAI5K,KAAK6K,OAAOrM,EAAEqM,OAAO7K,KAAKwM,GAAGhO,EAAEgO,GAAGrK,QAAQ,OAAO,IAAIsG,IAAG0D,SAASnM,MAAMyM,OAAOjO,GAAG,OAAO+E,YAAEvD,KAAKwK,KAAKhM,EAAEgM,OAAOjH,YAAEvD,KAAKyK,QAAQjM,EAAEiM,UAAUlH,YAAEvD,KAAK0K,IAAIlM,EAAEkM,MAAMnI,YAAEvC,KAAK+I,UAAUvK,EAAEuK,YAAYxG,YAAEvC,KAAKiJ,SAASzK,EAAEyK,WAAWyD,aAAE1M,KAAKqJ,SAAS7K,EAAE6K,WAAWrJ,KAAKkJ,OAAO1K,EAAE0K,MAAMlJ,KAAKsK,aAAa9L,EAAE8L,YAAYtK,KAAKuK,oBAAoB/L,EAAE+L,kBAAkBoC,aAAanO,GAAG,GAAGwB,KAAKsK,aAAa9L,EAAE8L,YAAYnB,KAAKyD,IAAIpO,EAAEqO,IAAI7M,KAAKkJ,OAAO,KAAK,OAAM,EAAG,MAAMrJ,EAAE,KAAegB,YAAEiM,GAAEtO,EAAEoM,IAAIpM,EAAEqM,QAAQhK,YAAEkM,GAAE/M,KAAKwK,KAAKxK,KAAKyK,SAAS,MAAMpM,EAAE2O,YAAEF,GAAEC,IAAGnL,EAAEb,YAAE+L,IAAG1K,EAAErB,YAAEgM,IAAG,OAAO1O,EAAEA,IAA9F,EAAE,OAAiGuD,EAAEQ,GAAGyB,YAAErF,EAAEoM,IAAI5K,KAAKwK,MAAMrB,KAAK8D,IAAIrL,EAAEQ,GAAGvC,EAAEA,GAAGqN,YAAE1O,EAAE2O,QAAQnN,KAAKiJ,UAAU,IAAIiE,YAAE1O,EAAE4O,SAASpN,KAAK+I,WAAW,GAAGsE,gBAAgBrN,KAAKuJ,YAAW,EAAGvJ,KAAKgK,eAAc,EAAGhK,KAAK4J,sBAAqB,EAAG0D,yBAAyB9O,GAAG,OAAOwB,KAAKuN,6BAA6BvN,KAAKwN,sBAAsBhP,IAAI+O,6BAA6B/O,GAAG,OAAOA,EAAEwB,KAAKkM,oBAAoBuB,yBAAyBjP,GAAG,OAAOwB,KAAK0N,6BAA6B1N,KAAKwN,sBAAsBhP,IAAIgP,sBAAsBhP,GAAG,OAAO2K,KAAKyD,IAAIe,aAAE3N,KAAK4N,YAAY5P,YAAE8O,GAAEtO,EAAEwB,KAAKwK,QAAQkD,6BAA6BlP,GAAG,OAAOA,EAAEwB,KAAK6N,oBAAoBC,0BAA0BtP,EAAEqB,GAAG,OAAOrB,EAAE2K,KAAKkC,IAAIlC,KAAK4E,IAAI/N,KAAKiM,KAAKjM,KAAKsL,OAAO,GAAGzL,GAAG,KAAKmO,gBAAgBxP,EAAEC,gBAAK,OAAOD,EAAE,IAAIwB,KAAKmN,QAAQ,GAAGnN,KAAKgB,MAAM,GAAGhB,KAAKsK,WAAW9L,EAAE,IAAIwB,KAAKmN,QAAQ,GAAGnN,KAAKL,OAAO,GAAGK,KAAKsK,WAAW9L,EAAEyP,gBAAgBzP,EAAEqB,EAAE,GAAGpB,EAAE,IAAI,OAAOD,IAAIA,EAAEH,gBAAKG,EAAE,GAAGwB,KAAKmN,QAAQ,GAAGnN,KAAKgB,MAAMnB,EAAErB,EAAE,GAAGwB,KAAKmN,QAAQ,GAAGnN,KAAKL,OAAOlB,EAAED,EAAEsC,OAAO,IAAItC,EAAE,GAAG,IAAIA,EAAE0P,cAAc1P,GAAG,MAAMqB,EAAEG,KAAKoN,SAAS3O,EAAEuB,KAAKmN,QAAQ3O,EAAE2P,YAAYtO,EAAE,GAAGpB,EAAE,GAAGoB,EAAE,GAAGpB,EAAE,GAAGoB,EAAE,GAAGpB,EAAE,GAAGA,EAAE,GAAGoB,EAAE,GAAGpB,EAAE,GAAGA,EAAE,IAAI2P,gBAAgB5P,EAAEC,EAAEJ,GAAE,GAAIG,IAAI6P,IAAGjC,YAAEiC,GAAE7P,GAAG6P,GAAE,GAAG,EAAEhQ,IAAII,EAAE,IAAI4P,GAAE,IAAIxJ,YAAEwJ,GAAEA,GAAErO,KAAKb,kBAAkByD,YAAEyL,GAAEA,GAAE,EAAElF,KAAKyD,IAAIyB,GAAE,KAAK,MAAMzM,EAAE5B,KAAKsO,aAAa,OAAO7P,EAAE,GAAGoB,aAAE,EAAE+B,EAAE,GAAGA,EAAE,GAAG,GAAG,GAAGyM,GAAE,IAAI5P,EAAE,GAAGoB,aAAE,EAAE+B,EAAE,GAAGA,EAAE,GAAG,GAAG,GAAGyM,GAAE,IAAIhQ,IAAII,EAAE,GAAG,IAAI4P,GAAE,GAAG,IAAI5P,EAAE8P,gBAAgB/P,EAAEqB,GAAG,OAAOG,KAAKwO,sBAAsBhQ,EAAEiQ,IAAGzO,KAAK0O,eAAeD,GAAE5O,GAAG2O,sBAAsBhQ,EAAEC,GAAG,GAAG4P,GAAE,GAAG7P,EAAE,GAAG6P,GAAE,GAAG7P,EAAE,GAAG6P,GAAE,GAAG7P,EAAE,GAAG6P,GAAE,GAAG,EAAExJ,YAAEwJ,GAAEA,GAAErO,KAAK2O,sBAAsB,IAAIN,GAAE,GAAG,OAAO,KAAKzL,YAAEyL,GAAEA,GAAE,EAAElF,KAAKyD,IAAIyB,GAAE,KAAK,MAAMhQ,EAAE2B,KAAKsO,aAAa,MAAM,MAAM7P,GAAGA,EAAEsM,EAAElL,aAAE,EAAExB,EAAE,GAAGA,EAAE,GAAG,GAAG,GAAGgQ,GAAE,IAAI5P,EAAEoJ,EAAEhI,aAAE,EAAExB,EAAE,GAAGA,EAAE,GAAG,GAAG,GAAGgQ,GAAE,MAAM5P,EAAE,GAAGoB,aAAE,EAAExB,EAAE,GAAGA,EAAE,GAAG,GAAG,GAAGgQ,GAAE,IAAI5P,EAAE,GAAGoB,aAAE,EAAExB,EAAE,GAAGA,EAAE,GAAG,GAAG,GAAGgQ,GAAE,IAAI5P,EAAEqC,OAAO,IAAIrC,EAAE,GAAG,IAAI4P,GAAE,GAAG,KAAK5P,EAAEmQ,oBAAoBpQ,EAAEqB,GAAG,OAAOG,KAAK6O,0BAA0B7O,KAAK8O,eAAetQ,EAAEiQ,IAAG5O,GAAGgP,0BAA0BrQ,EAAEqB,GAAG,GAAGsL,aAAE4D,GAAE/O,KAAKb,iBAAiBa,KAAKP,aAAaqM,aAAEiD,GAAEA,IAAG,OAAO,KAAK,MAAMtQ,EAAEuB,KAAKsO,aAAa,OAAOD,GAAE,GAAG,GAAG7P,EAAE,GAAGC,EAAE,IAAIA,EAAE,GAAG,EAAE4P,GAAE,GAAG,GAAG7P,EAAE,GAAGC,EAAE,IAAIA,EAAE,GAAG,EAAE4P,GAAE,GAAG,EAAE7P,EAAE,GAAG,EAAE6P,GAAE,GAAG,EAAExJ,YAAEwJ,GAAEA,GAAEU,IAAG,IAAIV,GAAE,GAAG,MAAMxO,EAAE,GAAGwO,GAAE,GAAGA,GAAE,GAAGxO,EAAE,GAAGwO,GAAE,GAAGA,GAAE,GAAGxO,EAAE,GAAGwO,GAAE,GAAGA,GAAE,GAAGxO,GAAGmP,oBAAoBxQ,EAAEqB,EAAEpB,EAAEJ,EAAE,GAAG,MAAMuD,EAAEpD,EAAEwB,KAAKsK,WAAWlI,EAAEvC,EAAEG,KAAKsK,WAAW1K,EAAEuJ,KAAK8D,IAAIrL,EAAEnD,EAAEJ,EAAE,EAAE,GAAGL,EAAEmL,KAAK8D,IAAIjN,KAAKiL,WAAW7I,EAAE3D,EAAE,EAAE,GAAGH,GAAG6K,KAAK4E,IAAInM,EAAEnD,EAAEJ,EAAE,EAAE,GAAG+N,GAAGjD,KAAK4E,IAAI/N,KAAKiL,WAAW7I,EAAE3D,EAAE,EAAE,GAAG,MAAM,CAACmB,EAAE5B,EAAES,EAAEJ,EAAEC,IAAI6K,KAAK4E,IAAI/N,KAAKgL,UAAUpJ,EAAEnD,EAAEJ,EAAE,EAAE,GAAGI,EAAE2N,IAAIjD,KAAK4E,IAAI3L,EAAE3D,EAAE,EAAE,IAAIwQ,UAAUzQ,GAAG,IAAIA,EAAEwB,KAAKkP,kBAAkBlP,KAAKmP,iBAAiBL,eAAetQ,EAAEqB,GAAG,MAAMpB,EAAED,EAAE,GAAGwB,KAAKsK,WAAWjM,EAAE2B,KAAKiL,WAAWzM,EAAE,GAAGwB,KAAKsK,WAAW,OAAOzK,EAAE,GAAGpB,EAAEoB,EAAE,GAAGxB,EAAEwB,EAAE6O,eAAelQ,EAAEqB,GAAG,MAAMpB,EAAED,EAAE,GAAGwB,KAAKsK,WAAWjM,GAAG2B,KAAKiL,WAAWzM,EAAE,IAAIwB,KAAKsK,WAAW,OAAOzK,EAAE,GAAGpB,EAAEoB,EAAE,GAAGxB,EAAEwB,EAAEqP,kBAAkBlR,YAAE8O,GAAE9M,KAAK6K,OAAO7K,KAAK4K,KAAK,MAAMpM,EAAE6D,YAAErC,KAAK6K,QAAQrM,EAAE,GAAGqJ,YAAE7H,KAAKwM,GAAG,EAAE,EAAE,GAAGxM,KAAKqN,iBAAiBlE,KAAKyD,IAAII,YAAEF,GAAE9M,KAAK6K,SAAS,MAAMxI,YAAEyK,IAAGtO,IAAIwF,YAAEhE,KAAKwM,GAAGM,GAAE9M,KAAK6K,QAAQ7G,YAAEhE,KAAKwM,GAAGxM,KAAKwM,GAAGM,IAAGxK,YAAEtC,KAAKwM,GAAGxM,KAAKwM,IAAIxM,KAAKqN,iBAAiB8B,iBAAiBrK,aAAEgI,GAAE9M,KAAK4K,IAAI5K,KAAK6K,QAAQ1B,KAAKyD,IAAIE,GAAE,KAAK,QAAQlK,YAAEkK,GAAEA,GAAEA,GAAE,IAAIjF,YAAE7H,KAAKwM,IAAIM,GAAE,IAAIA,GAAE,GAAG,EAAEA,GAAE,IAAIxK,YAAEtC,KAAKwM,GAAGxM,KAAKwM,IAAIxM,KAAKqN,iBAAiB1C,mBAAmBnM,EAAEqB,GAAG0D,YAAE/E,EAAEqB,KAAKuM,YAAEvM,EAAErB,GAAGwB,KAAKuJ,YAAW,EAAGvJ,KAAKgK,eAAc,EAAGhK,KAAK4J,sBAAqB,GAAIiC,oBAAoB7L,KAAKgK,gBAAgBE,KAAEkF,WAAWpP,KAAKP,WAAWO,KAAKb,iBAAiBa,KAAKiK,UAAUjK,KAAKgK,eAAc,GAAIc,mBAAmB9K,KAAKuJ,aAAa8F,aAAErP,KAAKwJ,YAAYxJ,KAAKwK,KAAKxK,KAAKyK,QAAQzK,KAAK0K,KAAK7C,YAAE7H,KAAK2I,cAAc3I,KAAKwJ,YAAY,IAAIxJ,KAAKwJ,YAAY,IAAIxJ,KAAKwJ,YAAY,KAAK3B,YAAE7H,KAAK0I,QAAQ1I,KAAKwJ,YAAY,GAAGxJ,KAAKwJ,YAAY,GAAGxJ,KAAKwJ,YAAY,IAAI3B,YAAE7H,KAAK4I,WAAW5I,KAAKwJ,YAAY,GAAGxJ,KAAKwJ,YAAY,GAAGxJ,KAAKwJ,YAAY,IAAIxJ,KAAKuJ,YAAW,EAAGvJ,KAAK8J,kCAAiC,IAAK,MAAMuE,GAAEhE,cAAI0E,GAAEtF,eAAIqD,GAAElL,cAAImL,GAAEnL,cAAI6M,GAAEpQ,eAAmBoK,UCA9iW,IAAIO,GAAE,cAAcqD,KAAEtM,cAAcgF,SAASuK,WAAWtP,KAAKuP,sCAAqC,EAAGvP,KAAKwP,uBAAsB,EAAGxP,KAAKyP,sCAAqC,EAAGzP,KAAK0P,+BAA8B,EAAG1P,KAAK2P,2BAA0B,EAAG3P,KAAK4P,6BAA4B,EAAG5P,KAAK6P,wBAAuB,EAAG7P,KAAK8P,oBAAmB,EAAG9P,KAAK+P,4BAA2B,EAAG/P,KAAKgQ,qBAAoB,EAAGhQ,KAAKiQ,UAAS,EAAGjQ,KAAKkQ,iCAAgC,EAAGlQ,KAAKmQ,wCAAuC,EAAGnQ,KAAKoQ,8CAA6C,EAAGpQ,KAAKqQ,4BAA2B,EAAGrQ,KAAKsQ,+BAA8B,EAAGtQ,KAAKuQ,8BAA6B,EAAGvQ,KAAKwQ,8BAA6B,EAAGxQ,KAAKyQ,qBAAoB,EAAGzQ,KAAK0Q,wBAAuB,EAAG1Q,KAAK2Q,4BAA2B,EAAG3Q,KAAK4Q,sBAAqB,EAAG5Q,KAAK6Q,uCAAsC,EAAG7Q,KAAK8Q,yCAAwC,EAAG9Q,KAAK+Q,qCAAoC,IAAKpD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,4CAAuC,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,6BAAwB,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,4CAAuC,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,qCAAgC,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,iCAA4B,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,mCAA8B,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,8BAAyB,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,0BAAqB,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,kCAA6B,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,2BAAsB,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,gBAAW,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,uCAAkC,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,8CAAyC,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,oDAA+C,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,kCAA6B,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,qCAAgC,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,oCAA+B,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,oCAA+B,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,2BAAsB,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,8BAAyB,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,kCAA6B,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,4BAAuB,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,6CAAwC,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,+CAA0C,GAAQrD,YAAE,CAACvB,eAAKpD,GAAEgI,UAAU,2CAAsC,GAAQhI,GAAE2E,YAAE,CAAC3P,YAAE,qCAAqCgL,IAAgCqB,OAArB,IAAIrB,G,UCAnkF,MAAMpH,GAAE7B,YAAYtB,EAAED,GAAGwB,KAAKiR,GAAG5S,eAAI2B,KAAKkR,cAAc,KAAKlR,KAAKkR,cAAc,IAAIrR,IAAEpB,EAAE,CAAC0S,YAAY,EAAEC,mBAAmB,GAAG,CAACC,OAAO,KAAKnQ,YAAY,KAAKC,SAAS,KAAKC,SAAS,MAAMkQ,aAAa,KAAKC,UAAU/S,EAAEgT,cAAc,EAAExQ,MAAM,EAAErB,OAAO,IAAIQ,UAAUH,KAAKkR,cAAczS,YAAEuB,KAAKkR,eAAeO,aAAa,OAAOzR,KAAKkR,cAAclR,KAAKkR,cAAcQ,aAAa,KAAKC,UAAU,OAAO,OAAO3R,KAAKkR,cAAcU,OAAOnT,EAAEJ,GAAG2B,KAAKkR,cAAcU,OAAOnT,EAAEJ,GAAGsC,KAAKlC,GAAGA,EAAEoT,gBAAgB7R,KAAKkR,eAAeY,iBAAiB9R,KAAKkR,cAAcQ,aAAaK,WAAWR,WAAWvR,KAAKkR,cAAcQ,aAAaM,iBAAiBC,4BAA4BjS,KAAKkR,eAAelR,KAAKkR,cAAcU,OAAO,EAAE,GAAGM,oBAAoB,IAAIzT,EAAE,EAAE,OAAOuB,KAAKkR,gBAAgBzS,GAAGD,aAAEwB,KAAKkR,gBAAgBzS,G,cCAxjC,MAAMJ,GAAE0B,YAAYH,EAAEpB,GAAGwB,KAAKmS,KAAKvS,EAAEI,KAAKiR,GAAGzS,GAAwC,SAASuC,GAAEnB,EAAEgC,EAAEb,EAAEtC,GAAG,OAAO,IAAIJ,GAAEG,YAAEoB,EAAEgC,EAAEb,GAAGtC,GCAY,MAAMmD,GAAE7B,YAAY6B,GAAG5B,KAAKoS,OAAO3T,eAAIuB,KAAKqS,WAAW,EAAErS,KAAKsS,kBAAkB9T,GAAE,EAAE,EAAE,EAAE,KAAKwB,KAAKsK,WAAW,EAAEtK,KAAKuS,cAAc,CAAC/P,MAAM,CAACgQ,IAAI,IAAInU,GAAEuD,GAAE,GAAI6Q,OAAM,EAAGC,SAAS,KAAKC,wBAAwB,CAACH,IAAI,IAAInU,GAAEuD,GAAE,GAAI6Q,OAAM,EAAGC,SAAS,KAAKE,UAAU,CAACJ,IAAI,IAAInU,GAAEuD,GAAE,GAAI6Q,OAAM,EAAGC,SAAS,KAAKG,MAAM,CAACL,IAAI,IAAInU,GAAEuD,GAAE,GAAI6Q,OAAM,EAAGC,SAAS,KAAKI,SAAS,CAACN,IAAI,IAAInU,GAAEuD,GAAE,GAAI6Q,OAAM,EAAGC,SAAS,MAAMvS,UAAUH,KAAKuS,cAAc/P,MAAMgQ,IAAIrS,UAAUH,KAAKuS,cAAcI,wBAAwBH,IAAIrS,UAAUH,KAAKuS,cAAcK,UAAUJ,IAAIrS,UAAUH,KAAKuS,cAAcM,MAAML,IAAIrS,UAAUH,KAAKuS,cAAcO,SAASN,IAAIrS,UAAU4S,kBAAkBtU,EAAEJ,EAAEG,GAAG,MAAMoD,EAAE5B,KAAKuS,cAAc3Q,EAAEY,MAAMiQ,MAAMhU,EAAEuU,SAAS,EAAEpR,EAAEY,MAAMgQ,IAAInU,GAAGuD,EAAEgR,UAAUH,MAAMhU,EAAEuU,SAAS,EAAEpR,EAAEgR,UAAUJ,IAAInU,GAAGuD,EAAEiR,MAAMJ,MAAMhU,EAAEuU,SAAS,EAAEpR,EAAEiR,MAAML,IAAInU,GAAGuD,EAAEkR,SAASL,MAAMhU,EAAEuU,SAAS,EAAEpR,EAAEkR,SAASN,IAAInU,EAAE,GAAGuD,EAAE+Q,wBAAwBF,MAAMjU,GAAGC,EAAEuU,SAAS,EAAEpR,EAAE+Q,wBAAwBH,IAAInU,EAAE,GAAG4U,sCAAsC,MAAMxU,EAAEuB,KAAKuS,cAAc,OAAO9T,EAAE+D,MAAMiQ,OAAOhU,EAAEkU,wBAAwBF,OAAO,GAAGhU,EAAEmU,UAAUH,OAAO,GAAGhU,EAAEoU,MAAMJ,OAAO,GAAGhU,EAAEqU,SAASL,OAAO,EAAES,cAAczU,EAAEJ,GAAG,GAAGI,EAAEgU,MAAMhU,EAAEiU,SAASrU,OAAO,GAAGA,EAAEI,EAAEiU,SAASpU,GAAEG,EAAE+T,IAAIP,4BAA4BxT,EAAEiU,SAAS,SAAS,GAAGjU,EAAEiU,SAAS,IAAI,OAAM,EAAG,OAAM,EAAGS,oBAAoB1U,GAAG,IAAIJ,GAAE,EAAG,OAAOA,EAAE2B,KAAKkT,cAAclT,KAAKuS,cAAc/P,MAAM/D,IAAIJ,EAAEA,EAAE2B,KAAKkT,cAAclT,KAAKuS,cAAcI,wBAAwBlU,IAAIJ,EAAEA,EAAE2B,KAAKkT,cAAclT,KAAKuS,cAAcK,UAAUnU,IAAIJ,EAAEA,EAAE2B,KAAKkT,cAAclT,KAAKuS,cAAcO,SAASrU,IAAIJ,EAAEA,EAAE2B,KAAKkT,cAAclT,KAAKuS,cAAcM,MAAMpU,IAAIJ,EAAEA,EAAE6T,oBAAoB,OAAOlS,KAAKuS,cAAc/P,MAAMgQ,IAAIN,oBAAoBlS,KAAKuS,cAAcI,wBAAwBH,IAAIN,oBAAoBlS,KAAKuS,cAAcK,UAAUJ,IAAIN,oBAAoBlS,KAAKuS,cAAcM,MAAML,IAAIN,oBAAoBlS,KAAKuS,cAAcO,SAASN,IAAIN,qBAAqB,MAAM5T,GAAE,I,cCAn/D,MAAMsD,GAAE7B,cAAcC,KAAKoT,UAAU,CAACC,KAAK,GAAGC,mBAAmB,GAAGC,gBAAgB,GAAGC,sBAAsB,IAAIrT,UAAUH,KAAKoT,UAAU,KAAKK,YAAYpV,GAAG,OAAO2B,KAAKoT,UAAU/U,IAAI,GAAGqV,iBAAiBrV,GAAG,IAAI,MAAMuD,KAAK5B,KAAKoT,UAAU/U,EAAEsV,WAAW/R,IAAI5B,KAAKoT,UAAUxR,GAAGgS,KAAKvV,GAAGwV,mBAAmBjS,GAAG,IAAI,MAAM/B,KAAKG,KAAKoT,UAAU/U,aAAE2B,KAAKoT,UAAUvT,GAAG+B,ICA9W,MAAMpD,GAAEuB,YAAYtB,GAAGuB,KAAK8T,UAAUrV,EAAEuB,KAAKU,SAAS,EAAEV,KAAK+T,aAAa,GAAG,MAAM1V,GAAE0B,YAAYtB,GAAGuB,KAAKgU,SAASvV,EAAEuB,KAAKiU,yBAAyB,IAAI/T,IAAIF,KAAKkU,cAAc,EAAElU,KAAKmU,qBAAqB,KAAoB,kBAAG,OAAOnU,KAAKgU,SAASI,YAAmC,0BAAG,OAAOpU,KAAKgU,SAAS7T,UAAUH,KAAKiU,yBAAyB7T,SAAS3B,GAAGA,EAAE2B,SAAS3B,GAAGA,EAAEqV,UAAU3T,cAAcH,KAAKiU,yBAAyB3T,QAAQC,QAAQ9B,EAAEJ,GAAG,MAAMuD,EAAEvD,EAAEgW,IAAI,IAAIzU,EAAEI,KAAKiU,yBAAyBxT,IAAIhC,GAAGmB,IAAIA,EAAE,IAAIM,IAAIF,KAAKiU,yBAAyB5S,IAAI5C,EAAEmB,IAAI,IAAI5B,EAAE4B,EAAEa,IAAImB,GAAG,YAAO,IAAS5D,IAAIA,EAAE,IAAIQ,GAAE,IAAIC,EAAEuB,KAAKgU,SAAS3V,IAAIuB,EAAEyB,IAAIO,EAAE5D,MAAMA,EAAE0C,SAAS1C,EAAE8V,UAAUQ,0BAA0B9V,EAAEH,EAAEuD,GAAG,OAAOnD,YAAEmD,GAAG5B,KAAKO,QAAQ/B,EAAEH,GAAGA,EAAEgW,MAAMzS,EAAEyS,KAAKzS,aAAapD,EAAEoD,GAAG5B,KAAKsB,QAAQM,GAAG5B,KAAKO,QAAQ/B,EAAEH,IAAIiD,QAAQ9C,GAAG,GAAGC,YAAED,GAAG,OAAO,MAAMH,EAAE2B,KAAKiU,yBAAyBxT,IAAIjC,EAAEuB,aAAaU,IAAIjC,EAAE6V,KAAKhW,EAAEqC,UAAU,EAAE,IAAIrC,EAAEqC,WAAWrC,EAAE0V,aAAa/T,KAAKkU,eAAeK,cAAcvU,KAAKkU,gBAAgBlU,KAAKiU,yBAAyB7T,SAAS,CAAC3B,EAAED,KAAKC,EAAE2B,SAAS,CAAC5B,EAAEH,KAAK,IAAIG,EAAEkC,UAAUlC,EAAEuV,aAAa/T,KAAKmU,qBAAqBnU,KAAKkU,gBAAgB1V,EAAEsV,UAAU3T,UAAU1B,EAAE8C,OAAOlD,OAAO,IAAII,EAAEoE,MAAM7C,KAAKiU,yBAAyB1S,OAAO/C,MAAMgW,wBAAwB/V,GAAG,OAAOuB,KAAKgU,SAASS,mBAAmBhB,YAAYhV,GAAkB,kBAAG,MAAMA,EAAE,IAAIkJ,MAAM3H,KAAKiU,yBAAyB7T,SAAS,CAAC5B,EAAEH,KAAsHI,EAAEmV,KAA3Gc,OAAMjW,EAAED,KAAK,MAAMH,EAAEG,EAAEmW,OAAOtW,UAAUA,EAAEuW,SAASnW,EAAE2B,SAAS3B,IAAIA,EAAEqV,UAAUc,OAAO5U,KAAKgU,eAAsBpS,CAAEpD,EAAEH,aAAawW,QAAQC,IAAIrW,ICAzjD,MAAMD,GAAE,CAAC,CAACuW,OAAO,EAAEC,KAAK,SAAS,CAACD,OAAO,EAAEC,KAAK,SAAS,CAACD,OAAO,EAAEC,KAAK,UAAU,CAACD,OAAO,EAAEC,KAAK,kBAAkB,CAACD,OAAO,EAAEC,KAAK,aAAa,CAACD,OAAO,EAAEC,KAAK,UAAU,CAACD,OAAO,EAAEC,KAAK,aAAa,CAACD,OAAO,EAAEC,KAAK,UAAU,SAASnU,GAAEA,EAAE7C,GAAG,OAAO6C,EAAE,IAAIrC,GAAEyW,MAAMzW,GAAGA,EAAEuW,SAAS/W,IAAIgX,KCA5C,MAAMpT,GAAEpD,IAAE0W,UAAU,gDAAgD,MAAMlX,GAAE+B,YAAYtB,GAAGuB,KAAKmV,OAAO,EAAEnV,KAAKoV,WAAW3W,EAAE4W,cAAcrV,KAAKmV,OAAOG,cAActV,KAAKmV,OAAOtV,aAAEG,KAAKmV,QAAQ,GAAGI,YAAY,OAAOvV,KAAKmV,OAAOK,gBAAgB,OAAOxV,KAAKoV,YAA+kCxV,OAAnkC,MAAQG,YAAYtB,EAAED,EAAEqB,GAAGG,KAAKyV,YAAYhX,EAAEuB,KAAK0V,cAAclX,EAAEwB,KAAK2V,kBAAkB9V,EAAEG,KAAK4V,kBAAkB,IAAI1V,IAAIC,UAAUH,KAAKyV,YAAYtV,UAAUI,QAAQ9B,EAAED,GAAGwB,KAAK6V,YAAYpX,GAAG,MAAMoB,EAAExB,GAAEI,EAAEwS,GAAGzS,GAAG,IAAIF,EAAE0B,KAAK4V,kBAAkBnV,IAAIZ,GAAG,GAAG,MAAMvB,EAAE,CAAC,MAAMD,EAAEI,EAAE+W,cAAc,CAACxP,SAASvH,EAAEqX,aAAa9V,KAAK0V,cAAcK,WAAW/V,KAAKyV,YAAYV,OAAOvW,IAAI,OAAOF,EAAE,IAAIN,GAAEK,GAAGC,EAAE+W,YAAYrV,KAAK4V,kBAAkBvU,IAAIxB,EAAEvB,GAAGD,EAAE,OAAOC,EAAE+W,YAAY/W,EAAEkX,gBAAgBlU,QAAQ7C,EAAED,GAAG,MAAMqB,EAAExB,GAAEI,EAAEwS,GAAGzS,GAAGF,EAAE0B,KAAK4V,kBAAkBnV,IAAIZ,GAAG,GAAGvB,EAAEgX,YAAY,IAAIhX,EAAEiX,YAAY,CAAC,MAAM9W,EAAEH,EAAEkX,gBAAgB/W,GAAGA,EAAE0B,UAAUH,KAAK4V,kBAAkBrU,OAAO1B,IAAImW,gBAAgBvX,GAAG,IAAI,MAAMD,KAAKF,GAAE,GAAG,IAAIE,EAAEuW,QAAQ,IAAIvW,EAAEuW,OAAO,CAAC,MAAMlV,EAAEG,KAAK4V,kBAAkBnV,IAAIpC,GAAEI,EAAEwS,GAAGzS,EAAEuW,SAAS,GAAGlV,GAAGA,EAAE2V,gBAAgB,CAAC,MAAM/W,EAAEoB,EAAE2V,gBAAgB/W,EAAEwX,kBAAkBxX,EAAEwX,oBAAoBjW,KAAK2V,mBAAmB3V,KAAK2V,kBAAkBlX,GAAGoX,YAAYrX,GAAGC,YAAED,EAAE0X,qBAAqB1X,EAAE0X,qBAAqBlW,MAAM4B,GAAEuU,MAAM,gEAAgE3X,EAAE0X,mBAAmBlW,O,6BCAx+B,IAAIoM,GAAE,EAAgB,MAAM9J,GAAEvC,cAAcC,KAAKoW,eAAexT,WAAUwJ,KAAIpM,KAAKqW,SAAS,IAAInW,IAAIF,KAAKsW,UAAU,KAAKC,UAAU1W,GAAG,MAAM+B,EAAE5B,KAAKqW,SAAS5V,IAAIT,KAAKoW,gBAAgB,GAAG,MAAMxU,EAAE,CAAC,GAAGpD,YAAE8D,GAAEkU,YAAY,CAAC,MAAMhY,EAAE8D,GAAEkU,WAAW,OAAOxW,KAAKqW,SAAShV,IAAIrB,KAAKoW,eAAehU,GAAE5D,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGwB,KAAKoW,iBAAiBpW,KAAKuW,UAAU1W,GAAG,MAAM+B,EAAEQ,GAAEvC,EAAE,GAAGsJ,KAAKsN,SAAS,GAAG5W,EAAE,GAAGsJ,KAAKsN,SAAS,GAAG5W,EAAE,GAAGsJ,KAAKsN,SAAS,GAAGzW,KAAKoW,gBAAgB,OAAOpW,KAAKqW,SAAShV,IAAIrB,KAAKoW,eAAexU,GAAGA,EAAEvD,YAAEgE,GAAExC,EAAE+B,EAAEuQ,MAAM9P,GAAE,GAAG8G,KAAKyD,IAAIvK,GAAE,IAAIA,GAAE,GAAG8G,KAAKyD,IAAIvK,GAAE,IAAIA,GAAE,GAAG8G,KAAKyD,IAAIvK,GAAE,IAAI,MAAMrE,EAAEgC,KAAKsW,UAAU,GAAGjU,GAAE,GAAGrE,GAAGqE,GAAE,GAAGrE,GAAGqE,GAAE,GAAGrE,EAAE,OAAO4D,EAAE,MAAMnD,EAAE0K,KAAKuN,MAAM7W,EAAE,GAAG7B,GAAG4B,EAAEuJ,KAAKuN,MAAM7W,EAAE,GAAG7B,GAAGM,EAAE6K,KAAKuN,MAAM7W,EAAE,GAAG7B,GAAG+C,EAAG,MAAMtC,KAAKmB,KAAKtB,IAAI,IAAIwG,EAAE9E,KAAKqW,SAAS5V,IAAIM,GAAG,OAAO+D,IAAIA,EAAE1C,GAAE3D,EAAET,EAAE4B,EAAE5B,EAAEM,EAAEN,EAAE+C,GAAGf,KAAKqW,SAAShV,IAAIN,EAAE+D,IAAIA,EAAE6R,eAAenY,GAAG,MAAMoD,EAAEgV,OAAOC,KAAKxY,EAAEuD,EAAEkV,OAAO,GAAG,MAAM9W,KAAK+W,QAAQ,CAAC/W,KAAKgX,UAAU,IAAIlS,IAAE,CAAC9D,MAAM,EAAEwB,MAAM,CAAC,EAAE,EAAE,EAAE,KAAKnE,EAAEF,IAAI6B,KAAKgX,WAAW,MAAMxY,EAAE,IAAIuC,KAAE,CAACkW,YAAW,IAAKjX,KAAK+W,QAAQ,IAAIzY,KAAE,CAACwI,YAAW,IAAKzI,EAAEF,IAAI6B,KAAK+W,SAASvY,EAAEL,IAAI6B,KAAK+W,SAAS1Y,EAAEF,IAAIK,GAAG,MAAM4D,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGgK,EAAEhK,EAAEtB,OAAO8B,EAAE,IAAI+E,MAAM,EAAEyE,GAAG9J,EAAE,IAAI4U,YAAY,GAAG9K,EAAE,IAAI/J,EAAE,GAAGrC,KAAKsW,UAAU,IAAI,IAAIzW,EAAE,EAAEA,EAAEuM,EAAEvM,IAAI+C,EAAE,EAAE/C,EAAE,GAAGrB,EAAE,IAAI,EAAE4D,EAAEvC,GAAGwC,GAAGA,GAAGO,EAAE,EAAE/C,EAAE,GAAGrB,EAAE,IAAI,EAAE4D,EAAEvC,GAAGwC,GAAGA,GAAGO,EAAE,EAAE/C,EAAE,GAAGrB,EAAE,IAAI,EAAE4D,EAAEvC,GAAGwC,GAAGA,GAAGxC,EAAE,IAAIyC,EAAE,EAAEzC,EAAE,GAAGA,EAAE,EAAEyC,EAAE,EAAEzC,EAAE,GAAGA,GAAG7B,YAAE4E,EAAE/C,KAAEsX,YAAY,EAAEvU,EAAEhB,EAAEwV,iBAAiB,EAAEhL,GAAG,MAAMiL,EAAE,IAAIzX,KAAE,CAAC,CAAC,WAAW,CAACiD,KAAK,EAAEkD,KAAKnD,EAAE0U,WAAU,KAAM,CAAC,CAAC,WAAWhV,IAAI,GAAGjE,EAAEF,IAAIkZ,GAAGrX,KAAK+W,QAAQQ,YAAYF,EAAErX,KAAKgX,UAAUvY,MAAG+Y,QAAQC,IAAIzX,KAAKqW,SAASxT,KAAKrE,IAAI,MAAM6D,GAAET,eAAoCU,KAAIA,GAAE,KAAvBkU,WAAW,KAAiB,IAAuBa,GAAjB/U,GCAvrD,MAAM9D,GAAE,GAAkBC,OAAza,MAAQsB,YAAYtB,EAAEoB,EAAEuC,EAAE/D,EAAEC,EAAE+D,GAAGrC,KAAK0X,KAAKjZ,EAAEuB,KAAK2X,yBAAyB9X,EAAEG,KAAK4X,kBAAkBxV,EAAEpC,KAAK6X,UAAUxZ,EAAE2B,KAAK8X,WAAWxZ,EAAE0B,KAAK+X,YAAY1V,EAAErC,KAAKd,OAAO,KAAKc,KAAKgY,gBAAgB,IAAIpW,GAAE5B,KAAKiY,KAAK,EAAEjY,KAAKkY,KAAK,EAAElY,KAAKmY,sBAAsB,KAAKnY,KAAKoY,mBAAmB5Z,GAAEwB,KAAKqY,cAAa,EAAGC,0BAA0BtY,KAAKoY,mBAAmB5Z,GAAqB,sBAAG,OAAO,IAAIwB,KAAKiY,O,UCArX,MAAM5Z,GAAE0B,cAAcC,KAAKuY,KAAK,IAAI9Z,KAAEuB,KAAKwY,QAAQ,IAAI/Z,KAAEuB,KAAKyY,QAAQ,IAAIha,KAAE,CAACia,UAAUja,GAAGA,GAAG,IAAImD,GAAE+W,YAAYla,IAAIA,EAAEma,eAAe,KAAKna,KAAK6B,QAAQN,KAAKuY,KAAKjY,QAAQN,KAAKwY,QAAQlY,QAAQN,KAAKyY,QAAQnY,QAAQuY,QAAQ7Y,KAAKuY,KAAKM,QAAQ7Y,KAAKwY,QAAQK,QAAQ7Y,KAAKyY,QAAQI,SAAS,MAAMjX,IAAG,MAAMpD,GAAEuB,cAAcC,KAAKuY,KAAK,IAAI5Q,MAAM3H,KAAKwY,QAAQ,IAAI7Q,MAAM3H,KAAKyY,QAAQ,IAAI9Q,OCAjE,SAASnJ,GAAEC,GAAG,OAAOA,EAAEsH,KAAK+S,YAAY,E,kCCAlU,MAAMta,GAAEuB,YAAYvB,GAAG,MAAMA,EAAEA,EAAE,GAAGA,EAAE,QAAQA,EAAEH,aAAEG,IAAIwB,KAAK+Y,OAAO,IAAIC,aAAaxa,GAAGwB,KAAKiZ,MAAM,EAAErH,OAAOvT,EAAEG,GAAG,GAAGwB,KAAKiZ,MAAM5a,EAAE2B,KAAKiZ,MAAMjZ,KAAK+Y,OAAOjY,OAAO,CAAC,IAAIzC,EAAE2B,KAAK+Y,OAAOjY,QAAQ,EAAE,KAAKzC,EAAE2B,KAAKiZ,OAAO5a,GAAG,EAAE,MAAMuD,EAAE,IAAIoX,aAAa3a,GAAG,OAAOG,GAAGoD,EAAEP,IAAIrB,KAAK+Y,QAAQ/Y,KAAK+Y,OAAOnX,GAAE,EAAG,MAAMA,EAAE,EAAE5B,KAAKiZ,MAAM,GAAGrX,GAAG5B,KAAK+Y,OAAOjY,OAAO,CAAC,IAAIzC,EAAE2B,KAAK+Y,OAAOjY,OAAO,KAAKzC,GAAGuD,GAAGvD,EAAE8K,KAAK+P,MAAM7a,EAAE,GAAG,MAAMC,EAAE,IAAI0a,aAAa3a,GAAG,OAAOG,GAAGF,EAAE+C,IAAIrB,KAAK+Y,OAAOI,SAAS,EAAE9a,IAAI2B,KAAK+Y,OAAOza,GAAE,EAAG,OAAM,EAAG8a,OAAO/a,GAAG,MAAMG,EAAEwB,KAAKiZ,MAAMjZ,KAAK4R,OAAO5R,KAAKiZ,MAAM5a,EAAEyC,QAAO,GAAId,KAAK+Y,OAAO1X,IAAIhD,EAAEG,GAAG6a,MAAMhb,EAAEG,GAAG,IAAI,IAAIoD,EAAEvD,EAAEuD,EAAEpD,IAAIoD,EAAE5B,KAAK+Y,OAAOnX,GAAG,EAAW,YAAG,OAAO5B,KAAK+Y,OAAe,WAAG,OAAO/Y,KAAKiZ,O,6KCA+rB,MAAMlO,WAAUvM,KAAEuB,YAAY1B,EAAEI,GAAGsG,MAAM1G,EAAEI,GAAGuB,KAAKsZ,uBAAuBjb,EAAEib,uBAAuBC,kBAAkBlb,GAAG,MAAMI,EAAEsM,GAAE4J,OAAOlU,MAAMjC,EAAEwB,KAAKwZ,cAAc3Z,EAAEpB,EAAEgb,MAAM,CAACC,WAAW,IAAIlb,EAAEmb,qBAAqB5E,OAAOvW,EAAEuW,OAAOX,YAAY/V,EAAE+V,YAAYwF,kBAAkBpb,EAAEob,kBAAkBC,wBAAuB,EAAGC,+BAA8B,EAAGC,eAAevb,EAAEub,eAAeC,QAAQ,EAAEC,8BAA6B,EAAG7a,WAAWZ,EAAE0b,OAAOxb,eAAc,EAAGyb,wBAAwB3b,EAAE2b,wBAAwBC,gBAAgB5b,EAAE4b,kBAAkB,OAAO,IAAI9b,KAAED,EAAEqZ,KAAK7X,EAAEwa,eAAe,UAAUxa,EAAEwa,eAAe,YAAYzY,MAAG0Y,eAAejc,GAAG,OAAO2B,KAAKsZ,uBAAuBiB,OAAOva,KAAKsZ,uBAAuBkB,UAAUxa,KAAKsZ,uBAAuBmB,aAAapc,GAAG2B,KAAKsZ,uBAAuBiB,MAAM,EAAE,EAAEG,SAASrc,EAAEI,EAAED,GAAG6D,KAAEsY,qBAAqB3a,KAAK4a,QAAQpc,EAAEU,OAAOC,kBAAkBX,EAAE2b,0BAA0Bna,KAAK4a,QAAQrb,cAAc,gBAAgBf,EAAEU,OAAOM,SAASQ,KAAK4a,QAAQrb,cAAc,kBAAkBf,EAAEqc,iBAAiBxQ,aAAErK,KAAK4a,QAAQvc,EAAEG,IAAI,IAAIwB,KAAKwZ,cAAczE,SAASvW,EAAEsc,SAASC,YAAY/a,KAAK4a,SAAQ,GAAI/W,KAAElF,aAAaqB,KAAK4a,QAAQvc,EAAEG,IAAI,IAAIwB,KAAKwZ,cAAczE,QAAQ,IAAI/U,KAAKwZ,cAAczE,SAAS/L,KAAErK,aAAaqB,KAAK4a,QAAQnc,GAAGuB,KAAKsZ,uBAAuB0B,SAAS3c,IAAI2B,KAAK4a,QAAQK,cAAc,aAAaxc,EAAE+D,OAAO,IAAIxC,KAAKwZ,cAAczE,QAAQhU,KAAEma,oBAAoB7c,EAAE2B,KAAK4a,QAAQpc,GAAG2c,SAAS9c,GAAGgE,KAAE+Y,SAASpb,KAAK4a,QAAQvc,GAAG,IAAI2B,KAAKwZ,cAAczE,QAAQ,IAAI/U,KAAKwZ,cAAczE,QAAQ1S,KAAEgZ,gBAAgBrb,KAAK4a,QAAQvc,EAAEqI,OAAOrI,EAAEa,OAAOoc,4BAA4B,IAAItb,KAAKwZ,cAAczE,QAAQ/H,KAAErO,aAAaqB,KAAK4a,QAAQvc,EAAE+D,KAAEmZ,YAAY,IAAIvb,KAAKwZ,cAAczE,QAAQ,IAAI/U,KAAKwZ,cAAczE,QAAQ,IAAI/U,KAAKwZ,cAAczE,QAAQnS,KAAE4Y,uBAAuBxb,KAAK4a,QAAQ5a,KAAKwZ,cAAcnb,GAAGod,iBAAiBpd,GAAG,MAAMI,EAAEuB,KAAKwZ,cAAchb,EAAE,IAAIH,EAAEwB,EAAE,IAAIxB,EAAE,OAAOuB,aAAE,CAAC8b,SAAS,IAAIjd,EAAEsW,QAAQ,IAAItW,EAAEsW,QAAQtW,EAAE2E,YAAY5E,EAAEsG,KAAExC,aAAEjE,GAAG,KAAKsd,UAAU,CAACC,KAAK5X,aAAE3F,IAAIwd,WAAWrd,EAAEC,EAAEqd,YAAYvY,KAAEhB,aAAElE,GAAG0d,WAAWlb,KAAEmb,cAAcxd,GAAGqB,EAAE,KAAKgI,aAAEpJ,EAAEwd,gBAAgBC,qBAAqB,OAAOlc,KAAKyb,iBAAiBzb,KAAKwZ,cAAcG,uBAAuB5O,GAAE4J,OAAO,IAAIlW,KAAE+M,MAAG,IAAI,mCAA4C,MAAM6D,WAAUxP,KAAEE,cAAcgF,SAASuK,WAAWtP,KAAK+U,OAAO,EAAE/U,KAAK+Z,gBAAe,EAAG/Z,KAAK4Z,mBAAkB,EAAG5Z,KAAKoD,aAAY,EAAGpD,KAAKic,cAAa,EAAGjc,KAAK8b,YAAW,EAAG9b,KAAKka,QAAO,EAAGla,KAAKmc,UAAS,EAAGnc,KAAK2Z,qBAAqB,EAAE3Z,KAAKma,yBAAwB,EAAGna,KAAKoa,iBAAgB,GAAI/b,YAAE,CAACL,aAAE,CAACgK,MAAM,KAAKqH,GAAE2B,UAAU,cAAS,GAAQ3S,YAAE,CAACL,gBAAKqR,GAAE2B,UAAU,sBAAiB,GAAQ3S,YAAE,CAACL,gBAAKqR,GAAE2B,UAAU,yBAAoB,GAAQ3S,YAAE,CAACL,gBAAKqR,GAAE2B,UAAU,mBAAc,GAAQ3S,YAAE,CAACL,gBAAKqR,GAAE2B,UAAU,oBAAe,GAAQ3S,YAAE,CAACL,gBAAKqR,GAAE2B,UAAU,kBAAa,GAAQ3S,YAAE,CAACL,gBAAKqR,GAAE2B,UAAU,cAAS,GAAQ3S,YAAE,CAACL,gBAAKqR,GAAE2B,UAAU,gBAAW,GAAQ3S,YAAE,CAACL,aAAE,CAACgK,MAAM,KAAKqH,GAAE2B,UAAU,4BAAuB,GAAQ3S,YAAE,CAACL,gBAAKqR,GAAE2B,UAAU,+BAA0B,GAAQ3S,YAAE,CAACL,gBAAKqR,GAAE2B,UAAU,uBAAkB,GCAxxI,MAAM1S,WAAUE,KAAEuB,YAAYvB,GAAGuG,MAAMvG,GAAGwB,KAAKiW,mBAAmBA,iBAAiBzX,GAAGwB,KAAK8T,UAAU9T,KAAK8V,aAAaxB,0BAA0B7V,GAAEuB,KAAKgG,SAASoW,mBAAmBpc,KAAK+U,OAAOvW,GAAGwB,KAAK8T,WAAWuI,UAAU7d,GAAG,GAAG,IAAIwB,KAAK+U,OAAO,OAAO,KAAKvW,EAAE,GAAG,IAAIwB,KAAK+U,OAAO,OAAO,MAAMvW,EAAE,GAAG,IAAIwB,KAAK+U,OAAO,OAAO,IAAIvW,EAAE,IAAIC,EAAE,EAAE,OAAOuB,KAAKgG,SAASsW,OAAOlZ,cAAc3E,EAAEuB,KAAKgG,SAASsW,OAAOR,WAAW,EAAE,GAAGtd,IAAIC,EAAE8d,sBAAsB/d,GAAG,MAAMC,EAAE,KAAKuB,KAAKgG,SAASwW,UAAUC,KAAKje,EAAEkB,aAAa,cAAcjB,EAAEuB,KAAKgG,SAASsW,OAAOI,gBAAgBC,mBAAmBne,GAAGA,EAAEoe,uBAAuB5c,KAAKgG,SAASsW,OAAOvC,gBAAgB/Z,KAAKgG,SAAS7C,mBAAmB,CAAC4W,eAAevb,EAAEoe,uBAAuBC,gBAAgBre,GAAGA,EAAEY,aAAaY,KAAKgG,SAASsW,OAAOld,YAAYY,KAAKgG,SAAS7C,mBAAmB,CAAC/D,WAAWZ,EAAEY,aAAa0d,gBAAgBte,GAAG,OAAOwB,KAAK8T,UAAUwG,eAAe9b,GAAGue,iBAAiBve,GAAG,IAAIwB,KAAK+U,SAAS/U,KAAK2c,mBAAmBne,GAAGwB,KAAK6c,gBAAgBre,IAAIwB,KAAKiW,iBAAiBzX,GAAGmC,KAAKnC,EAAEC,GAAGD,EAAEwe,YAAYhd,KAAK8T,UAAU8G,SAAS5a,KAAK8T,UAAU4G,SAASlc,EAAEwB,KAAKgG,SAASsW,OAAO7d,GAAG,IAAIuB,KAAK+U,QAAQ,IAAI/U,KAAK+U,QAAQ/U,KAAKuc,sBAAsBvc,KAAK8T,UAAU8G,UCA7oC,MAAMhZ,GAAE7B,YAAY6B,EAAE/B,EAAED,EAAEoE,EAAEc,EAAExG,GAAG0B,KAAKid,KAAKrb,EAAE5B,KAAKkd,GAAGrd,EAAEG,KAAKmd,UAAUvd,EAAEI,KAAKod,cAAcpZ,EAAEhE,KAAKqY,aAAavT,EAAE9E,KAAK2G,eAAerI,EAAE,MAAMA,IAAI0B,KAAKqd,qBAAqBhf,aAAEC,GAAGE,aAAEwB,KAAKqd,qBAAqBrd,KAAKqd,sBAAsBrf,aAAEgC,KAAKqd,qBAAqBrd,KAAKqd,wBAA2L,SAASrZ,GAAExF,EAAER,GAAG,MAAMK,EAAEG,IAAC,CAAI8e,MAAM9e,EAAEye,KAAKjV,MAAMxJ,EAAE0e,GAAG1e,EAAEye,OAAO,GAAG,IAAIze,EAAEsC,OAAO,YAAYtC,EAAEoV,KAAKvV,EAAEL,IAAI,MAAM4D,EAAEpD,EAAEA,EAAEsC,OAAO,GAAG,GAA5K,SAAWtC,EAAER,GAAG,OAAOQ,EAAE8e,MAAM9e,EAAEwJ,OAAOhK,EAAEif,KAAqIrd,CAAEgC,EAAE5D,GAAG,CAAC,MAAMQ,EAAER,EAAEif,KAAKrb,EAAE0b,MAAMtf,EAAEkf,GAAGlf,EAAEif,KAAKrb,EAAEoG,MAAMxJ,OAAOA,EAAEoV,KAAKvV,EAAEL,I,uBCAxK,SAASA,GAAEQ,EAAEoD,EAAEvD,GAAGI,YAAEJ,KAAKA,EAAEkf,WAAW/e,EAAEH,EAAEmf,WAAW5b,GAAmBA,KCA8nP,SAASyV,GAAE5Y,GAAG,OAAOA,EAAE4Z,cAAc5Z,EAAE2e,eAAe3e,EAAEgf,mBAAmB,MAAM1R,GAAE,CAAC2R,MAAM,EAAEC,IAAI,GAAG7Q,GAAElN,eAAIuL,GAAEvL,eAAI4L,GAAE5L,eAAmBoN,OAAr/O,MAAQjN,YAAYtB,EAAED,EAAEoD,GAAG5B,KAAK4d,KAAK,iBAAiB5d,KAAK6d,cAAc,IAAI3d,IAAIF,KAAK8d,gBAAe,EAAG9d,KAAK+d,eAAc,EAAG/d,KAAKge,MAAMvf,EAAEuB,KAAKgX,UAAUpV,EAAE5B,KAAKie,aAAazf,EAAEwB,KAAKke,aAAand,aAAEf,KAAKgX,UAAUhX,KAAKie,cAAcje,KAAKme,cAAcvc,EAAEwc,qBAAqBje,UAAUmC,aAAEtC,KAAKgX,UAAUhX,KAAKie,cAAcje,KAAK6d,gBAAgB7d,KAAK6d,cAAczd,SAAS3B,IAAIA,EAAE4f,IAAIle,SAAQ,GAAI1B,EAAE4f,IAAI,QAAQre,KAAK6d,cAAcvd,QAAQN,KAAK6d,cAAc,MAAM7d,KAAKke,eAAele,KAAKke,aAAa9d,SAAS3B,IAAIA,GAAGA,EAAE0B,aAAaH,KAAKke,aAAa5d,QAAQN,KAAKke,aAAa,MAAiB,cAAG,OAAO,IAAIle,KAAK6d,cAAchb,KAAsB,oBAAG,OAAO7C,KAAK8d,eAA+B,mBAAG,OAAO9d,KAAK+d,cAA0B,eAAG,OAAO/d,KAAKse,SAASjgB,aAAE2B,KAAKke,cAAczf,GAAGA,aAAaoF,KAAuB,sBAAG,OAAO7D,KAAKse,SAAS,IAAIte,KAAKgX,UAAUrU,eAAe4b,OAAO9f,GAAGuB,KAAKwe,iBAAiB/f,EAAEga,SAASzY,KAAKye,uBAAuBhgB,EAAE8Z,KAAK9Z,EAAE+Z,SAASxY,KAAK0e,uBAAuBD,uBAAuBhgB,EAAED,GAAG,MAAMoD,EAAE5B,KAAKme,cAAc7f,EAAEsD,EAAE+c,mBAAmB9e,EAAEvB,EAAEsgB,OAAO,EAAEvgB,EAAE2B,KAAK6d,cAAcje,EAAm2L,SAAWnB,EAAED,EAAEoD,EAAEtD,GAAG,MAAMuB,EAAE,IAAIK,IAAI7B,EAAEG,EAAEmgB,mBAAmBC,OAAO,EAAEhf,EAAE,CAACgC,EAAEtD,KAAK,MAAMsB,EAAEgC,EAAE8E,OAAO1I,EAAES,EAAEgC,IAAIb,EAAEqR,IAAI,IAAIrO,EAAE/C,EAAEY,IAAIb,EAAEqR,IAAI,MAAMrO,IAAIA,EAAE,CAACic,aAAa,MAAM7gB,EAAE,EAAEA,EAAE6gB,aAAaC,YAAY,MAAM9gB,EAAE,EAAEA,EAAE+gB,OAAOlc,KAAKmc,MAAM,GAAGC,SAAS,GAAGvY,OAAO9G,EAAEuS,MAAMtS,EAAEwB,IAAIzB,EAAEqR,GAAGrO,IAAI,MAAMP,EAAE7D,EAAE0gB,aAAatd,EAAEmE,MAAM1H,EAAEC,GAAGsE,EAAEic,cAAcxc,EAAEO,EAAEkc,aAAazc,EAAEO,EAAEoc,MAAMpL,KAAKhS,KAAKgB,EAAEic,cAAcxc,EAAEO,EAAEqc,SAASrL,KAAKhS,KAAK,IAAI,MAAM5D,KAAK4D,EAAEhC,EAAE5B,GAAE,GAAI,IAAI,MAAMA,KAAKM,EAAEsB,EAAE5B,GAAE,GAAI,OAAO6B,EAAnyMqK,CAAE7L,EAAEuD,EAAEnD,EAAED,GAAGoB,EAAEQ,SAAS,CAAC3B,EAAED,KAAKoB,EAAE2B,OAAO/C,GAAG,MAAMoD,EAAEnD,EAAEogB,aAAa7gB,EAAES,EAAEqgB,YAAY,IAAI1c,EAAE/D,EAAEoC,IAAIjC,GAAG,GAAG,MAAM4D,EAAEQ,aAAEhB,EAAE,GAAGQ,EAAEpC,KAAKmf,WAAW7gB,EAAEsD,EAAEnD,EAAEiI,QAAQrI,EAAEgD,IAAI7C,EAAE4D,QAAQ,GAAG,IAAIR,EAAE,OAAOQ,EAAEic,IAAIle,SAAQ,GAAIiC,EAAEic,IAAI,UAAUhgB,EAAEkD,OAAO/C,GAAG,MAAMsG,EAAElD,EAAEnD,EAAEqgB,YAAY,EAAEje,EAAEiE,EAAElD,EAAE5D,EAAE+C,EAAEgL,GAAEzJ,EAAEF,EAAE2c,OAAOlc,KAAKmB,EAAE5B,EAAE2c,OAAOK,MAAM7b,EAAEnB,EAAE2c,OAAOnN,OAAO/Q,GAAE,GAAIiE,GAAGvB,EAAEvD,KAAKqf,iBAAiBjd,EAAE3D,EAAEwgB,SAASpf,EAAEmE,EAAEjD,GAAGtC,EAAEwgB,SAASne,OAAO,GAAGd,KAAKsf,gBAAgBld,EAAE3D,EAAEwgB,SAASpf,EAAEkB,GAAGtC,EAAEugB,MAAMle,OAAO,IAAIC,EAAE4c,IAAIrb,KAAKvB,EAAE2c,MAAMpb,EAAEvB,EAAE4c,IAAIrb,GAAG,MAAMuB,EAAEiJ,GAAEzK,aAAEwB,GAAGpF,EAAEiI,OAAO,IAAIjI,EAAEiI,OAAO,IAAIjI,EAAEiI,OAAO,IAAI1G,KAAKoZ,OAAOhX,EAAE3D,EAAEugB,MAAMnf,EAAEgE,EAAE9C,GAAG,MAAMwB,EAAEH,EAAEic,IAAIkB,cAAcC,SAAS,GAAGjd,EAAEkd,WAAWrd,EAAE2c,OAAOK,MAAML,OAAOW,WAAWnd,EAAEod,QAAQvd,EAAE2c,OAAOK,WAAW,CAAC,MAAM1B,MAAMjf,EAAEkf,IAAInf,GAAGuC,EAAE,GAAGtC,EAAED,EAAE,CAAC,MAAMoD,EAAEQ,EAAE2c,OAAOK,MAAM9gB,EAAE,EAAEuB,EAAEpB,EAAEH,EAAED,EAAEG,EAAEF,EAAEiE,EAAEqd,WAAWhe,EAAE/B,EAAEA,EAAExB,IAAI+D,EAAEyd,mBAAkB,KAAMrB,iBAAiB/f,GAAG,MAAMD,EAAEwB,KAAKme,cAAcvc,EAAEpD,EAAEmgB,mBAAmBC,OAAO,EAAE,IAAI,MAAMtgB,KAAKG,EAAE,CAAC,MAAMA,EAAEH,EAAEwhB,WAAWjgB,EAAEvB,EAAEsa,eAAeva,EAAE2B,KAAK6d,cAAcpd,IAAIZ,EAAE6G,OAAOuK,IAAIrR,EAAEvB,GAAGA,EAAE0hB,UAAUtf,IAAIZ,EAAEoR,IAAI,IAAIrR,EAAE,OAAO,GAAG,EAAEnB,IAAImB,EAAEud,UAAUtd,EAAEuG,mBAAmBG,SAAS,EAAE9H,EAAE,CAAC,MAAMA,EAAEoB,EAAEuG,mBAAmBG,QAAQ3G,EAAEwd,gBAAgBvd,EAAEuG,mBAAmBC,YAAY5H,EAAE,GAAG,GAAGA,IAAImB,EAAEyY,eAAexY,EAAEuG,mBAAmBE,WAAW,EAAE7H,EAAE,CAAC,MAAMA,EAAEJ,EAAE0gB,OAAOK,MAAM9gB,EAAED,EAAEggB,IAAIra,aAAEnE,EAAEsL,GAAEK,IAAGhN,EAAEwhB,MAAM,CAACrZ,eAAewE,GAAE8U,wBAAwBzU,IAAG3L,EAAEkG,KAAKvH,EAAEmgB,mBAAmBuB,WAAWzhB,EAAEsgB,QAAQnf,EAAEqd,MAAMra,aAAEhD,EAAEqd,KAAKze,EAAE0gB,aAAarf,EAAEkG,QAAQnG,EAAEsd,GAAG,mCAAmC5e,EAAEihB,cAAcC,SAASI,WAAWnhB,EAAEmB,EAAEqd,KAAKrb,EAAE,EAAEhC,EAAEqd,KAAKrb,EAAE,EAAEhC,EAAEsd,GAAGtb,EAAE,GAAGvD,EAAEwhB,mBAAkB,GAAInB,uBAAuB1e,KAAK8d,gBAAe,EAAG9d,KAAK+d,eAAc,EAAG/d,KAAK6d,cAAczd,SAAS3B,IAAIA,EAAEgf,oBAAmB,EAAGhf,EAAE2e,eAAc,EAAG3e,EAAE4Z,cAAa,EAAGha,aAAEI,EAAEshB,WAAWvhB,IAAIA,EAAE2e,WAAW3e,EAAE4e,gBAAgBpd,KAAK8d,gBAAe,EAAGrf,EAAE2e,eAAc,GAAI5e,EAAE6Z,eAAerY,KAAK+d,eAAc,EAAGtf,EAAE4Z,cAAa,IAAK5Z,EAAEgf,oBAAmB,EAAGhf,EAAEgf,oBAAoBhf,EAAE2e,eAAe3e,EAAE4Z,mBAA++BrY,KAAK6d,cAAczd,SAAS5B,IAAIA,EAAEqhB,oBAAt/BphB,KAAI,GAAGA,EAAE0hB,oBAAoB,KAAK1hB,EAAE2hB,sBAAsB,KAAK3hB,EAAE4hB,sBAAsB,KAAK5hB,EAAE6hB,gCAAgC,KAAK7hB,EAAE8hB,MAAM,CAACC,QAAQ,EAAE5N,UAAU,EAAEtM,UAAU,EAAEma,oBAAoB,GAAG,IAAIhiB,EAAEshB,UAAUld,KAAK,OAAO,IAAIwU,GAAE5Y,GAAG,CAAC,MAAMD,EAAE,EAAEC,EAAEsgB,OAAOlc,KAAKiC,aAAErG,EAAE4f,IAAIqC,OAAOlB,UAAU,OAAO/gB,EAAE0hB,oBAAoB,CAAC,CAAC7C,MAAM,EAAEtV,MAAMxJ,SAASC,EAAE8hB,MAAM,CAACC,QAAQhiB,EAAEoU,UAAU,EAAEtM,UAAU,EAAEma,oBAAoB,IAAI,MAAMjiB,EFAh5H,SAAWA,GAAG,OAAOA,EAAEmiB,MAAM,CAACniB,EAAER,IAAIQ,EAAEye,OAAOjf,EAAEif,KAAKze,EAAE0e,GAAGlf,EAAEkf,GAAG,EAAE1e,EAAE0e,GAAGlf,EAAEkf,IAAI,EAAE,EAAE1e,EAAEye,KAAKjf,EAAEif,KAAK,EAAEze,EAAEye,KAAKjf,EAAEif,MAAM,EAAE,IEAkyHpY,CAAE,IAAIpG,EAAEshB,UAAUa,WAAWniB,EAAE0hB,oBAAoB,GAAG1hB,EAAE2hB,sBAAsB,GAAG3hB,EAAE4hB,sBAAsB,GAAG5hB,EAAE6hB,gCAAgC,GAAG,IAAI,MAAMhiB,KAAKE,EAAEF,EAAE6e,YAAY7e,EAAE+Z,aAAaxQ,GAAEpJ,EAAE4hB,sBAAsB/hB,GAAGuJ,GAAEpJ,EAAE0hB,oBAAoB7hB,GAAGA,EAAE8e,cAAcvV,GAAEpJ,EAAE2hB,sBAAsB9hB,GAAGuJ,GAAEpJ,EAAE6hB,gCAAgChiB,IAAI,MAAMsD,EAAEnD,IAAI,IAAID,EAAE,EAAE,IAAI,MAAMoD,KAAKnD,EAAED,GAAGoD,EAAEoG,MAAM,OAAOxJ,EAAE,GAAGC,EAAE8hB,MAAM,CAACC,QAAQ5e,EAAEnD,EAAE0hB,qBAAqBvN,UAAUhR,EAAEnD,EAAE2hB,uBAAuB9Z,UAAU1E,EAAEnD,EAAE4hB,uBAAuBI,oBAAoB7e,EAAEnD,EAAE6hB,mCAAyF7hB,CAAED,GAAGA,EAAEqhB,mBAAkB,MAAOgB,YAAYpiB,GAAG,OAAOuB,KAAKgX,UAAU8J,OAAOriB,GAAGsiB,OAAOnf,EAAEtD,EAAEuB,EAAExB,GAAG,MAAMuB,EAAEI,KAAKge,MAAMhgB,EAAEgC,KAAKke,aAAazd,IAAInC,EAAE2Z,MAAMrV,EAAE,IAAItE,EAAE2Z,MAAM,IAAI3Z,EAAE2Z,KAAK5V,EAAE,IAAI/D,EAAE2Z,KAAK7V,IAAIQ,GAAGP,GAAG,IAAIyC,EAAElD,EAAE,GAAG,IAAItD,EAAE2Z,MAAM,OAAOnT,IAAIA,EAAE,KAAK9G,GAAG,IAAIA,EAAE8e,gBAAgBld,IAAI,MAAMkF,IAAI9G,EAAEqe,UAAUvX,IAAIlC,IAAI5C,KAAK8d,eAAe,OAAM,EAAG9f,EAAE+e,iBAAiBld,GAAG,MAAMgB,EAAE7C,EAAEgjB,eAAejgB,EAAE/C,EAAEijB,iBAAiBnc,GAAE,GAAIlF,EAAE6b,iBAAiB1a,GAAG/C,EAAE2C,KAAKf,EAAEC,GAAG,IAAIyC,GAAE,EAAG,OAAOtC,KAAK6d,cAAczd,SAASwB,IAAI,GAAGnD,YAAEmD,EAAEue,sBAAsB1hB,YAAEmD,EAAEwe,wBAAwB3hB,YAAEmD,EAAEye,wBAAwB5hB,YAAEmD,EAAE0e,iCAAiC,OAAO,GAAG1d,IAAIhB,EAAEwb,cAAc,OAAOvd,EAAE6G,OAAO9E,EAAE8E,OAAO7F,EAAEsa,SAAStb,GAAGgB,EAAEqgB,yBAAyBtf,EAAEyc,KAAKze,EAAEuhB,QAAQvf,EAAEyc,KAAK,MAAM/f,EAAEuC,EAAEsG,cAAc,IAAInD,EAAEpB,EAAEhB,EAAEwe,sBAAsB/d,GAAGgV,GAAEzV,GAAGA,EAAE0e,gCAAgC1e,EAAEue,oBAAoB,MAAM5c,EAAEX,EAAEhB,EAAE2e,MAAM3N,UAAUvQ,GAAGgV,GAAEzV,GAAGA,EAAE2e,MAAME,oBAAoB7e,EAAE2e,MAAMC,QAAQ,GAAGhiB,YAAEwF,KAAKhE,KAAKohB,eAAexhB,EAAEtB,EAAE0F,GAAGoI,GAAEpI,EAAElD,OAAOyC,EAAElF,GAAGiE,GAAE,GAAIF,IAAI4B,EAAEpC,EAAEye,sBAAsB7hB,YAAEwF,IAAI,CAAC,MAAMvF,EAAET,EAAEijB,iBAAiBnc,GAAE,GAAIlF,EAAE6b,iBAAiBhd,GAAGuB,KAAKohB,eAAexhB,EAAEtB,EAAE0F,GAAGpE,EAAE6b,iBAAiB1a,GAAGqL,GAAEpI,EAAElD,OAAOc,EAAE2e,MAAMja,UAAUjI,GAAGiE,GAAE,MAAOA,EAAE8e,eAAe3iB,EAAED,EAAEoD,GAAG,IAAI,IAAItD,EAAE,EAAEA,EAAEsD,EAAEd,OAAOxC,IAAIG,EAAE4iB,WAAW7iB,EAAEoD,EAAEtD,GAAGgf,MAAM1b,EAAEtD,GAAG0J,OAAOmX,WAAW1gB,EAAED,EAAEoD,GAAG,MAAM,CAACme,UAAU,IAAI7f,IAAIme,IAAI,IAAIxd,KAAEb,KAAKge,MAAMhe,KAAKgX,UAAUsK,yBAAyB,CAAC9B,SAASxhB,aAAES,IAAI,CAAC+gB,SAASpd,KAAEmf,aAAavhB,KAAKge,MAAM,SAASe,OAAO,IAAIxb,GAAE/E,GAAGqgB,aAAa,EAAEnY,OAAO9E,EAAE6b,oBAAmB,EAAGL,eAAc,EAAG/E,cAAa,EAAGwH,mBAAkB,EAAGM,oBAAoB,KAAKE,sBAAsB,KAAKD,sBAAsB,KAAKE,gCAAgC,KAAKC,MAAM,CAACC,QAAQ,EAAE5N,UAAU,EAAEtM,UAAU,EAAEma,oBAAoB,IAAIpB,iBAAiB5gB,EAAED,EAAEoD,EAAEtD,EAAEuB,GAAG,IAAI,MAAMuC,KAAK5D,EAAE,CAAC,MAAMA,EAAE4D,EAAE6O,GAAG3S,EAAEG,EAAEshB,UAAUtf,IAAIjC,GAAGC,EAAEogB,eAAevgB,EAAE4e,GAAG5e,EAAE2e,MAAMrb,EAAEnD,EAAEshB,UAAUxe,OAAO/C,GAAG,IAAIH,EAAE,EAAE,MAAMuB,EAAEnB,EAAEsgB,OAAOK,MAAMvf,EAAE6d,MAAM,EAAE7d,EAAE8d,IAAI,EAAE,IAAI3f,GAAG,EAAE4E,GAAG,EAAEP,EAAE,EAAE5D,EAAEshB,UAAU3f,SAAS3B,IAAI,MAAMD,EAAEC,EAAEwe,KAAKrb,EAAE/B,EAAEpB,EAAEye,GAAGtb,EAAEQ,EAAEvC,EAAErB,EAAER,IAAI4E,GAAGA,IAAIpE,GAAGoB,EAAEyB,IAAI/C,EAAE6a,SAASnb,EAAE4E,GAAGP,GAAGA,GAAGO,EAAE5E,EAAEA,EAAEQ,IAAI,IAAIR,IAAIA,EAAEQ,GAAGoE,EAAE/C,EAAEpB,EAAEwe,KAAK5e,EAAEuD,EAAEvD,GAAG+D,EAAE3D,EAAEye,GAAG7e,EAAEuD,KAAK5D,IAAI4E,GAAGhD,EAAEyB,IAAI/C,EAAE6a,SAASnb,EAAE4E,GAAGP,GAAGxC,EAAE8d,IAAItf,EAAEihB,gBAAgB7gB,EAAED,EAAEoD,EAAEtD,GAAGA,EAAEof,MAAM,IAAIpf,EAAEqf,KAAI,IAAK,IAAI9d,GAAG,EAAExB,GAAG,EAAE,IAAI,MAAMuB,KAAKpB,EAAE,CAAC,MAAMA,EAAEoB,EAAEqR,GAAGjT,EAAES,EAAEshB,UAAUtf,IAAIjC,GAAGoE,EAAE5E,EAAEif,KAAKrb,EAAES,EAAErE,EAAEkf,GAAGtb,EAAE/B,IAAIxB,GAAGA,IAAIuE,GAAGnE,EAAEsgB,OAAO1F,MAAMxZ,EAAExB,GAAGwB,EAAE+C,IAAI,IAAI/C,IAAIA,EAAE+C,GAAGvE,EAAEgE,EAAE5D,EAAEshB,UAAUxe,OAAO/C,GAAGC,EAAEogB,cAAcxc,EAAEO,EAAEA,EAAEtE,EAAEof,QAAQpf,EAAEof,MAAM9a,GAAGP,EAAE/D,EAAEqf,MAAMrf,EAAEqf,IAAItb,GAAGxC,IAAIxB,GAAGI,EAAEsgB,OAAO1F,MAAMxZ,EAAExB,GAAG+a,OAAO3a,EAAEJ,EAAEuB,EAAE5B,EAAEqE,GAAG,MAAMD,EAAEpC,KAAKme,cAAc,IAAI,MAAMrZ,KAAKzG,EAAE,CAAC,MAAMA,EAAEG,YAAEsG,EAAE6B,gBAAgB/E,aAAEuJ,GAAEnN,EAAE8G,EAAE6B,gBAAgB3I,EAAEM,aAAEkN,GAAEnN,GAAGwB,aAAE2L,GAAEA,IAAG,MAAM3K,EAAEwB,EAAEsb,IAAIvb,EAAE4d,MAAM,CAACrZ,eAAetI,EAAE4hB,wBAAwBzU,IAAG1G,EAAEiB,KAAK3D,EAAEuc,mBAAmBuB,WAAWzhB,EAAEsgB,OAAOK,MAAML,QAAQ1c,EAAEsb,IAAI/d,GAAG,MAAMmB,EAAEqB,EAAE8c,aAAapa,EAAEiB,MAAMnG,EAAE0C,EAAEzB,EAAEE,EAAE6B,aAAE,MAAMnE,EAAEshB,UAAUtf,IAAIqE,EAAEmM,KAAK,MAAMjN,EAAEc,EAAEsB,mBAAmBG,QAAQhD,IAAIuB,EAAEsB,mBAAmBC,YAAYrC,EAAEH,IAAIiB,EAAEsB,mBAAmBE,UAAUzB,EAAE,IAAItC,GAAE1B,EAAEjB,EAAE0C,EAAE1C,EAAEoE,EAAET,EAAEM,GAAGpF,EAAEshB,UAAU1e,IAAIyD,EAAEmM,GAAGpM,GAAGpG,EAAEogB,cAAc9d,EAAEsB,EAAEsb,KAAK5c,GAAW,WAAG,MAAM,CAACiF,SAAShG,KAAKgX,UAAUwK,YAAYxhB,KAAKke,gBCAp8N,IAAI3a,GAAE,cAAcjF,KAAEyB,cAAcgF,SAASuK,WAAWtP,KAAKyhB,oBAAoB,IAAIvhB,IAAIF,KAAK0hB,SAAS,IAAI9e,GAAE5C,KAAK2hB,mBAAmB,IAAIzhB,IAAIF,KAAK4hB,yBAAyB,IAAI/hB,KAAEG,KAAK8d,gBAAe,EAAG9d,KAAK6hB,WAAU,EAAG1hB,UAAUH,KAAK0hB,SAAS7I,QAAQ7Y,KAAK2hB,qBAAqB3hB,KAAK2hB,mBAAmBvhB,SAAS3B,GAAGA,EAAE0B,YAAYH,KAAK2hB,mBAAmBrhB,QAAQN,KAAK4hB,yBAAyBthB,SAAqB,eAAG,OAAON,KAAKyhB,oBAAoB5e,KAAK,GAAG7C,KAAK0hB,SAASjJ,QAAQ3X,OAAO,EAAmB,oBAAG,OAAOd,KAAK8d,eAA2B,eAAG,OAAO9d,KAAK6hB,UAA6B,sBAAG,OAAO7jB,aAAEgC,KAAK2hB,oBAAoBljB,GAAGA,EAAEqjB,kBAAkBC,qBAAqBtjB,GAAGuB,KAAK4hB,yBAAyBI,QAAQxjB,GAAGH,YAAEG,EAAEwH,SAASwW,WAAWne,GAAGA,EAAE4jB,WAAWxjB,OAAkB,cAAG,OAAOuB,KAAKwa,UAAU,IAAIxa,KAAK2hB,mBAAmB9e,KAAKqf,gBAAgB,IAAIzjB,GAAE,EAAG,IAAIuB,KAAKwa,SAAS,OAAM,EAAGxa,KAAKmiB,oBAAoB,MAAM9jB,EPAttD,SAAWA,GAAG,MAAMuB,EAAE,IAAIM,IAAI5B,EAAED,IAAI,IAAIG,EAAEoB,EAAEa,IAAIpC,GAAG,OAAOG,IAAIA,EAAE,IAAIC,GAAEmB,EAAEyB,IAAIhD,EAAEG,IAAIA,GAAG,OAAOH,EAAEka,KAAKyJ,QAAQvjB,IAAID,GAAEC,IAAIH,EAAEG,EAAEuH,UAAUuS,KAAK3E,KAAKnV,MAAMJ,EAAEma,QAAQwJ,QAAQvjB,IAAID,GAAEC,IAAIH,EAAEG,EAAEuH,UAAUwS,QAAQ5E,KAAKnV,MAAMJ,EAAEoa,QAAQuJ,QAAQvjB,IAAID,GAAEC,EAAEma,iBAAiBta,EAAEG,EAAEma,eAAe5S,UAAUyS,QAAQ7E,KAAKnV,MAAMmB,EOA66CwC,CAAEpC,KAAK0hB,UAAU,IAAIljB,GAAE,EAAGoD,GAAE,EAAG,OAAOvD,EAAE+B,SAAS,CAAC/B,EAAEwB,KAAK,IAAIvB,EAAE0B,KAAK2hB,mBAAmBlhB,IAAIZ,GAAG,IAAIvB,GAAGD,EAAEka,KAAKzX,OAAO,IAAIxC,EAAE,IAAI+D,GAAErC,KAAK0X,KAAK1X,KAAKkW,mBAAmBrW,GAAGG,KAAK2hB,mBAAmBtgB,IAAIxB,EAAEvB,GAAGG,GAAE,EAAGD,GAAE,EAAGoD,GAAE,IAAKtD,EAAE,OAAO,MAAMN,EAAEQ,GAAGF,EAAE8e,cAAcxd,EAAEgC,GAAGtD,EAAE8jB,SAAS9jB,EAAEigB,OAAOlgB,GAAGG,EAAEA,GAAGR,IAAIM,EAAE8e,cAAcxb,EAAEA,GAAGhC,IAAItB,EAAE8jB,SAAS9jB,EAAEggB,UAAUte,KAAK2hB,mBAAmBpgB,OAAO1B,GAAGvB,EAAE6B,UAAU1B,GAAE,MAAOuB,KAAK0hB,SAASphB,QAAQN,KAAKyhB,oBAAoBnhB,QAAQ7B,GAAGuB,KAAKqiB,gCAAgC7jB,IAAIwB,KAAK8d,eAAe9f,aAAEgC,KAAK2hB,oBAAoBljB,GAAGA,EAAE2e,iBAAiBxb,IAAI5B,KAAK6hB,UAAU7jB,aAAEgC,KAAK2hB,oBAAoBljB,GAAGA,EAAE2jB,YAAYpiB,KAAKsiB,aAAa,aAAY,EAAGnkB,IAAIM,GAAG,GAAG,IAAIA,EAAEqC,OAAO,OAAO,MAAMzC,EAAE,IAAI2B,KAAKyhB,oBAAoB5e,KAAK,IAAI,MAAMrE,KAAKC,EAAEuB,KAAKyhB,oBAAoBpgB,IAAI7C,EAAE,GAAGH,GAAG2B,KAAKsiB,aAAa,YAAYC,OAAO9jB,GAAG,MAAMJ,EAAE,IAAI2B,KAAKyhB,oBAAoB5e,KAAK,IAAI,MAAMrE,KAAKC,EAAE,CAAC,MAAMA,EAAEuB,KAAKyhB,oBAAoBhhB,IAAIjC,GAAG,IAAIC,EAAEuB,KAAKyhB,oBAAoBpgB,IAAI7C,EAAE,GAAG,IAAIC,GAAGuB,KAAKyhB,oBAAoBpgB,IAAI7C,EAAE,GAAGH,GAAG2B,KAAKyhB,oBAAoB5e,KAAK,GAAG7C,KAAKsiB,aAAa,YAAY/D,OAAO9f,EAAEJ,GAAG,MAAMG,EAAE,IAAIwB,KAAK0hB,SAASjJ,QAAQ3X,OAAO,IAAI,MAAMc,KAAKnD,EAAE,CAAC,MAAMA,EAAEuB,KAAK0hB,SAASjJ,QAAQ+J,UAAU/jB,EAAEma,eAAehX,EAAEnD,EAAEqhB,WAAWzhB,EAAEG,GAAGwB,KAAK0hB,SAASjJ,QAAQ3X,OAAO,GAAGd,KAAKsiB,aAAa,YAAYzB,YAAYpiB,GAAG,IAAIJ,GAAE,EAAG,OAAO2B,KAAK4hB,yBAAyBI,QAAQ,EAAES,iBAAiBjkB,MAAMA,EAAEqiB,aAAariB,EAAEqiB,YAAYpiB,KAAKJ,GAAE,MAAOA,EAAEqkB,KAAKjkB,EAAEJ,GAAG,IAAI,IAAIG,EAAE,EAAEA,EAAEwB,KAAK4hB,yBAAyB9gB,OAAOtC,IAAI,CAAC,MAAMoD,EAAE5B,KAAK4hB,yBAAyB7b,KAAKvH,GAAGoB,aAAEgC,EAAEoE,SAASvH,IAAImD,EAAE6gB,iBAAiB1B,OAAO,KAAKtiB,EAAEJ,EAAE,OAAOgkB,gCAAgCriB,KAAK4hB,yBAAyBthB,QAAQ,IAAI7B,EAAE,EAAEuB,KAAK2hB,mBAAmBvhB,SAAS,CAAC/B,EAAEG,KAAKA,EAAEmkB,YAAYlkB,IAAIuB,KAAK4hB,yBAAyBhO,KAAK,CAAC5N,SAASxH,EAAEikB,iBAAiBpkB,OAAO2B,KAAK4hB,yBAAyBjB,MAAM,CAACliB,EAAEJ,KAAK,MAAMG,EAAEH,EAAE2H,SAAS4c,eAAenkB,EAAEuH,SAAS4c,eAAe,OAAO,IAAIpkB,EAAEA,EAAEC,EAAEuH,SAAS2c,YAAYtkB,EAAE2H,SAAS2c,eAAeR,oBAAoBniB,KAAK0hB,SAASnJ,KAAKjY,QAAQN,KAAK0hB,SAASlJ,QAAQlY,QAAQN,KAAKyhB,oBAAoBrhB,SAAS,CAAC3B,EAAEJ,KAAK,OAAOI,GAAG,KAAK,EAAEuB,KAAK0hB,SAASnJ,KAAK3E,KAAKvV,GAAG,MAAM,KAAK,EAAE2B,KAAK0hB,SAASlJ,QAAQ5E,KAAKvV,OAAO,IAAII,EAAE,EAAE,KAAKA,EAAEuB,KAAK0hB,SAASjJ,QAAQ3X,QAAQ,CAAC,MAAMzC,EAAE2B,KAAK0hB,SAASjJ,QAAQ1S,KAAKtH,GAAGma,eAAe5Y,KAAKyhB,oBAAoBoB,IAAIxkB,GAAG2B,KAAK0hB,SAASjJ,QAAQqK,qBAAqBrkB,GAAGA,KAAa,WAAG,MAAM,CAACskB,wBAAwB/iB,KAAK4hB,4BAA4BnjB,YAAE,CAACD,eAAK+E,GAAEyN,UAAU,YAAO,GAAQvS,YAAE,CAACD,eAAK+E,GAAEyN,UAAU,0BAAqB,GAAQvS,YAAE,CAACD,eAAK+E,GAAEyN,UAAU,WAAW,MAAMzN,GAAE9E,YAAE,CAACmD,YAAE,gEAAgE2B,I,cCAvtH,MAAM1C,WAAUrC,KAAE+a,kBAAkB9a,GAAG,MAAMJ,EAAEwC,GAAE8T,OAAOlU,MAAMgZ,QAAQ,OAAO,IAAInb,KAAEG,EAAEiZ,KAAKrZ,EAAEgc,eAAe,UAAUhc,EAAEgc,eAAe,YAAYzY,MAAGsa,qBAAqB,OAAOlc,KAAKwZ,cAAcwJ,SAASpjB,aAAE,CAAC8b,SAASrZ,aAAE,IAAI,EAAE,IAAI,KAAK0Z,WAAW3Z,OAAIxC,aAAE,CAACmc,WAAW3Z,QAAKvB,GAAE8T,OAAO,IAAItW,KAAE0C,MAAG,IAAI,mCAA2D,MAAM+D,WAAU9G,KAAE+B,cAAcgF,SAASuK,WAAWtP,KAAKgjB,UAAS,GCAx8B,SAASpjB,GAAEpB,EAAEoB,EAAEnB,IAAIA,EAAEA,GAAGD,GAAGsC,OAAOtC,EAAEsC,OAAO,IAAI,IAAIuB,EAAE,EAAEA,EAAE7D,EAAEsC,OAAOuB,IAAI5D,EAAE4D,GAAG7D,EAAE6D,GAAGzC,EAAEyC,GAAG,OAAO5D,EAAE,SAASA,GAAED,EAAEoB,EAAEnB,IAAIA,EAAEA,GAAGD,GAAGsC,OAAOtC,EAAEsC,OAAO,IAAI,IAAIuB,EAAE,EAAEA,EAAE7D,EAAEsC,OAAOuB,IAAI5D,EAAE4D,GAAG7D,EAAE6D,GAAGzC,EAAE,OAAOnB,EAAE,SAAS4D,GAAE7D,EAAEoB,EAAEnB,IAAIA,EAAEA,GAAGD,GAAGsC,OAAOtC,EAAEsC,OAAO,IAAI,IAAIuB,EAAE,EAAEA,EAAE7D,EAAEsC,OAAOuB,IAAI5D,EAAE4D,GAAG7D,EAAE6D,GAAGzC,EAAEyC,GAAG,OAAO5D,ECAQ,SAASoC,GAAEjB,GAAG,OAAOA,EAAE,IAAIA,EAAE,GAAqF,SAAS2D,GAAE3D,EAAEpB,EAAEqB,GAAG,MAAM+B,EAAEhC,EAAE,GAAG5B,EAAE4B,EAAE,GAAGvB,EAAEuB,EAAE,GAAGnB,EAAEoB,GAAG,GAAG,OAAOpB,EAAEqC,OAAOD,GAAErC,GAAGA,GAAG,IAAIC,EAAE,GAAG,cAAcD,GAAG,IAAIC,EAAE,GAAG,YAAYmD,EAAEnD,EAAE,GAAG,YAAYJ,EAAEI,EAAE,GAAG,YAAYT,GAAGQ,GAAG,IAAIC,EAAE,GAAG,cAAcmD,EAAE5D,EAAES,EAAE,GAAG,cAAcT,EAAEK,EAAEI,EAAE,GAAG,cAAc,EAAEJ,EAAEA,EAAE,GAAGI,EAAE,GAAG,cAAcmD,EAAEvD,EAAEI,EAAE,GAAG,cAAcmD,EAAEA,EAAE5D,EAAEA,IAAIS,EAA4I,SAAS8D,GAAE3C,EAAEpB,GAAG,MAAMoD,EAAngB,SAAWpD,GAAG,OAAOoB,aAAEuJ,KAAK+P,MAAM/P,KAAK8Z,KAAKzkB,GAAG,GAAG,EAAE,GAAid8D,CAAE9D,EAAEH,EAAEyC,QAAQ,IAAI,MAAM9C,KAAK4B,EAAEC,YAAEmN,GAAEhP,EAAEsK,WAAW/E,GAAEyJ,GAAEpL,EAAEyN,IAAGjN,GAAEiN,GAAExL,IAAGG,GAAEqL,GAAErR,EAAEqK,UAAU,GAAG6C,IAAGpG,GAAEtG,EAAEH,EAAE6M,IAAGlH,GAAEqL,GAAErR,EAAEqK,UAAU,GAAG6C,IAAGpG,GAAEtG,EAAE8D,EAAE4I,IAAGlH,GAAEqL,GAAErR,EAAEqK,UAAU,GAAG6C,IAAGpG,GAAEtG,EAAE+D,EAAE2I,IAAG,OAAO1M,EAAsL,SAASsN,GAAElM,EAAEpB,EAAEqB,IAA3gB,SAAWD,EAAEpB,GAAG,MAAMqB,EAAEgB,GAAEjB,GAAGgC,EAAEpD,GAAG,CAACH,EAAE,GAAGiE,EAAE,GAAGC,EAAE,IAAIX,EAAEvD,EAAEyC,OAAOc,EAAEU,EAAExB,OAAOc,EAAEW,EAAEzB,OAAOjB,EAAE,IAAI,IAAI7B,EAAE,EAAEA,EAAE6B,EAAE7B,IAAI4D,EAAEvD,EAAEL,GAAG4D,EAAEU,EAAEtE,GAAG4D,EAAEW,EAAEvE,GAAG,GAA+Y6J,CAAErJ,EAAEqB,EAAEqjB,mBAAmB1a,IAAI5G,YAAE/B,EAAEiC,KAAKuG,UAAU,EAAE,EAAE,GAAG,IAAIjG,GAAE,EAAG,MAAM4B,EAAEpB,GAAE/B,EAAE2K,GAAEnJ,EAAEgK,GAAErI,EAAElD,OAAO,EAAED,EAAEC,OAAO,EAAEuB,EAAEvB,OAAO,EAAE,IAAI,MAAMc,KAAKhC,EAAEgC,aAAavD,KAAI+D,GAAGpE,YAAE6B,EAAEiC,KAAKwG,UAAU1G,EAAE0G,WAAWzI,EAAEiC,KAAKuG,UAAU,GAAGzG,EAAEyG,UAAU,GAAGxI,EAAEiC,KAAKuG,UAAU,GAAGzG,EAAEyG,UAAU,GAAGxI,EAAEiC,KAAKuG,UAAU,GAAGzG,EAAEyG,UAAU,GAAGxI,EAAEiC,KAAKyG,YAAY3G,EAAE2G,YAAYnG,GAAE,GAAIR,aAAavD,IAAGuD,aAAanD,GAAEuF,EAAE4P,KAAKhS,GAAGA,aAAab,GAAEF,EAAE+S,KAAKhS,GAAGA,aAAatD,IAAG+D,EAAEuR,KAAKhS,GAAGW,GAAEyB,EAAEnE,EAAEqjB,mBAAmB1a,IAAnoB,SAAW5I,EAAEpB,GAAG+E,GAAEyJ,GAAE,EAAEqC,IAAG,IAAI,MAAMxP,KAAKD,EAAEpB,EAAEH,EAAE,IAAIgR,GAAE,GAAGxL,GAAE,GAAGhE,EAAEwI,UAAU,GAAG,EAAEc,KAAKC,GAAG5K,EAAE8D,EAAE,IAAI+M,GAAE,GAAGxL,GAAE,GAAGhE,EAAEwI,UAAU,GAAG,EAAEc,KAAKC,GAAG5K,EAAE+D,EAAE,IAAI8M,GAAE,GAAGxL,GAAE,GAAGhE,EAAEwI,UAAU,GAAG,EAAEc,KAAKC,GAA+dc,CAAErJ,EAAEhB,EAAEqjB,mBAAmB1a,IAAI,IAAI,MAAM5G,KAAKS,EAAEyC,GAAEjF,EAAEqjB,mBAAmB1a,GAAGnK,EAAEuD,EAAE4G,GAAGnK,GAAGyG,GAAEjF,EAAEqjB,mBAAmB1a,GAAGlG,EAAEV,EAAE4G,GAAGlG,GAAGwC,GAAEjF,EAAEqjB,mBAAmB1a,GAAGjG,EAAEX,EAAE4G,GAAGjG,GFAr1B9D,YAAE,CAACoB,gBAAKiF,GAAEkM,UAAU,gBAAW,GEAyzB,MAAMpO,GAAE,GAAG4I,GAAE,GAAGa,GAAE,GAAGgD,GAAE,CAAC,GAAGnE,GAAE,CAAC,GAAG8B,GAAExO,cAAIqF,GAAE,CAAC,SAAS,SAAS,SAAS,SAAS,QAAQ,QAAQ,QAAQ,QAAQ,SCAhyDzB,GAAEvC,cAAS,MAAMwC,GAAEtC,cAAcC,KAAKmjB,gBAAgB,CAACrhB,KAAK,CAACuG,UAAUxI,cAAIyI,UAAU9J,YAAE,EAAE,EAAE,GAAG+J,aAAY,GAAI2a,mBAAmB,CAAC1a,GAAG,CAACnK,EAAE,CAAC,GAAGiE,EAAE,CAAC,GAAGC,EAAE,CAAC,MAAMvC,KAAKojB,SAAS,EAAEpjB,KAAKqjB,aAAa,CAAC/a,UAAUzI,cAAIyjB,QAAQ,CAAC9gB,MAAM3C,cAAIwI,UAAU,GAAGkb,QAAQ,CAAC/gB,MAAM3C,cAAIwI,UAAU,IAAImb,yBAAyB3jB,GAAGA,EAAE4jB,cAAc,wBAAwBzjB,KAAKmjB,gBAAgBrhB,KAAKwG,WAAWyS,YAAYlb,EAAErB,GAAE,GAAI,GAAGA,EAAE,CAAC,MAAMA,GAAG,EAAEwB,KAAK0jB,MAAMC,uBAAuB,EAAE3jB,KAAK0jB,MAAME,cAAc/jB,EAAEH,aAAa,sBAAsBlB,QAAQqB,EAAEH,aAAa,sBAAsB,GAAGG,EAAEH,aAAa,uBAAuBM,KAAK0jB,MAAME,cAAc5jB,KAAKwjB,yBAAyB3jB,GAAGA,EAAE4jB,cAAc,wBAAwBzjB,KAAKmjB,gBAAgBrhB,KAAKuG,WAAWxI,EAAEH,aAAa,qBAAjuB,IAAyvB,MAAME,EAAEI,KAAKmjB,gBAAgBD,mBAAmB1a,GAAG,IAAIxI,KAAKojB,SAASvjB,EAAEgkB,aAAa,qBAAqBjkB,EAAEvB,EAAE,GAAGuB,EAAE0C,EAAE,GAAG1C,EAAE2C,EAAE,IAAI,IAAIvC,KAAKojB,UAAUvjB,EAAEikB,aAAa,sBAAsBlkB,EAAEvB,EAAE,GAAGuB,EAAEvB,EAAE,GAAGuB,EAAEvB,EAAE,GAAGuB,EAAEvB,EAAE,IAAIwB,EAAEikB,aAAa,sBAAsBlkB,EAAE0C,EAAE,GAAG1C,EAAE0C,EAAE,GAAG1C,EAAE0C,EAAE,GAAG1C,EAAE0C,EAAE,IAAIzC,EAAEikB,aAAa,sBAAsBlkB,EAAE2C,EAAE,GAAG3C,EAAE2C,EAAE,GAAG3C,EAAE2C,EAAE,GAAG3C,EAAE2C,EAAE,KAAK,IAAIvC,KAAKojB,WAAWvjB,EAAEgkB,aAAa,qBAAqBjkB,EAAEvB,EAAE,GAAGuB,EAAE0C,EAAE,GAAG1C,EAAE2C,EAAE,IAAI1C,EAAEikB,aAAa,uBAAuBlkB,EAAEvB,EAAE,GAAGuB,EAAEvB,EAAE,GAAGuB,EAAEvB,EAAE,GAAGuB,EAAEvB,EAAE,IAAIwB,EAAEikB,aAAa,uBAAuBlkB,EAAE0C,EAAE,GAAG1C,EAAE0C,EAAE,GAAG1C,EAAE0C,EAAE,GAAG1C,EAAE0C,EAAE,IAAIzC,EAAEikB,aAAa,uBAAuBlkB,EAAE2C,EAAE,GAAG3C,EAAE2C,EAAE,GAAG3C,EAAE2C,EAAE,GAAG3C,EAAE2C,EAAE,IAAI1C,EAAEikB,aAAa,uBAAuBlkB,EAAEvB,EAAE,GAAGuB,EAAEvB,EAAE,GAAGuB,EAAEvB,EAAE,GAAGuB,EAAEvB,EAAE,IAAIwB,EAAEikB,aAAa,uBAAuBlkB,EAAE0C,EAAE,GAAG1C,EAAE0C,EAAE,GAAG1C,EAAE0C,EAAE,GAAG1C,EAAE0C,EAAE,IAAIzC,EAAEikB,aAAa,uBAAuBlkB,EAAE2C,EAAE,GAAG3C,EAAE2C,EAAE,GAAG3C,EAAE2C,EAAE,GAAG3C,EAAE2C,EAAE,KAAKlB,IAAIxB,GAAGG,KAAK0jB,MAAM7jB,EAAEpB,GAAEoB,EAAEkkB,OAAO/jB,KAAKojB,SAASpjB,KAAKmjB,iBAAiBvjB,YAAEI,KAAKqjB,aAAa/a,UAAUtI,KAAKmjB,gBAAgBrhB,KAAKwG,WAAW,MAAM9J,EAAE,EAAE2K,KAAKC,GAAGpJ,KAAKqjB,aAAaC,QAAQ9gB,MAAM,GAAG,QAAQxC,KAAKmjB,gBAAgBD,mBAAmB1a,GAAGnK,EAAE,GAAGG,EAAEwB,KAAKqjB,aAAaC,QAAQ9gB,MAAM,GAAG,QAAQxC,KAAKmjB,gBAAgBD,mBAAmB1a,GAAGlG,EAAE,GAAG9D,EAAEwB,KAAKqjB,aAAaC,QAAQ9gB,MAAM,GAAG,QAAQxC,KAAKmjB,gBAAgBD,mBAAmB1a,GAAGjG,EAAE,GAAG/D,EAAEwB,KAAKqjB,aAAaC,QAAQjb,UAAU,EAAErI,KAAKqjB,aAAaE,QAAQ/gB,MAAM,GAAGxC,KAAKmjB,gBAAgBrhB,KAAKuG,UAAU,GAAG7J,EAAEwB,KAAKqjB,aAAaE,QAAQ/gB,MAAM,GAAGxC,KAAKmjB,gBAAgBrhB,KAAKuG,UAAU,GAAG7J,EAAEwB,KAAKqjB,aAAaE,QAAQ/gB,MAAM,GAAGxC,KAAKmjB,gBAAgBrhB,KAAKuG,UAAU,GAAG7J,EAAEwB,KAAKqjB,aAAaE,QAAQlb,UAAU,EAAE,MAAMhG,EAAEhE,YAAE+D,GAAEpC,KAAKqjB,aAAaE,QAAQ/gB,OAAOZ,YAAES,EAAEA,EAAn0E,GAAu0ErC,KAAK0jB,MAAME,cAAc5lB,YAAEgC,KAAKqjB,aAAaC,QAAQ9gB,MAAMxC,KAAKqjB,aAAaC,QAAQ9gB,MAAMH,GAAmB,mBAAG,OAAOrC,KAAK0jB,MAAME,aAAoB,UAAG,OAAO5jB,KAAKqjB,cCAxW,MAAM3d,GAAE9F,IAAEsV,UAAU,kDAAkD,IAAIpI,GAAE,cAAcxD,aAAEjH,OAAItC,YAAYtB,GAAGsG,MAAMtG,GAAGuB,KAAKgkB,UAAU,KAAKhkB,KAAK8d,gBAAe,EAAG9d,KAAKikB,kBAAiB,EAAGjkB,KAAK6hB,WAAU,EAAG7hB,KAAKkkB,UAAU,IAAIza,GAAEzJ,KAAKmkB,cAAc,IAAIrY,GAAE9L,KAAKokB,SAAS,IAAIrjB,KAAEf,KAAKqkB,gBAAgB,IAAInkB,IAAIF,KAAKskB,4BAA2B,EAAGtkB,KAAKukB,sBAAsB,IAAIniB,KAAEpC,KAAKwkB,YAAY,IAAItkB,IAAIF,KAAKykB,gBAAgB,EAAEzkB,KAAK0kB,kBAAkB,KAAKC,aAAa3kB,KAAKge,MAAMhe,KAAK4kB,WAAWC,iBAAiB7kB,KAAK8kB,eAAe,IAAI3Z,GAAEnL,KAAKge,MAAM,KAAK,KAAK,KAAK,KAAK,MAAMhe,KAAK+kB,0BAA0B,IAAI7Z,EAAElL,KAAKsZ,uBAAuBtZ,KAAK4kB,WAAWtL,uBAAuBtZ,KAAKglB,2BAA2B,IAAI9X,GAAE,CAACwK,KAAK1X,KAAKge,MAAM5J,YAAY,EAAEK,mBAAmB,IAAI9G,GAAEsX,yBAAyBjlB,KAAK+kB,0BAA0BzL,uBAAuBtZ,KAAKsZ,yBAAyBhX,YAAEtC,KAAKsZ,uBAAuB,gBAAgB,IAAItZ,KAAKklB,uBAAuBllB,KAAKmlB,oBAAoB,IAAI9V,GAAErP,KAAK4kB,WAAWQ,kBAAkBplB,KAAKglB,4BAA4BhlB,KAAKmlB,oBAAoBxP,kBAAkBlX,KAAKA,EAAEkE,eAAe8L,IAAG,IAAIzO,KAAKikB,kBAAkBjkB,KAAKqlB,wBAAwBrlB,KAAKklB,qBAAqBllB,KAAKsiB,aAAa,aAAatiB,KAAKslB,mBAAmBtlB,KAAK4kB,WAAWW,kBAAkBvlB,KAAKkkB,UAAU7iB,IAAI,CAAC0iB,OAAO,CAAC,IAAIlf,GAAEhE,YAAE,EAAE,EAAE,KAAK8iB,qBAAqB,EAAEC,aAAa,IAAI5jB,KAAKwlB,gBAAgB,CAACtN,KAAK,KAAKC,sBAAsB9N,aAAErK,KAAKge,OAAO9e,OAAOyM,GAAEkP,gBAAgBhX,eAAI6C,OAAO,KAAK+e,mBAAmB,KAAKC,2BAA2B,KAAK9I,sBAAqB,EAAG+I,WAAW,KAAKC,aAAY,EAAGvN,cAAa,EAAG/Y,mBAAmB,KAAKD,uBAAuB,EAAEN,sBAAsB,KAAKF,0BAA0B,EAAEI,gBAAgB,KAAKG,YAAW,EAAG0b,SAAS9a,KAAKkkB,UAAUvK,qBAAqB,EAAEkM,0BAA0B,KAAKC,2BAA2B,KAAK3L,yBAAwB,EAAGC,iBAAgB,EAAG2L,0BAAyB,GAAI/lB,KAAKokB,SAASjmB,IAAI6B,KAAKgmB,UAAUC,aAAajiB,KAAEkiB,OAAO,IAAIlmB,KAAKkiB,kBAAkB,IAAIliB,KAAKwa,YAAYra,UAAUH,KAAKokB,SAAS+B,UAAUnmB,KAAKqkB,gBAAgBjkB,SAAS3B,GAAGA,EAAE0B,YAAYH,KAAKqkB,gBAAgB/jB,QAAQN,KAAKwlB,gBAAgBrN,sBAAsB9Z,YAAE2B,KAAKwlB,gBAAgBrN,uBAAuBnY,KAAKglB,2BAA2B3mB,YAAE2B,KAAKglB,4BAA4BhlB,KAAKomB,uBAAuB/nB,YAAE2B,KAAKomB,wBAAwBpmB,KAAKqmB,qBAAqBhoB,YAAE2B,KAAKqmB,sBAAsBrmB,KAAKsmB,SAASjoB,YAAE2B,KAAKsmB,UAAsB,eAAG,OAAOtmB,KAAKskB,4BAA4BvY,aAAE/L,KAAKqkB,iBAAiB5lB,GAAGA,EAAE+b,YAAYxa,KAAKsZ,uBAAuBkB,SAAwB,kBAAG,OAAOhc,YAAEwB,KAAKgkB,WAA6B,qBAAG,OAAOxlB,YAAEwB,KAAKgkB,WAAWhkB,KAAKgkB,UAAU,GAAG9R,oBAAoBlS,KAAKgkB,UAAU,GAAG9R,oBAAoB,EAAc,eAAG,OAAOlS,KAAKgkB,UAAUuC,eAAe9nB,GAAGD,YAAEwB,KAAKgkB,aAAavlB,EAAEuB,KAAKgkB,UAAU,GAAG,GAAGvlB,EAAEuB,KAAKgkB,UAAU,GAAG,IAAIwC,iBAAiB,GAAG3mB,YAAEG,KAAKgkB,WAAW,CAAC,MAAMvlB,EAAEuB,KAAK4kB,WAAWC,iBAAiB7kB,KAAKgkB,UAAU,CAAC,IAAItX,GAAEjO,GAAG,IAAIiO,GAAEjO,KAAKgoB,kBAAkBjoB,YAAEwB,KAAKgkB,aAAahkB,KAAKgkB,UAAU5jB,SAAS3B,GAAGA,EAAE0B,YAAYH,KAAKgkB,UAAU,MAAM9B,gBAAgB,IAAIzjB,GAAE,EAAGuB,KAAKqkB,gBAAgBjkB,SAAS,CAAC/B,EAAEG,KAAKH,EAAE6jB,kBAAkBzjB,GAAE,GAAIJ,EAAEigB,UAAUte,KAAKqkB,gBAAgB9iB,OAAO/C,GAAGwB,KAAKskB,4BAA2B,EAAGtkB,KAAKokB,SAAS7B,OAAO/jB,OAAOwB,KAAKskB,6BAA6BtkB,KAAK0mB,6BAA6BjoB,GAAE,GAAIA,IAAIuB,KAAKsiB,aAAa,YAAYtiB,KAAKklB,qBAAqBllB,KAAK2mB,sBAAsB3mB,KAAKqlB,wBAAwBrlB,KAAK4mB,kBAAkBC,cAAcpoB,EAAEJ,EAAEG,GAAG,IAAI,MAAMoD,KAAKnD,EAAE,MAAMmD,EAAE8E,SAAS9E,EAAE8E,OAAO1G,KAAKmkB,cAAc5N,UAAU3U,EAAEuE,iBAAiBtG,YAAE+B,EAAEqP,MAAMrP,EAAEqP,GAAGrO,gBAAK5C,KAAKwkB,YAAYnjB,IAAIO,EAAEqP,GAAGrP,GAAG5B,KAAK8mB,oBAAoBzoB,GAAGF,IAAIM,GAAG,IAAID,GAAGwB,KAAK+mB,6BAA6BtoB,EAAEJ,GAAG2oB,iBAAiBvoB,EAAEJ,EAAEG,GAAG,IAAI,MAAMoB,KAAKnB,EAAEuB,KAAKwkB,YAAYjjB,OAAOK,YAAEhC,EAAEqR,KAAK,MAAMpR,EAAEG,KAAKqkB,gBAAgB5jB,IAAIpC,GAAGwB,IAAIA,EAAE0iB,OAAO9jB,GAAG,IAAID,GAAGwB,KAAK+mB,6BAA6BtoB,EAAEJ,IAAImgB,iBAAiB/f,EAAEJ,EAAEG,GAAG,MAAMqB,EAAEG,KAAKqkB,gBAAgB5jB,IAAIpC,GAAG,GAAGwB,EAAE,OAAOA,EAAE0e,OAAO9f,EAAED,GAAGA,GAAG,KAAK,EAAE,KAAK,EAAE,OAAOwB,KAAK+mB,6BAA6BtoB,EAAEJ,GAAG,KAAK,EAAE,OAAO2B,KAAKinB,+BAA+BxoB,EAAEJ,QAAQqH,GAAEwhB,KAAK,sDAAsDH,6BAA6BtoB,EAAEJ,GAAG,GAAGwB,YAAExB,EAAE0oB,8BAA8B,OAAO,IAAIvoB,EAAE,IAAI,MAAMqB,KAAKpB,EAAE,CAAC,MAAMA,EAAEoB,EAAEqG,WAAWzH,IAAID,IAAIH,EAAE0oB,6BAA6BtoB,GAAGD,EAAEC,IAAIwoB,+BAA+BxoB,EAAEJ,GAAG,GAAGwB,YAAExB,EAAE4oB,gCAAgC,OAAO,IAAIzoB,EAAE,IAAI,MAAMqB,KAAKpB,EAAE,CAAC,MAAMA,EAAEoB,EAAEqG,WAAWzH,IAAID,IAAIH,EAAE4oB,+BAA+BxoB,GAAGD,EAAEC,IAAI0oB,iBAAiB1oB,EAAEJ,GAAG,MAAMG,EAAEwB,KAAKqkB,gBAAgB5jB,IAAIpC,GAAGG,EAAEA,EAAE+f,OAAO9f,EAAE,GAAGiH,GAAEwhB,KAAK,wDAAwD5I,UAAU,OAAO,IAAIte,KAAKwkB,YAAY3hB,OAAO4F,GAAEsH,2BAA4C,oBAAG,OAAO/P,KAAK8d,eAA2B,eAAG,OAAO9d,KAAK6hB,UAA6B,sBAAG,OAAO7hB,KAAKikB,iBAAiBpD,YAAYpiB,GAAG,IAAIJ,GAAE,EAAG,OAAO2B,KAAKqkB,gBAAgBjkB,SAAS5B,IAAIA,EAAEqiB,YAAYpiB,KAAKJ,GAAE,MAAOA,EAAE+oB,mBAAmBpnB,KAAKskB,4BAA2B,EAAGtR,SAASvU,EAAEJ,EAAEwB,EAAED,EAAE,GAAG,GAAG,IAAIC,EAAEwnB,SAAS,OAAM,EAAG,GAAGrnB,KAAKsnB,oBAAoBznB,EAAEyK,WAAWnB,KAAKyD,IAAI/M,EAAE0nB,MAAM,GAAGnV,OAAO,GAAGvS,EAAE0nB,MAAM,GAAGnV,OAAO,IAAIjJ,KAAKyD,IAAI/M,EAAE0nB,MAAM,GAAGna,SAAS,GAAGvN,EAAE0nB,MAAM,GAAGna,SAAS,IAAIpN,KAAKse,WAAW,IAAI7f,IAAIuB,KAAKod,eAAe,IAAI3e,IAAIuB,KAAKoiB,SAAS,OAAM,EAAG,IAAIpiB,KAAKwnB,oBAAoB3nB,GAAG,OAAM,EAAG,MAAM7B,EAAE6B,EAAEmB,MAAM1C,EAAEuB,EAAEF,OAAO,IAAItB,EAAEsT,UAAU,OAAM,EAAGtT,EAAEuT,OAAO5T,EAAEM,GAAG,MAAM8D,EAAEpC,KAAKge,MAAM,GAAGrS,GAAErB,WAAWzK,EAAEyK,YAAY,EAAEtK,KAAK8kB,eAAe7M,KAAKxZ,EAAEuB,KAAKwlB,gBAAgBC,mBAAmBzlB,KAAKsnB,oBAAoBtnB,KAAKwlB,gBAAgBE,2BAA2B1lB,KAAKsnB,oBAAoBtnB,KAAKykB,gBAAgBpmB,EAAEsC,KAAKyB,GAAGA,EAAEqlB,cAAc,EAAE,EAAE,EAAE,GAAGrlB,EAAEslB,UAAU,OAAO,IAAI9nB,IAAII,KAAK8kB,eAAe1M,mBAAmB3J,IAAGhG,GAAEsH,4BAA4B,IAAInQ,EAAE,IAAI,IAAIpB,EAAE,EAAEA,EAAEqB,EAAEwnB,SAAS7oB,IAAIwB,KAAK2nB,kBAAkB9nB,EAAE0nB,MAAM/oB,GAAGmN,IAAG3L,KAAK4nB,iBAAiB5pB,EAAEM,EAAEyQ,GAAElP,EAAEiI,MAAMiH,GAAEjO,SAAS,OAAOd,KAAKqkB,gBAAgBxhB,KAAK,GAAG7C,KAAKukB,sBAAsBvC,QAAQ,EAAE6F,UAAUxlB,EAAEylB,SAASllB,MAAM,GAAG,IAAIhD,GAAGpB,YAAE6D,IAAI,IAAIA,EAAE0lB,gBAAgB,OAAO,MAAMlnB,EAAErC,YAAE6D,IAAI7D,YAAE6D,EAAE2lB,cAAc3lB,EAAE2lB,YAAY,GAAG,IAAIvpB,EAAEoC,IAAIb,KAAKioB,yBAAyBjoB,KAAKge,MAAMhgB,EAAEM,GAAG8D,EAAEslB,UAAU,QAAQ,IAAI,IAAIjpB,EAAE,EAAEA,EAAEoB,EAAEwnB,SAAS5oB,IAAIuB,KAAK2nB,kBAAkB9nB,EAAE0nB,MAAM9oB,GAAGkN,IAAG/I,EAAE8f,KAAK1iB,KAAK8kB,eAAe9kB,KAAKwlB,iBAAiB3kB,GAAGrC,YAAEwB,KAAKomB,0BAA0B/nB,EAAEsC,KAAKyB,GAAGpC,KAAKslB,mBAAmB4C,UAAUloB,KAAKomB,uBAAuB3U,aAAa,EAAE7P,YAAEA,YAAES,GAAG2lB,kBAAkB5lB,EAAEyP,gBAAgB,MAAMxT,EAAEyT,iBAAiB9R,KAAK8kB,eAAexM,2BAA0B,EAAG2P,yBAAyBxpB,EAAEJ,EAAEG,GAAGqB,YAAEG,KAAKomB,0BAA0BpmB,KAAKomB,uBAAuB,IAAIpd,GAAEvK,GAAE,IAAKuB,KAAKomB,uBAAuBxU,OAAOvT,EAAEG,GAAGwB,KAAKomB,uBAAuBzlB,KAAKlC,GAAsB,4BAASuB,KAAKglB,2BAA2BmD,YAAYC,UAAU3pB,EAAEJ,EAAEG,GAAG,IAAIqB,EAAE,EAAEG,KAAKwkB,YAAYpkB,SAASwB,IAAI,GAAGpD,IAAIA,EAAEoD,GAAG,OAAO5B,KAAKqoB,wBAAwBzmB,EAAEvD,EAAE,EAAEI,EAAEoB,GAAG,MAAMD,EAAEI,KAAK0kB,kBAAkB9kB,IAAIgC,EAAEuE,eAAe,GAAGvE,EAAEuE,eAAe,GAAGvG,EAAEmO,KAAK/N,KAAKqoB,wBAAwBzmB,EAAEvD,EAAEuB,EAAE0oB,MAAM7pB,EAAEoB,GAAG+B,EAAEuE,eAAe,GAAGvE,EAAEuE,eAAe,GAAGvG,EAAEqN,KAAKjN,KAAKqoB,wBAAwBzmB,EAAEvD,GAAGuB,EAAE0oB,MAAM7pB,EAAEoB,IAAIA,OAAOwoB,wBAAwB5pB,EAAEJ,EAAEwB,EAAE+B,EAAEhC,GAAG,IAAInB,EAAE2H,mBAAmBG,QAAQ,OAAO,IAAIvI,EAAE,EAAEQ,YAAEC,EAAEkI,kBAAkB9G,GAAGpB,EAAEkI,eAAe,IAAI3I,EAAES,EAAEkI,eAAe,KAAKiF,GAAE,GAAGvN,EAAE,GAAGwB,EAAE+L,GAAE,GAAGvN,EAAE,GAAGL,EAAE4N,GAAE,GAAG,EAAE2c,GAAE,GAAGlqB,EAAE,GAAGwB,EAAE0oB,GAAE,GAAGlqB,EAAE,GAAGL,EAAEuqB,GAAE,GAAG,EAAE9pB,EAAEgnB,mBAAmBzlB,KAAKsnB,oBAAoB7oB,EAAEuH,SAASoiB,UAAU3pB,EAAE,KAAKA,EAAE2I,0BAA0BxF,EAAEgK,GAAE2c,IAAG,CAAClqB,EAAEG,EAAEqB,KAAKG,KAAKwoB,sBAAsB3oB,EAAEpB,EAAEuH,SAAS4c,eAAehjB,EAAEgC,EAAEnD,EAAEwH,SAASxH,EAAEyH,cAAczH,EAAEmI,+BAA8B,GAAI4hB,sBAAsB/pB,EAAEJ,EAAEG,EAAEqB,EAAE+B,EAAEhC,GAAG,MAAM5B,EAAE,CAAC4f,KAAK,WAAW6K,SAAS,CAACxiB,SAASrE,EAAEsE,WAAWtG,IAAItB,EAAEsD,IAAIA,EAAEP,IAAIrD,EAAE,KAAK6B,EAAE6oB,QAAQC,OAAOC,KAAK/oB,EAAE6oB,QAAQC,OAAOE,OAAOhpB,EAAE6oB,QAAQC,OAAOhiB,eAAetI,EAAE,KAAK,KAAKI,EAAED,GAAGoD,EAAEknB,YAAY,mBAAmB,IAAI,MAAMjpB,EAAE6oB,QAAQ3a,IAAIgb,kBAAkB1qB,GAAGwB,EAAE6oB,QAAQ3a,IAAIgb,oBAAoB,MAAMlpB,EAAE6oB,QAAQ3a,IAAI6a,MAAM/oB,EAAE6oB,QAAQC,OAAOC,MAAM/oB,EAAE6oB,QAAQ3a,IAAI6a,OAAOtqB,EAAEuB,EAAE6oB,QAAQ3a,KAAK,IAAIlO,EAAEmpB,QAAQC,QAAQ,MAAMppB,EAAE6oB,QAAQzb,IAAI8b,kBAAkB1qB,EAAEwB,EAAE6oB,QAAQzb,IAAI8b,oBAAoB,MAAMlpB,EAAE6oB,QAAQzb,IAAI2b,MAAM/oB,EAAE6oB,QAAQC,OAAOC,KAAK/oB,EAAE6oB,QAAQzb,IAAI2b,OAAOtqB,EAAEuB,EAAE6oB,QAAQzb,KAAK,IAAIpN,EAAEmpB,QAAQC,MAAM,CAAC,MAAMxqB,EAAE,IAAI4Y,KAAExX,EAAEqpB,KAAK5qB,EAAEG,GAAGoB,EAAE6oB,QAAQ5T,IAAIlB,KAAKnV,IAAIsjB,qBAAqBtjB,GAAGuB,KAAKukB,sBAAsBvC,QAAQ3jB,GAAGA,EAAEypB,SAAS/F,qBAAqBtjB,KAAKqoB,oBAAoBroB,GAAG,IAAIJ,EAAE2B,KAAKqkB,gBAAgB5jB,IAAIhC,GAAG,OAAOJ,IAAIA,EAAE,IAAI6L,GAAE,CAACwN,KAAK1X,KAAKge,MAAM9H,mBAAmBlW,KAAKmlB,sBAAsBnlB,KAAKqkB,gBAAgBhjB,IAAI5C,EAAEJ,GAAG2B,KAAKskB,4BAA2B,EAAG,gBAAgB7lB,GAAGuB,KAAKokB,SAASjmB,IAAIM,EAAE0qB,MAAM,eAAe,IAAInpB,KAAKklB,uBAAuBzmB,GAAGuB,KAAKokB,SAASjmB,IAAImE,YAAEjE,EAAE,YAAY,IAAI2B,KAAKsiB,aAAa,cAAc7jB,IAAIJ,EAAEqoB,6BAA6B,IAAI1mB,KAAKskB,2BAA2B,OAAO,GAAGtkB,KAAKskB,4BAA2B,EAAGtkB,KAAKukB,sBAAsBjkB,QAAQ,IAAIN,KAAKqkB,gBAAgBxhB,KAAK,OAAO,OAAOgU,MAAMuS,cAAc3qB,KAAKuB,KAAKqkB,gBAAgBgF,OAAOhrB,EAAE,IAAIirB,IAAItpB,KAAKqkB,gBAAgBzD,UAAUniB,EAAE2B,SAAS3B,IAAI,MAAMD,EAAEC,EAAEoB,EAAEG,KAAKqkB,gBAAgB5jB,IAAIjC,GAAGqB,IAAIG,KAAKukB,sBAAsB3Q,KAAK,IAAIvH,GAAE7N,EAAEqB,IAAIxB,EAAEkD,OAAO1B,OAAOxB,EAAE+B,SAAS3B,IAAIuB,KAAKukB,sBAAsB3Q,KAAK,IAAIvH,GAAE,KAAK5N,OAAOkpB,kBAAkBlpB,EAAEJ,GAAGA,EAAE+O,SAAS3O,EAAE2O,SAAS,MAAM5O,EAAEC,EAAE2T,OAAOtN,aAAEzG,EAAEc,iBAAiB,EAAEX,EAAE,GAAGA,EAAE,GAAG,EAAEA,EAAE,GAAGA,EAAE,GAAGH,EAAE+M,KAAK/M,EAAEoN,KAAK5D,aAAExJ,EAAEoB,YAAY2M,aAAE/N,EAAEoB,WAAWpB,EAAEoB,WAAW,EAAEhB,EAAE2T,OAAO,IAAI3T,EAAE2T,OAAO,GAAG,IAAI/T,EAAE6P,cAAclO,KAAKge,OAAOhe,KAAK8kB,eAAe5lB,OAAOb,EAAE2B,KAAKwlB,gBAAgBtmB,OAAOb,EAAE2B,KAAKwlB,gBAAgB3K,gBAAgB,GAAG,EAAExc,EAAEiQ,aAAa,GAAGtO,KAAKwlB,gBAAgB3K,gBAAgB,GAAG,EAAExc,EAAEiQ,aAAa,GAAGkZ,oBAAoB/oB,GAAG,IAAI,IAAIJ,EAAE,EAAEA,EAAEI,EAAE4oB,SAAShpB,IAAI,CAAC,MAAMG,EAAEC,EAAE8oB,MAAMlpB,GAAG,GAAGG,EAAE4T,OAAO,KAAK5T,EAAE4T,OAAO,IAAI5T,EAAE4T,OAAO,KAAK5T,EAAE4T,OAAO,GAAG,OAAM,EAAG,OAAM,EAAG8S,qBAAqBllB,KAAKupB,kBAAkBvpB,KAAKupB,mBAAmB3C,iBAAiB,MAAMnoB,EAAEsN,aAAE/L,KAAKqkB,iBAAiB5lB,GAAGA,EAAE2jB,WAAW3jB,IAAIuB,KAAK6hB,YAAY7hB,KAAK6hB,UAAUpjB,GAAGkoB,sBAAsB,MAAMloB,EAAEsN,aAAE/L,KAAKqkB,iBAAiB5lB,GAAGA,EAAE2e,gBAAgB3e,IAAIuB,KAAK8d,iBAAiB9d,KAAK8d,eAAerf,EAAEuB,KAAKwpB,wBAAwBxpB,KAAKwpB,uBAAuBxpB,KAAK8d,iBAAiBuH,wBAAwB,MAAM5mB,EAAEsN,aAAE/L,KAAKqkB,iBAAiB5lB,GAAGA,EAAEqjB,kBAAkBrjB,IAAIuB,KAAKikB,mBAAmBjkB,KAAKikB,iBAAiBxlB,EAAEuB,KAAKypB,0BAA0BzpB,KAAKypB,yBAAyBzpB,KAAK8hB,kBAAkB8F,iBAAiBnpB,EAAEJ,EAAEG,GAAG,MAAMqB,EAAEG,KAAKge,MAAMhe,KAAK0pB,4BAA4BjrB,EAAEJ,GAAG,MAAMuD,EAAE5B,KAAK2pB,uBAAuB/O,QAAQ/a,EAAEmd,YAAYpb,GAAG/B,EAAE4b,iBAAiBzb,KAAK2pB,uBAAuBC,UAAUhoB,EAAEkiB,aAAa,QAAQtlB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAG,GAAGoD,EAAEhD,aAAa,MAAM,GAAGiB,EAAEf,YAAYkB,KAAKqmB,qBAAqB,GAAGxmB,EAAEshB,QAAQnhB,KAAKsmB,UAAUzmB,EAAEwhB,WAAW,EAAE,EAAEtW,aAAE/K,KAAKsmB,SAAS,aAAaoD,4BAA4BjrB,EAAEJ,GAAG,GAAG2B,KAAKqmB,qBAAqB,OAAO,MAAM7nB,EAAE,IAAImD,WAAWlD,EAAEJ,EAAE,GAAG,IAAIwB,EAAE,EAAE,IAAI,IAAID,EAAE,EAAEA,EAAEvB,EAAEuB,IAAI,IAAI,IAAIgC,EAAE,EAAEA,EAAEnD,EAAEmD,IAAI,CAAC,MAAM5D,EAAEmL,KAAK+P,MAAMtX,EAAE,IAAItD,EAAE6K,KAAK+P,MAAMtZ,EAAE,IAAI5B,EAAE,GAAGM,EAAE,GAAG,GAAGN,EAAES,EAAE,IAAI,GAAGH,EAAED,EAAE,IAAIG,EAAEqB,KAAK,IAAIrB,EAAEqB,KAAK,IAAIrB,EAAEqB,KAAK,IAAIrB,EAAEqB,KAAK,MAAMrB,EAAEqB,KAAK,IAAIrB,EAAEqB,KAAK,IAAIrB,EAAEqB,KAAK,IAAIrB,EAAEqB,KAAK,EAAE7B,GAAG,EAAEM,EAAE,EAAEsD,EAAE,EAAEhC,EAAE,EAAE,IAAI,EAAE5B,EAAE,EAAEM,EAAE,EAAE,KAAK0B,KAAKqmB,qBAAqB,IAAI9jB,IAAEvC,KAAKge,MAAM,CAAC3M,OAAO,KAAKnQ,YAAY,KAAKC,SAAS,KAAKmQ,aAAa,KAAKtQ,MAAMvC,EAAEkB,OAAOtB,GAAGG,GAAG,MAAMoD,EAAE,IAAIqD,GAAErD,EAAEohB,UAAS,EAAGhjB,KAAK2pB,uBAAuB3pB,KAAKglB,2BAA2B1Q,0BAA0BjG,GAAEzM,EAAE5B,KAAK2pB,wBAAwB3pB,KAAKsmB,SAAStZ,aAAEhN,KAAKge,OAAe,WAAG,MAAM,CAAC6L,eAAe7pB,KAAKqkB,mBAAmB5lB,YAAE,CAACiN,gBAAKoB,GAAEkE,UAAU,kCAA6B,GAAQvS,YAAE,CAACiN,gBAAKoB,GAAEkE,UAAU,iCAA4B,GAAQvS,YAAE,CAACT,cAAI0N,gBAAKoB,GAAEkE,UAAU,8BAAyB,GAAQvS,YAAE,CAACT,YAAE,CAAC8rB,eAAc,KAAMhd,GAAEkE,UAAU,kBAAa,GAAQvS,YAAE,CAACT,YAAE,CAAC8rB,eAAc,KAAMhd,GAAEkE,UAAU,iBAAY,GAAQvS,YAAE,CAACT,eAAK8O,GAAEkE,UAAU,uBAAkB,GAAQvS,YAAE,CAACT,YAAE,CAAC4f,KAAKmM,QAAQC,UAAS,KAAMld,GAAEkE,UAAU,WAAW,MAAMlE,GAAErO,YAAE,CAACH,YAAE,0CAA0CwO,IAAG,MAAMT,GAAEtM,YAAYtB,EAAEJ,GAAG2B,KAAK6nB,UAAUppB,EAAEuB,KAAK8nB,SAASzpB,GAAG,MAAM0Q,GAAE,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,EAAE,KAAKpD,GAAE,IAAIH,GAAEG,GAAEP,KAAK,EAAEO,GAAEF,IAAI,IAAIE,GAAEpB,kBAAkB,KAAK,MAAMqB,GAAErI,cAAIglB,GAAEhlB,cAASkL,GAAE,ECA1+bnQ,IAAFsD,IAAI5D,KCA6nB,SAASuE,GAAE/D,GAAG,MAAMR,EAAE,GAAGS,EAAE,IAAi3B,SAAWT,EAAES,EAAEmB,GAAG,MAAMqqB,eAAe/hB,SAAS7J,GAAG6rB,wBAAwBrqB,GAAG7B,EAAE4D,EAA0kD,SAAWpD,GAAG,MAAMR,EAAEQ,EAAEsC,OAAO,OAAOtC,EAAE,KAAKA,EAAER,EAAE,IAAIQ,EAAE,KAAKA,EAAER,EAAE,IAAIQ,EAAE,KAAKA,EAAER,EAAE,GAAvpD8N,CAAEzN,IAAI,IAAIwB,EAAEvB,EAAED,EAAEyC,OAAO,GAAGc,EAAE,EAAE,GAAGf,EAAE,IAAIspB,YAAY,GAAG7rB,EAAE,IAAIyC,EAAEa,EAAEpD,aAAEH,EAAE,EAAEA,EAAEyC,OAAO,GAAGzC,EAAE,IAAIkF,EAAE,EAAE,IAAI,IAAI/E,EAAE,EAAEA,EAAEF,EAAE,EAAEE,IAAIqC,EAAE0C,KAAK/E,EAAEqC,EAAE0C,KAAK/E,EAAE,EAAEC,EAAEmV,KAAK,CAAC,WAAW,CAAC/Q,KAAK,EAAEkD,KAAKhF,EAAEuW,UAAU1V,KAAKhC,EAAEgU,KAAK,CAAC,WAAW/S,IAA1oC2K,CAAEhN,EAAEC,EAAET,GAAG,MAAM4B,EAAEnB,EAAE,GAAG,GAAGsH,KAAK1H,EAAEL,EAAE,GAAG,GAAG8C,OAAOjB,EAAE,IAAIqX,YAAY7Y,GAAG,OAA0kC,SAAWG,EAAEC,EAAEmB,GAAG,MAAMvB,EAAEG,EAAEyrB,cAAcG,YAAYpsB,YAAEK,KAAKuB,EAAEgU,KAAK,CAAC,SAAShU,EAAE,GAAG,KAAKnB,EAAEmV,KAAK,CAAC,SAAS,CAAC/Q,KAAK,EAAEkD,KAAK1H,MAAzrC6O,CAAE1O,EAAEC,EAAET,GAAyrC,SAAWQ,EAAER,EAAEK,EAAEwB,GAAG,GAAGpB,YAAED,EAAEyrB,cAAcI,cAAc,OAAO,MAAMzoB,EAAEpD,EAAEyrB,cAAcznB,MAAMxE,EAAE4V,KAAK,CAAC,QAAQ,CAAC/Q,KAAK,EAAEkD,KAAKnG,YAAEgC,EAAEiG,OAAMxJ,EAAEuV,KAAK,CAAC,QAAQ/T,IAAz0C4J,CAAEjL,EAAEC,EAAET,EAAE6B,GAAg+C,SAAWrB,EAAER,EAAEK,EAAEwB,GAAG,GAAGpB,YAAED,EAAEyrB,cAAcK,aAAa,OAAO,MAAM1oB,EAAEpD,EAAEyrB,cAAcpnB,KAAK7E,EAAE4V,KAAK,CAAC,OAAO,CAAC/Q,KAAK,EAAEkD,KAAK,CAACnG,YAAEgC,EAAE,OAAOvD,EAAEuV,KAAK,CAAC,OAAO/T,IAA9mDgE,CAAErF,EAAEC,EAAET,EAAE6B,GAA0zC,SAAWrB,EAAEC,EAAEmB,EAAEvB,GAAG,MAAMwB,EAAErB,EAAEyrB,cAAcI,aAAarsB,YAAE6B,KAAKpB,EAAEmV,KAAK,CAAC,wBAAwB,CAAC/Q,KAAK,EAAEkD,KAAK,IAAIiT,aAAa,CAACnZ,OAAOD,EAAEgU,KAAK,CAAC,QAAQvV,KAA78C2O,CAAExO,EAAEC,EAAET,EAAE6B,GAA+lD,SAAWrB,EAAEC,EAAEmB,EAAEvB,GAAG,MAAMwB,EAAErB,EAAEyrB,cAAcK,YAAYtsB,YAAE6B,KAAKpB,EAAEmV,KAAK,CAAC,uBAAuB,CAAC/Q,KAAK,EAAEkD,KAAK,IAAIiT,aAAa,CAACnZ,OAAOD,EAAEgU,KAAK,CAAC,uBAAuBvV,KAA/vD8M,CAAE3M,EAAEC,EAAET,EAAE6B,GAA4vD,SAAWrB,EAAEC,EAAEmB,EAAEvB,GAAG,MAAMwB,EAAErB,EAAEyrB,cAAcM,eAAevsB,YAAE6B,KAAKpB,EAAEmV,KAAK,CAAC,0BAA0B,CAAC/Q,KAAK,EAAEkD,KAAK,IAAIiT,aAAa,CAACnZ,OAAOD,EAAEgU,KAAK,CAAC,0BAA0BvV,KAAr6DgR,CAAE7Q,EAAEC,EAAET,EAAE6B,GAAk6D,SAAWrB,EAAER,EAAES,EAAEoB,GAAG,GAAG,UAAUrB,EAAEiD,KAAK,OAAO,MAAM8B,EAAE1D,EAAEiB,OAAO,EAAEuB,EAAE,IAAI2W,aAAazV,GAAGS,EAAEgF,GAAE5G,EAAE2J,GAAEnK,YAAEoC,EAAE,EAAE,EAAE,GAAG,MAAMc,EAAElF,YAAEpB,EAAEgsB,YAAY,GAAG,IAAI,IAAI5qB,GAAG,EAAEA,EAAE2D,IAAI3D,EAAE,CAAC,MAAMpB,EAAEoB,EAAE,EAAE2D,EAAE3D,EAAEA,EAAE5B,GAAG4B,EAAE,GAAG2D,EAAE,GAAG3B,YAAEQ,EAAEvC,EAAE,EAAE7B,EAAE,GAAG6B,EAAE,EAAErB,EAAE,GAAGqB,EAAE,EAAE7B,EAAE,GAAG6B,EAAE,EAAErB,EAAE,GAAGqB,EAAE,EAAE7B,EAAE,GAAG6B,EAAE,EAAErB,EAAE,IAAIF,YAAE8D,EAAEA,GAAGxC,GAAG,EAAE,CAAC,MAAMpB,GAAM2K,KAAKC,GAAG/K,aAAEwC,YAAEmD,EAAE5B,KAAK8I,GAAvB,EAA0BH,GAAEjG,GAAGzC,EAAEzC,GAAGuJ,KAAK8D,IAAI9D,KAAK+P,MAAM1a,GAAG,GAAGuC,YAAEiD,EAAE5B,GAAG,GAAGpE,EAAE4V,KAAK,CAAC,eAAe,CAAC/Q,KAAK,EAAEkD,KAAK1D,KAAK5D,EAAEmV,KAAK,CAAC,eAAenV,EAAE,GAAG,KAAvzEiO,CAAElO,EAAEC,EAAET,EAAE4B,GAAG,IAAIoE,KAAEvF,EAAET,EAAE,GAAgS,SAAS4E,GAAEpE,EAAER,EAAES,GAAG,MAAMmB,EAAE,IAAI+H,MAAM,IAAI,MAAMG,MAAMzJ,EAAE2J,MAAMnI,KAAKrB,EAAE,CAAC,GAAGqB,GAAG,EAAE,SAAS,MAAMrB,EAAE,EAAEH,EAAEuD,EAAEpD,EAAE,EAAEqB,EAAED,EAAEgU,KAAK,CAAC1L,SAASlK,EAAEmb,SAAS3a,EAAEoD,GAAGwoB,YAAY3rB,EAAEA,EAAE0a,SAAS3a,EAAEoD,QAAG,IAAS,OAAOhC,EAA+0D,SAASmL,GAAEvM,GAAG,OAAO,UAAU,WAAW,EAAEA,EAAE,UAAU,SAA2F,MAAMwK,GAAEnJ,cAAIkM,GAAElM,cAAIqL,GAAE,EAAE/B,KAAKC,G,kCCA7tF,MAAM9K,GAAEyB,YAAYtB,GAAGuB,KAAKyqB,gBAAgBhsB,EAAEuB,KAAK0qB,WAAW,KAAK1qB,KAAK2qB,UAAS,EAAG3qB,KAAK4qB,WAAU,EAAGzE,UAAUnmB,KAAK6qB,oBAAiC,gBAAG,OAAOxsB,YAAE2B,KAAK0qB,YAAY1qB,KAAK0qB,WAAWI,SAAS,KAAgB,cAAG,OAAO9qB,KAAK2qB,SAAoB,YAAClsB,GAAGA,IAAIuB,KAAK2qB,WAAW3qB,KAAK2qB,SAASlsB,EAAEuB,KAAK+qB,6BAAyC,eAAG,OAAO/qB,KAAK4qB,UAAsB,aAACnsB,GAAGA,IAAIuB,KAAK4qB,YAAY5qB,KAAK4qB,UAAUnsB,EAAEuB,KAAKgrB,6BAA6BC,WAAWjrB,KAAKkrB,UAAUlrB,KAAKmrB,mBAAmBC,mBAAmBprB,KAAKyqB,gBAAgBW,iBAAiBxpB,YAAE5B,KAAK0qB,cAAc1qB,KAAKqrB,gCAAgCrrB,KAAKyqB,gBAAgBW,iBAAiBprB,KAAK0qB,WAAWI,UAAU9qB,KAAK+qB,6BAA6B/qB,KAAKirB,WAAWD,4BAA4BhrB,KAAK4qB,UAAUhpB,YAAE5B,KAAK0qB,aAAa1qB,KAAKmrB,mBAAmBnrB,KAAK6qB,oBAAoBM,mBAAmB,IAAI1sB,EAAEuB,KAAK6qB,oBAAoB,MAAMxsB,EAAE2B,KAAKyqB,gBAAgBa,kBAAkBtrB,KAAK0qB,WAAW,CAAC7C,UAAU,IAAIhnB,GAAE,CAACgW,KAAK7W,KAAKyqB,gBAAgB5T,OAAOiU,SAASzsB,EAAEktB,iBAAgB,GAAIvrB,KAAK+qB,4BAA4B,MAAMnpB,EAAE,OAAOnD,EAAEuB,KAAKyqB,gBAAgB5T,KAAK2U,qBAAgB,EAAO/sB,EAAEgtB,eAAe7pB,GAAGA,EAAE8pB,oBAAoB1rB,KAAK0qB,WAAW7C,WAAWgD,oBAAoB,IAAIpsB,EAAE,GAAGmD,YAAE5B,KAAK0qB,YAAY,OAAO1qB,KAAKqrB,gCAAgC,MAAMhtB,EAAE,OAAOI,EAAEuB,KAAKyqB,gBAAgB5T,KAAK2U,qBAAgB,EAAO/sB,EAAEgtB,eAAeptB,GAAGA,EAAEstB,sBAAsB3rB,KAAK0qB,WAAW7C,WAAW7nB,KAAK0qB,WAAW,KAAKK,4BAA4B/qB,KAAK2qB,SAAS3qB,KAAK4rB,8BAA8B5rB,KAAKqrB,gCAAgCA,gCAAgC,IAAI5sB,GAAKmD,YAAE5B,KAAK0qB,aAAa,OAAOjsB,EAAEuB,KAAKyqB,gBAAgB5T,OAAQpY,EAAE+sB,gBAA0BxrB,KAAK0qB,WAAWa,kBAAuBvrB,KAAKyqB,gBAAgB5T,KAAK2U,eAAeC,eAAe3D,SAASd,iBAAiBhnB,KAAK0qB,WAAWI,SAASe,WAAW7rB,KAAK0qB,WAAW7C,UAAU,GAAG7nB,KAAK0qB,WAAWa,iBAAgB,GAAGK,8BAAiChqB,YAAE5B,KAAK0qB,aAAsB1qB,KAAK0qB,WAAWa,kBAAuBvrB,KAAKyqB,gBAAgB5T,KAAK2U,eAAeC,eAAe3D,SAASjB,cAAc7mB,KAAK0qB,WAAWI,SAASe,WAAW7rB,KAAK0qB,WAAW7C,UAAU,GAAG7nB,KAAK0qB,WAAWa,iBAAgB,IAAI,IAAI1qB,GAAE,cAAcE,aAAElB,OAAIE,YAAYtB,GAAGsG,MAAMtG,GAAGuB,KAAK+nB,gBAAgB,IAAItpB,YAAE,CAACD,YAAE,CAACsrB,eAAc,KAAMjpB,GAAEmQ,UAAU,YAAO,GAAQvS,YAAE,CAACD,YAAE,CAACwrB,UAAS,KAAMnpB,GAAEmQ,UAAU,uBAAkB,GAAQnQ,GAAEpC,YAAE,CAACT,YAAE,iCAAiC6C,ICAvwD,MAAM8M,GAAE5N,YAAYtB,GAAGuB,KAAK6W,KAAK,KAAK7W,KAAK8rB,kBAAkB1f,YAAE,EAAE,EAAE,EAAE,MAAMpM,KAAK+rB,wBAAuB,EAAG/rB,KAAKgsB,OAAO,IAAIpqB,IAAE5B,KAAKisB,WAAU,EAAGjsB,KAAKksB,UAAU,KAAKlsB,KAAKmsB,OAAO,EAAEnsB,KAAKosB,OAAOpoB,YAAE,EAAE,EAAE,EAAE,GAAGhE,KAAKqsB,YAAY,EAAErsB,KAAKssB,YAAYtoB,YAAE,EAAE,EAAE,EAAE,GAAGhE,KAAKusB,gBAAgB,KAAKvsB,KAAKwsB,iBAAiB,KAAKxsB,KAAKysB,SAAS,EAAEzsB,KAAK0sB,eAAe,KAAK1sB,KAAK2sB,gBAAgB,KAAK3sB,KAAK4sB,mBAAkB,EAAG5sB,KAAK6sB,gBAAgB,EAAE7sB,KAAK8sB,UAAU,IAAIthB,KAAE,CAACqL,KAAKpY,EAAEoY,KAAKyU,gBAAgB7sB,GAAGuB,KAAKsrB,gBAAgB7sB,GAAG2sB,iBAAiB,CAAC3sB,EAAED,KAAKC,EAAEotB,WAAW/qB,OAAO,EAAEd,KAAKorB,iBAAiB5sB,EAAEC,EAAEuH,SAASvH,EAAEotB,YAAYptB,EAAEotB,cAAc7rB,KAAK8rB,kBAAkB1U,iBAAiB3Y,EAAEoY,KAAKO,iBAAiBpX,KAAK+sB,gBAAgB,IAAI1d,GAAE,CAACwH,KAAKpY,EAAEoY,KAAKyU,gBAAgB,IAAItrB,KAAKgtB,wBAAwB5B,iBAAiB3sB,IAAIA,EAAEotB,WAAW7rB,KAAKitB,6BAA6BxuB,EAAEuH,UAAUhG,KAAKktB,6BAA6B,IAAI1uB,GAAE,EAAGwB,KAAKmtB,WAAW,IAAIhiB,KAAE,CAAC0L,KAAKpY,EAAEoY,OAAO,IAAI,MAAMxY,KAAKI,EAAEJ,KAAK2B,KAAK,aAAa3B,EAAEG,EAAEC,EAAEJ,GAAG2B,KAAK3B,GAAGI,EAAEJ,GAAGmZ,QAAQrB,MAAM,8BAA8B9X,GAAG2B,KAAKkrB,SAAS1sB,EAAE2nB,UAAUnmB,KAAK8sB,UAAU3G,UAAUnmB,KAAK+sB,gBAAgB5G,UAAUnmB,KAAKmtB,WAAWhH,UAAsB,eAAG,OAAOnmB,KAAKisB,UAAsB,aAACxtB,GAAGA,IAAIuB,KAAKisB,YAAYjsB,KAAKisB,UAAUxtB,EAAEuB,KAAKotB,eAAeptB,KAAKkrB,UAAUlrB,KAAKmtB,WAAWjC,SAASlrB,KAAKqtB,mBAAwC,wBAAG,OAAOrtB,KAAKkrB,UAAUlrB,KAAKuG,SAAS9H,YAAEuB,KAAK2sB,mBAAmB3sB,KAAKmc,UAAUnc,KAAKstB,iBAA4B,cAAG,OAAOttB,KAAK8sB,UAAUvmB,QAAmB,YAAC9H,GAAGuB,KAAK8sB,UAAUvmB,QAAQ9H,EAAEuB,KAAK+sB,gBAAgBxmB,QAAQ9H,EAAEuB,KAAKmtB,WAAWjC,SAASlrB,KAAKqtB,kBAA8B,eAAG,OAAOrtB,KAAK8sB,UAAU5B,UAAUlrB,KAAK+sB,gBAAgB7B,SAAqB,aAACzsB,GAAGuB,KAAKotB,eAAe3uB,GAAG2uB,eAAe3uB,GAAGuB,KAAK8sB,UAAU5B,UAAUlrB,KAAKmc,UAAU1d,EAAEuB,KAAK+sB,gBAAgB7B,SAASlrB,KAAKmc,UAAU1d,EAAEuB,KAAKmtB,WAAWjC,SAASlrB,KAAKqtB,kBAAkBrtB,KAAKkrB,UAAUlrB,KAAKktB,0BAAsC,eAAG,OAAOltB,KAAKksB,UAAsB,aAACztB,GAAGuB,KAAKksB,UAAUztB,EAAEuB,KAAK8sB,UAAU1B,mBAAmBprB,KAAK+sB,gBAAgB3B,mBAA4B,YAAG,OAAOprB,KAAKmsB,OAAgB,UAAC1tB,GAAGA,IAAIuB,KAAKmsB,SAASnsB,KAAKmsB,OAAO1tB,EAAEuB,KAAKutB,kBAA2B,YAAG,OAAOvtB,KAAKosB,OAAgB,UAAC3tB,GAAG2D,YAAE3D,EAAEuB,KAAKosB,UAAUrrB,YAAEf,KAAKosB,OAAO3tB,GAAGuB,KAAKutB,kBAAgC,iBAAG,OAAOvtB,KAAKqsB,YAA0B,eAAC5tB,GAAGA,IAAIuB,KAAKqsB,cAAcrsB,KAAKqsB,YAAY5tB,EAAEuB,KAAKutB,kBAAgC,iBAAG,OAAOvtB,KAAKssB,YAA0B,eAAC7tB,GAAG2D,YAAE3D,EAAEuB,KAAKssB,eAAevrB,YAAEf,KAAKssB,YAAY7tB,GAAGuB,KAAKutB,kBAAoC,qBAAG,OAAOvtB,KAAKusB,gBAAkC,mBAAC/tB,GAAG,MAAMH,EAAEI,YAAED,KAAKC,YAAEuB,KAAKusB,iBAAiBvsB,KAAKusB,gBAAgB/tB,EAAEH,EAAE2B,KAAK8sB,UAAU7B,WAAWjrB,KAAKutB,iBAAoC,sBAAG,OAAOvtB,KAAKwsB,iBAAoC,oBAAC/tB,GAAGA,GAAGuB,KAAKwsB,kBAAkBpqB,YAAE3D,EAAEuB,KAAKwsB,oBAAoBxsB,KAAKwsB,iBAAiB/tB,EAAE6D,YAAE7D,GAAG,KAAKuB,KAAKutB,kBAA6B,cAAG,OAAOvtB,KAAKysB,SAAoB,YAAChuB,GAAGA,IAAIuB,KAAKysB,WAAWzsB,KAAKysB,SAAShuB,EAAEuB,KAAKutB,kBAAmC,oBAAG,OAAOvtB,KAAK0sB,eAAgC,kBAACjuB,GAAGuB,KAAK0sB,eAAejuB,EAAEuB,KAAK8sB,UAAU1B,mBAAqC,qBAAG,OAAOprB,KAAK2sB,gBAAkC,mBAACnuB,GAAGwB,KAAK2sB,gBAAgBnuB,EAAEwB,KAAKmtB,WAAWjC,SAASlrB,KAAKqtB,kBAAkB5uB,YAAED,KAAKwB,KAAKmtB,WAAWzoB,MAAMlG,GAAuB,uBAAG,OAAOwB,KAAK4sB,kBAAsC,qBAACnuB,GAAGuB,KAAK4sB,oBAAoBnuB,IAAIuB,KAAK4sB,kBAAkBnuB,EAAEuB,KAAKmtB,WAAWjC,SAASlrB,KAAKqtB,mBAAqC,qBAAG,OAAOrtB,KAAK6sB,gBAAkC,mBAACpuB,GAAGA,IAAIuB,KAAK6sB,kBAAkB7sB,KAAK6sB,gBAAgBpuB,EAAEuB,KAAKutB,kBAAsC,uBAAG,IAAIvtB,KAAK+rB,uBAAuB,OAAO/rB,KAAK8rB,kBAAkB,MAAMztB,EAAEI,YAAEuB,KAAK8sB,UAAUA,WAAW9sB,KAAK8sB,UAAUA,UAAUjB,WAAW,KAAK,IAAIxtB,GAAG,IAAIA,EAAEyC,OAAO,OAAO,KAAKxC,YAAEwN,GAAE,EAAE,EAAE,GAAG,IAAIlK,EAAE,EAAE,IAAI,MAAMnD,KAAKJ,EAAE,CAAC,MAAMA,EAAEI,EAAE+I,iBAAiB/G,IAAI,YAAYZ,EAAEpB,EAAE8I,QAAQ9G,IAAI,YAAYnC,EAAEE,YAAEwB,KAAK8sB,UAAUA,WAAW9mB,SAASwnB,SAASnvB,EAAE0H,KAAKlG,GAAGgI,YAAExJ,EAAEwB,EAAEvB,EAAE4O,MAAKlP,YAAE8N,GAAEA,GAAEoB,IAAGtL,KAAK,OAAO,IAAIA,EAAE,MAAMhC,YAAEkM,GAAEA,GAAE,EAAElK,GAAG5B,KAAK6W,KAAK4W,mBAAmBC,iBAAiB5hB,GAAE9L,KAAK8rB,mBAAmB9rB,KAAK+rB,wBAAuB,EAAG/rB,KAAK8rB,mBAAmByB,iBAAiB9uB,YAAEuB,KAAK8sB,UAAUA,YAAY9sB,KAAK8sB,UAAUA,UAAU9mB,SAAS7C,mBAAmBnD,KAAK2tB,oBAAoBlvB,YAAEuB,KAAK+sB,gBAAgBD,YAAY9sB,KAAK+sB,gBAAgBD,UAAU9mB,SAAS7C,mBAAmBnD,KAAK2tB,oBAAgC,eAAG,OAAOlvB,YAAEuB,KAAKwf,WAAW,YAAYxf,KAAKwf,SAAS5B,KAA2B,yBAAG,MAAM,CAAC5c,MAAMhB,KAAKmsB,OAAO3pB,MAAMxC,KAAKosB,OAAO3oB,gBAAgBzD,KAAKwsB,iBAAiBhpB,eAAexD,KAAKusB,gBAAgBiB,SAASxtB,KAAKwtB,SAAS9pB,QAAQ1D,KAAKysB,SAAS7oB,WAAW5D,KAAKssB,YAAY3oB,WAAW3D,KAAKqsB,YAAY5qB,KAAK,QAAQmsB,uBAAsB,EAAG5R,eAAc,EAAGrZ,eAAe3C,KAAK6tB,0BAAsD,+BAAG,OAAO7tB,KAAKmc,UAAU,IAAInc,KAAK6sB,gBAAgB,EAAE7sB,KAAK6sB,gBAAgBzB,iBAAiB3sB,EAAED,EAAEH,GAAG,MAAMuD,EAAE5B,KAAK8tB,yBAAyB,IAAI,MAAMjuB,KAAK+B,EAAEnD,EAAE8Y,YAAY1X,EAAErB,GAAGH,EAAEuV,KAAK/T,GAAGG,KAAKktB,0BAA0BA,0BAA0BltB,KAAK+rB,wBAAuB,EAAG/rB,KAAKgsB,OAAO+B,KAAK,6BAA6BzC,gBAAgB7sB,GAAG,MAAMD,EAAE,IAAI6Y,IAAErX,KAAK2tB,oBAAoBtvB,EAAE,GAAG,OAAO2B,KAAKorB,iBAAiB3sB,EAAED,EAAEH,GAAG,CAAC2H,SAASxH,EAAEqtB,WAAWxtB,EAAE+B,QAAQ3B,IAAIA,EAAED,GAAGH,EAAE+B,QAAQ3B,KAAKuuB,wBAAwB,MAAMvuB,EAAE,IAAI4Y,IAAErX,KAAK2tB,oBAAoB,MAAM,CAAC3nB,SAASvH,EAAEotB,WAAW7rB,KAAKitB,6BAA6BxuB,IAAIwuB,6BAA6BxuB,GAAG,MAAMD,EAAEwB,KAAKwf,SAAS,GAAGnhB,YAAEG,GAAG,MAAM,GAAG,MAAMoD,EFAjyK,SAAWpD,EAAER,GAAG,MAAMS,EAAE,YAAYD,EAAEof,KAAK,EAAE,EAAEhe,EAAE,YAAYpB,EAAEof,KAAKpf,EAAEwvB,MAAMxvB,EAAEyvB,OAAO/lB,SAAS7J,EAAE+J,SAASvI,GAAGwC,GAAEzC,GAAE,EAAGnB,GAAGmD,EAAE2B,YAAElF,EAAEG,EAAE4Y,iBAAiB,EAAE/Y,EAAEL,EAAE,EAAEK,EAAEyC,OAAO,GAAG,IAAI,IAAIxC,EAAE,EAAEA,EAAED,EAAEyC,OAAOxC,GAAG,EAAED,EAAEC,IFA6gZ,EEAxgZ,MAAM,CAAC4vB,MAAMtsB,EAAEgB,GAAE/C,EAAExB,GAAG,GAAG8vB,kBAAkBvsB,GEAkjKiD,CAAErG,EAAEwB,KAAK6W,KAAK2U,eAAepU,kBAAkBvX,EAAE,GAAG,IAAI,MAAMqI,SAAS7J,KAAKuD,EAAEssB,MAAM,CAAC,MAAM1vB,EAAE,CAACyrB,cAAc,CAAC/hB,SAAS7J,GAAG6rB,wBAAwBlqB,KAAKwtB,SAAS,EAAE,GAAG5rB,EAAE,IAAIiC,GAAEkI,GAAEvN,GAAGC,GAAGH,EAAEuC,YAAE6K,IAAGnI,YAAEjF,EAAED,GAAGuE,YAAEhB,EAAEuE,eAAe,IAAI7H,EAAE,GAAGA,EAAE,IAAI,IAAIA,EAAE,GAAGA,EAAE,IAAI,EAAE,GAAG6K,KAAK8Z,MAAM3kB,EAAE,GAAGA,EAAE,KAAKA,EAAE,GAAGA,EAAE,KAAKA,EAAE,GAAGA,EAAE,KAAKA,EAAE,GAAGA,EAAE,MAAMuB,EAAE+T,KAAKhS,GAAG,OAAO/B,EAAEuuB,mBAAmB3vB,GAAG,GAAGJ,YAAE2B,KAAK8sB,UAAUA,WAAW,OAAM,EAAG,MAAMtuB,EAAEwB,KAAK6W,KAAK4W,mBAAmB,IAAI,MAAMpvB,KAAK2B,KAAK8sB,UAAUA,UAAUjB,WAAW,CAAC,MAAMjqB,EAAEvD,EAAEmJ,iBAAiB/G,IAAI,YAAYZ,EAAE,IAAI+H,aAAahG,EAAEmE,KAAKjF,QAAQuB,YAAET,EAAEmE,KAAKvH,EAAE4Y,iBAAiB,EAAEvX,EAAEG,KAAK6W,KAAKO,iBAAiB,EAAExV,EAAEmE,KAAKjF,OAAO,GAAGyC,YAAE9E,EAAEoB,GAAG,OAAM,EAAGiuB,yBAAyB,MAAMrvB,EAAEuB,KAAKwf,SAAS,GAAGnhB,YAAEI,GAAG,MAAM,GAAG,MAAMD,EFAz8M,SAAWA,EAAER,EAAES,EAAEmB,GAAG,MAAMvB,EAAE,YAAYG,EAAEof,KAAK,EAAE,EAAE/d,EAAE,YAAYrB,EAAEof,KAAKpf,EAAEwvB,MAAMxvB,EAAEyvB,OAAO/lB,SAAStG,EAAEwG,SAAS9J,GAAG+D,GAAExC,EAAErB,EAAE6vB,KAAKhwB,GAAGwC,EAAE,IAAI+G,aAAahG,EAAEd,QAAQC,EAAEqB,aAAER,EAAEpD,EAAE4Y,iBAAiB,EAAEvW,EAAE,EAAEe,EAAE,EAAEA,EAAEd,OAAO,EAAE9C,EAAES,EAAEmB,GAAG2D,EAAE,MAAMxC,EAAE,MAAM,CAACmtB,MAAM3qB,EAAEX,GAAEtE,EAAEsD,EAAEf,GAAG,GAAGstB,kBAAkB5qB,EAAE+qB,iBAAiBvtB,GEAirMwB,CAAE9D,EAAEuB,KAAK6W,KAAK0X,kBAAkBvuB,KAAK6W,KAAK4W,mBAAmBzgB,IAAEwhB,kBAAkBxuB,KAAKyuB,gBAAgB7sB,EAAE,GAAG/B,EAAE,GAAG,IAAI,MAAMqI,SAAS7J,EAAE+rB,YAAY9rB,KAAKE,EAAE0vB,MAAM,CAAC,MAAMzvB,EAAE,CAACwrB,cAAc,CAAC/hB,SAAS7J,EAAE+rB,YAAY9rB,GAAG4rB,wBAAwBlqB,KAAKwtB,SAAS,EAAE,GAAG5rB,EAAEgS,KAAK7H,GAAEtN,IAAIoB,EAAE+T,KAAKvV,GAAG,OAAO2B,KAAKmtB,WAAWuB,kBAAkB7uB,EAAE+B,GAAG,MAAM8J,GAAE5G,cAAIoI,GAAErN,cAAIiM,GAAEjM,c,wBCAz9ND,c,yECAoV,MAAMiI,WAAUrJ,KAAE+a,kBAAkB9a,GAAG,MAAMJ,EAAEwJ,GAAE8M,OAAOlU,MAAMZ,EAAEG,KAAKwZ,cAAchb,EAAEH,EAAEob,MAAM,CAAC1E,OAAOlV,EAAEkV,OAAO6E,kBAAkB/Z,EAAE+Z,kBAAkBC,wBAAuB,EAAGC,+BAA8B,EAAG6U,kBAAkB9uB,EAAE8uB,kBAAkBC,eAAe/uB,EAAE+uB,eAAelV,WAAW,IAAI7Z,EAAE8Z,qBAAqBQ,wBAAwBta,EAAEsa,wBAAwBC,gBAAgBva,EAAEua,kBAAkB,OAAO,IAAIxa,KAAEnB,EAAEiZ,KAAKlZ,EAAE6b,eAAe,UAAU7b,EAAE6b,eAAe,YAAYhQ,IAAGqQ,SAASjc,EAAEJ,EAAEwB,GAAG,MAAM8uB,kBAAkBnwB,EAAEowB,eAAe5wB,GAAGgC,KAAKwZ,eAAehX,MAAMlE,EAAEuwB,YAAYjvB,EAAEkvB,iBAAiBltB,GAAGvD,EAAEuE,KAAE+X,qBAAqB3a,KAAK4a,QAAQ/a,EAAEX,OAAOC,kBAAkBa,KAAK4a,QAAQK,cAAc,QAAQ3c,GAAGuB,EAAEsa,0BAA0Bna,KAAK4a,QAAQrb,cAAc,gBAAgBM,EAAEX,OAAOM,SAASQ,KAAK4a,QAAQrb,cAAc,kBAAkBM,EAAEgb,iBAAiBtY,aAAEvC,KAAK4a,QAAQnc,EAAEoB,IAAI7B,IAAIgC,KAAK4a,QAAQK,cAAc,cAAcjb,KAAK+uB,WAAW/lB,GAAEpJ,EAAEtB,IAAI0B,KAAK4a,QAAQ6I,cAAc,mBAAmB7hB,GAAG5B,KAAK4a,QAAQ5b,oBAAoB,aAAaa,EAAEX,OAAOoc,6BAA6B9c,GAAGwF,KAAEgrB,iBAAiBhvB,KAAK4a,QAAQvc,EAAEwB,GAAGkvB,WAAWtwB,EAAEJ,EAAEwB,GAAG,MAAMrB,EAAE,EAAEH,EAAE,GAAGL,EAAEK,EAAE,GAAGwB,EAAE,GAAGrB,EAAE,OAAO,IAAIR,GAAGS,EAAE,GAAGT,EAAES,IAAIA,EAAE,IAAIJ,EAAE,GAAGA,EAAE,GAAGwB,EAAE,GAAGA,EAAE,GAAGrB,GAAGR,EAAES,EAAE,IAAIJ,EAAE,GAAGA,EAAE,GAAGwB,EAAE,GAAGA,EAAE,GAAGrB,GAAGR,EAAES,EAAE,IAAIJ,EAAE,GAAGA,EAAE,GAAGwB,EAAE,GAAGA,EAAE,GAAGrB,GAAGR,EAAES,EAAE,GAAGoB,EAAE,GAAGpB,GAAG0c,SAAS1c,GAAGmE,KAAEwY,SAASpb,KAAK4a,QAAQnc,GAAGmE,KAAEyY,gBAAgBrb,KAAK4a,QAAQnc,EAAEiI,OAAOjI,EAAES,OAAOoc,4BAA4Bva,KAAEya,uBAAuBxb,KAAK4a,QAAQ5a,KAAKwZ,cAAc/a,GAAGgd,iBAAiBhd,GAAG,MAAMJ,EAAE2B,KAAKwZ,cAAc3Z,EAAE,IAAIpB,EAAED,EAAE,IAAIC,EAA+C,OAAOmD,aAAE,CAAC8Z,SAAS,IAAIrd,EAAE0W,QAAQ,IAAI1W,EAAE0W,SAAS1W,EAAE+E,YAAY,KAAKvD,EAAEuC,KAAE0C,aAAErG,GAAGwwB,QAAvHxwB,IAAG,IAAIA,GAAG,CAACywB,KAAK,IAAIzwB,EAAE,KAAK,KAAK0wB,KAAK,MAA0FnxB,CAAEK,EAAE+wB,UAAUzT,UAAU,CAACC,KAAKpd,EAAE,IAAIH,EAAEuwB,eAAe,IAAI,KAAK/S,WAAWhc,EAAExB,EAAEyd,YAAYzZ,KAAExB,aAAEpC,GAAGsd,WAAWxY,KAAEyY,cAAcnc,GAAGrB,EAAE,KAAK8D,OAAI4Z,qBAAqB,OAAOlc,KAAKyb,iBAAiBzb,KAAKwZ,cAAcG,uBAAuB9R,GAAE8M,OAAO,IAAI9U,KAAEmN,MAAG,IAAI,mCAA0C,MAAMW,WAAU3P,KAAE+B,cAAcgF,SAASuK,WAAWtP,KAAK+U,OAAO,EAAE/U,KAAKovB,SAAS,EAAEpvB,KAAK4Z,mBAAkB,EAAG5Z,KAAKoD,aAAY,EAAGpD,KAAK8b,YAAW,EAAG9b,KAAK2uB,mBAAkB,EAAG3uB,KAAK4uB,gBAAe,EAAG5uB,KAAK2Z,qBAAqB,EAAE3Z,KAAKma,yBAAwB,EAAGna,KAAKoa,iBAAgB,GAAI3b,YAAE,CAACH,aAAE,CAAC0J,MAAM,KAAK2F,GAAEqD,UAAU,cAAS,GAAQvS,YAAE,CAACH,aAAE,CAAC0J,MAAM,KAAK2F,GAAEqD,UAAU,gBAAW,GAAQvS,YAAE,CAACH,gBAAKqP,GAAEqD,UAAU,yBAAoB,GAAQvS,YAAE,CAACH,gBAAKqP,GAAEqD,UAAU,mBAAc,GAAQvS,YAAE,CAACH,gBAAKqP,GAAEqD,UAAU,kBAAa,GAAQvS,YAAE,CAACH,gBAAKqP,GAAEqD,UAAU,yBAAoB,GAAQvS,YAAE,CAACH,gBAAKqP,GAAEqD,UAAU,sBAAiB,GAAQvS,YAAE,CAACH,aAAE,CAAC0J,MAAM,KAAK2F,GAAEqD,UAAU,4BAAuB,GAAQvS,YAAE,CAACH,gBAAKqP,GAAEqD,UAAU,+BAA0B,GAAQvS,YAAE,CAACH,gBAAKqP,GAAEqD,UAAU,uBAAkB,GAAQ,MAAM3G,GAAE,CAACnC,SAAS,EAAE2gB,OAAO,EAAEwG,OAAO,GAAGrmB,GAAE3K,cCA36F,MAAM2O,WAAU3K,KAAEtC,YAAYtB,GAAGsG,MAAMtG,EAAEoG,IAAG7E,KAAKsvB,eAAc,EAAGtvB,KAAKuvB,gBAAgB,IAAIjtB,GAAEtC,KAAKwvB,0BAA0BjtB,GAAE6Z,mBAAmB3d,EAAED,GAAG,OAAOwB,KAAKuvB,gBAAgBxa,OAAOtW,EAAEuB,KAAKuvB,gBAAgBH,SAASpvB,KAAKsc,OAAO8S,SAASpvB,KAAKuvB,gBAAgB3V,kBAAkB5Z,KAAKsc,OAAO1C,kBAAkB5Z,KAAKuvB,gBAAgBnsB,YAAYpD,KAAKsc,OAAOlZ,YAAYpD,KAAKuvB,gBAAgBzT,WAAW9b,KAAKsc,OAAOR,WAAW9b,KAAKuvB,gBAAgBZ,kBAAkB3uB,KAAKsc,OAAOqS,kBAAkB3uB,KAAKuvB,gBAAgBX,eAAe5uB,KAAKsc,OAAOsS,eAAe5uB,KAAKuvB,gBAAgB5V,qBAAqBnb,EAAEA,EAAEmb,qBAAqB,EAAE3Z,KAAKuvB,gBAAgBpV,0BAA0B3b,GAAGA,EAAE2b,wBAAwBna,KAAKuvB,gBAAgBnV,iBAAiB5b,GAAGA,EAAE4b,gBAAgBpa,KAAKuvB,gBAAgBE,oBAAoB,OAAOzvB,KAAKsc,OAAO8L,UAAU3pB,EAAED,EAAEF,EAAEuC,EAAEE,EAAEqB,EAAEC,GAAG,GAAGrC,KAAKsc,OAAOqS,kBAAkB,CAAC,MAAMrwB,EAAEG,EAAE+I,iBAAiB/G,IAAI,UAAU8C,EAAE,CAACmsB,cAAc,CAACjxB,EAAED,EAAEoB,EAAE5B,KAAK,MAAM+C,EAAE1C,YAAE2K,GAAE1K,EAAEyH,KAAK,EAAE/H,EAAE,GAAGM,EAAEyH,KAAK,EAAE/H,EAAE,GAAGM,EAAEyH,KAAK,EAAE/H,EAAE,IAAIoE,EAAE/D,YAAE0M,GAAEtM,EAAED,EAAEoB,GAAG,OAAOC,YAAEkB,EAAEA,EAAEf,KAAKsc,OAAOqT,WAAW9uB,EAAE3B,OAAOoO,yBAAyBvM,IAAIa,YAAEQ,EAAEA,EAAErB,GAAG,CAACqB,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAKwtB,YAAYnxB,IAAI,MAAMD,EAAEoB,YAAEnB,EAAEuK,IAAG,OAAOhL,YAAES,EAAEuB,KAAKsc,OAAOqT,WAAW9uB,EAAE3B,OAAOoO,yBAAyB9O,MAAMwF,aAAEvF,EAAED,EAAEqC,EAAEE,EAAEqB,EAAEmB,EAAElB,QAAQ2B,aAAEvF,EAAED,EAAEqC,EAAEE,EAAEqB,OAAE,EAAOC,GAAGmT,cAAc/W,GAAG,OAAO,IAAIA,EAAEsW,QAAQ,IAAItW,EAAEsW,QAAQ,IAAItW,EAAEsW,OAAO,IAAIpH,GAAElP,QAAG,EAAO2f,qBAAqB,OAAO,IAAI/O,GAAErP,KAAKsc,OAAOqS,oBAAoB,MAAMhhB,WAAUvL,KAAErC,YAAYtB,GAAGsG,MAAMtG,GAAGuB,KAAKiW,mBAAmBA,iBAAiBxX,GAAGuB,KAAK8T,UAAU9T,KAAK8V,aAAaxB,0BAA0BjG,GAAErO,KAAKgG,SAASoW,mBAAmBpc,KAAK+U,OAAOtW,GAAGuB,KAAK8T,WAAWuI,UAAU5d,GAAG,GAAG,IAAIuB,KAAK+U,OAAO,OAAO,IAAItW,EAAE,IAAID,EAAE,EAAE,OAAOwB,KAAK8T,UAAU0F,cAAcpW,cAAc5E,EAAEwB,KAAK8T,UAAU0F,cAAcsC,WAAW,EAAE,GAAGrd,IAAID,EAAEue,iBAAiBte,GAAGuB,KAAKiW,iBAAiBxX,GAAGkC,KAAKlC,EAAED,GAAGC,EAAEue,YAAYhd,KAAK8T,UAAU8G,SAAS5a,KAAK8T,UAAU4G,SAASjc,EAAEuB,KAAKgG,SAASypB,oBAAoBjxB,IAAI,MAAMqG,GAAE,CAACrC,MAAM,CAAC,EAAE,EAAE,EAAE,GAAGqsB,YAAY,CAAC,EAAE,EAAE,EAAE,KAAKC,iBAAiBtwB,YAAEC,cAAI,CAAC,IAAI,IAAI,KAAK2E,aAAY,EAAG0Y,YAAW,EAAGlC,mBAAkB,EAAGwV,SAAS,EAAET,mBAAkB,EAAGgB,WAAW,GAAGf,gBAAe,KAAMrrB,MAAG,MAAM8L,GAAEtP,YAAYtB,GAAGuB,KAAK2uB,kBAAkBlwB,EAAE,MAAMD,EAAEqC,eAAIgvB,MAAM,YAAYA,MAAM,UAAU7vB,KAAK2uB,mBAAmBnwB,EAAEqxB,MAAM,UAAU7vB,KAAK2e,mBAAmBngB,EAAEsxB,SAASrxB,GAAG,OAAOuB,KAAK2e,mBAAmBoR,aAAatxB,GAAGygB,aAAazgB,GAAG,OAAOA,EAAE8I,QAAQ9G,IAAI,YAAYK,OAAOkf,MAAMvhB,EAAED,EAAEH,EAAEwB,GAAG,GAAGiF,aAAEtG,EAAEwB,KAAK2e,mBAAmBlgB,EAAEkI,eAAelI,EAAEwhB,wBAAwB5hB,EAAEwB,GAAGG,KAAK2uB,kBAAkB,CAAC,IAAInwB,EAAEgJ,iBAAiBqb,IAAI,UAAU,MAAM,IAAImN,MAAM,8EAA8E,CAAC,MAAMpuB,EAAEpD,EAAEgJ,iBAAiB/G,IAAI,UAAUb,EAAEpB,EAAE+I,QAAQ9G,IAAI,UAAUM,aAAE,IAAIa,EAAEiB,MAAM,MAAM7E,EAAEK,EAAE4xB,SAAS,SAAS3xB,MAAG,IAAIN,EAAE,MAAM,IAAIgyB,MAAM,qCAAqCptB,aAAEhD,EAAEgC,EAAEmE,KAAKtH,EAAEwhB,wBAAwBjiB,EAAE6B,MAAM,MAAMmJ,GAAEvK,cAAIsM,GAAEtM,cCAziG,MAAMoC,WAAUjB,KAAEG,YAAYtB,GAAGsG,MAAMtG,GAAGuB,KAAK6W,KAAK,KAAK7W,KAAK6sB,gBAAgB,EAAE7sB,KAAKkwB,UAAU,KAAKlwB,KAAKmwB,kBAAkB,KAAKnwB,KAAKosB,OAAOhqB,EAAE0D,YAAY1D,EAAEwD,oBAAoBvC,OAAOb,OAAOxC,KAAKiZ,MAAM7W,EAAEwD,oBAAoBvC,OAAOR,KAAK7C,KAAKowB,cAAchuB,EAAE0D,YAAY1D,EAAEwD,oBAAoBvC,OAAOL,cAAchD,KAAKqwB,aAAajuB,EAAEwD,oBAAoBvC,OAAOP,YAAY9C,KAAK0sB,eAAe,KAAK1sB,KAAKswB,WAAW7xB,GAAqB,qBAAG,OAAOuB,KAAK6sB,gBAAkC,mBAACpuB,GAAGA,IAAIuB,KAAK6sB,kBAAkB7sB,KAAK6sB,gBAAgBpuB,EAAEuB,KAAKutB,iBAAiBvtB,KAAKuwB,yBAAqC,eAAG,OAAOvwB,KAAKkwB,UAAsB,aAACzxB,GAAGuB,KAAKkwB,UAAUzxB,EAAEuB,KAAKorB,mBAAuC,uBAAG,OAAOprB,KAAKmwB,kBAAsC,qBAAC1xB,GAAGuB,KAAKmwB,kBAAkB1xB,EAAEuB,KAAKorB,mBAA4B,YAAG,OAAOprB,KAAKosB,OAAgB,UAAC3tB,GAAGoB,YAAEpB,EAAEuB,KAAKosB,UAAUxqB,YAAE5B,KAAKosB,OAAO3tB,GAAGuB,KAAKutB,kBAA0B,WAAG,OAAOvtB,KAAKiZ,MAAc,SAACxa,GAAGA,IAAIuB,KAAKiZ,QAAQjZ,KAAKiZ,MAAMxa,EAAEuB,KAAKutB,kBAAkC,mBAAG,OAAOvtB,KAAKowB,cAA8B,iBAAC3xB,GAAGoB,YAAEpB,EAAEuB,KAAKowB,iBAAiBxuB,YAAE5B,KAAKowB,cAAc3xB,GAAGuB,KAAKuwB,yBAAwC,kBAAG,OAAOvwB,KAAKqwB,aAA4B,gBAAC5xB,GAAGA,IAAIuB,KAAKqwB,eAAerwB,KAAKqwB,aAAa5xB,EAAEuB,KAAKuwB,yBAA0C,oBAAG,OAAOvwB,KAAK0sB,eAAgC,kBAACjuB,GAAGuB,KAAK0sB,eAAejuB,EAAEuB,KAAKorB,mBAA+C,+BAAG,MAAM,CAAC5oB,MAAMxC,KAAKosB,OAAOhpB,YAAYpD,KAAKosB,OAAO,GAAG,EAAEuD,WAAW3vB,KAAK6C,KAAKF,eAAe3C,KAAK6sB,iBAAoD,sCAAG,MAAM,CAACrqB,MAAMxC,KAAKowB,cAAchtB,YAAYpD,KAAKowB,cAAc,GAAG,EAAET,WAAW3vB,KAAK6C,KAAK,EAAE7C,KAAK8C,YAAYH,eAAe3C,KAAK6sB,iBAAiBU,iBAAiBvtB,KAAKkrB,UAAUlrB,KAAKwwB,eAAertB,mBAAmBnD,KAAKywB,0BAA0BF,wBAAwBvwB,KAAKkrB,UAAUlrB,KAAK0wB,sBAAsBvtB,mBAAmBnD,KAAK2wB,iCAAiC7C,yBAAyB,MAAMtvB,EAAEwB,KAAK4wB,SAAS,GAAGnyB,YAAED,IAAI,IAAIA,EAAEsC,OAAO,MAAM,GAAG,MAAgBxC,EHA1hC,SAAWG,EAAED,EAAEH,EAAEuB,EAAE5B,GAAG,MAAM6B,EAAE,IAAI+H,aAAa,EAAEnJ,EAAEqC,QAAQc,EAAE,IAAIgG,aAAa/H,EAAEiB,QAAQrC,EAAE2B,SAAS,CAAC3B,EAAED,KAAKqB,EAAE,EAAErB,EAAE,GAAGC,EAAE,GAAGoB,EAAE,EAAErB,EAAE,GAAGC,EAAE,GAAGoB,EAAE,EAAErB,EAAE,GAAGC,EAAEqC,OAAO,EAAErC,EAAE,GAAG,KAAK,MAAMH,EAAEwG,aAAEjF,EAAErB,EAAE,EAAEoD,EAAE,EAAE/B,EAAE,EAAEA,EAAEiB,OAAO,EAAEzC,EAAEuB,EAAE5B,GAAG+C,EAAE,MAAMzC,EAAE,MAAM,CAACuyB,YAAYpyB,EAAEqC,OAAOoH,SAASrI,EAAEuqB,YAAYxoB,EAAEusB,kBAAkBptB,EAAEutB,iBAAiBhwB,GGAyuBN,CAAEQ,EAAEwB,KAAKoX,iBAAiBpX,KAAK6W,KAAK0X,kBAAkBvuB,KAAK6W,KAAK4W,mBAAmBprB,IAAEmsB,kBAAkBxuB,KAAKyuB,gBAAgB7uB,EAAE,GAAGmB,EAAEzC,EAAEuyB,YAAYzuB,EAAE9D,EAAE4J,SAAS,IAAI,IAAIzJ,EAAE,EAAEA,EAAEsC,IAAItC,EAAE,CAAC,MAAMD,EAAEH,YAAEuE,GAAER,EAAE,EAAE3D,EAAE,GAAG2D,EAAE,EAAE3D,EAAE,GAAG2D,EAAE,EAAE3D,EAAE,IAAIH,EAAEiF,GAAvO,GAA2O/E,GAAG6D,EAAEkB,GAA3O,GAA+O/E,GAAGoB,EAAEgU,KAAK,CAACkd,eAAexyB,EAAEyyB,sBAAsB1uB,IAAI,OAAOzC,EAAEoxB,iBAAiBvyB,GAAG,MAAMD,EAAEwB,KAAK8tB,yBAAyB,IAAI,MAAMgD,eAAezyB,EAAE0yB,sBAAsBlxB,KAAKrB,EAAEC,EAAE8Y,YAAYlZ,EAAE2B,KAAKwwB,gBAAgB/xB,EAAE8Y,YAAY1X,EAAEG,KAAK0wB,uBAAuBO,0BAA0BjxB,KAAKwwB,eAAe,IAAIzvB,GAAE,IAAIf,KAAKywB,yBAAyB3U,YAAW,EAAGsT,SAAS,EAAET,mBAAkB,IAAK3uB,KAAK0wB,sBAAsB,IAAI3vB,GAAE,IAAIf,KAAK2wB,gCAAgCvtB,aAAY,EAAG0Y,YAAW,EAAGsT,SAAS,EAAET,mBAAkB,EAAGC,gBAAe,IAAKsC,2BAA2BlxB,KAAKwwB,eAAe,KAAKxwB,KAAK0wB,sBAAsB,KAAKS,wBAAwB1yB,GAAGA,EAAEuB,KAAKwwB,gBAAgB/xB,EAAEuB,KAAK0wB,wBAAwB,MAAM9tB,GAAEpE,cAAI,SAAS+E,GAAE9E,EAAED,GAAG,OAAOF,KAAE8yB,qBAAqB3yB,EAAE,GAAG,GAAG,CAAC4wB,OAAO7wB,ICAzmG,IAAIC,GAAE,cAAcD,IAAE6yB,gBAAgBtxB,YAAY1B,GAAG0G,MAAM1G,GAAG2B,KAAKsxB,UAAS,EAAGtxB,KAAKuxB,YAAW,EAAGvxB,KAAKmc,UAAS,IAAK9d,YAAE,CAACL,YAAE,CAAC8rB,eAAc,KAAMrrB,GAAEuS,UAAU,eAAU,GAAQ3S,YAAE,CAACL,eAAKS,GAAEuS,UAAU,gBAAW,GAAQ3S,YAAE,CAACL,eAAKS,GAAEuS,UAAU,kBAAa,GAAQ3S,YAAE,CAACL,eAAKS,GAAEuS,UAAU,gBAAW,GAAQvS,GAAEJ,YAAE,CAACuD,YAAE,+CAA+CnD,I,cCA21B,IAAIoG,GAAE,cAAczC,YAAEC,IAAEmvB,aAAaxkB,OAAKjN,YAAYtB,GAAGsG,MAAMtG,GAAGuB,KAAKyxB,cAAc,KAAKzxB,KAAK0xB,eAAe,KAAK1xB,KAAK2xB,oBAAoB,KAAK3xB,KAAK4xB,sBAAsB,KAAK5xB,KAAK6xB,uBAAuB,KAAK7xB,KAAK8xB,6BAA6B,KAAK9xB,KAAKquB,MAAK,EAAGruB,KAAK+xB,SAAS,EAAE/xB,KAAKyuB,cAAc,KAAKzuB,KAAKgyB,aAAY,EAAGhyB,KAAKiyB,gBAAgB,KAAKjyB,KAAKmvB,KAAK,KAAKnvB,KAAKkyB,aAAa,KAAKlyB,KAAK4d,KAAK,UAAU+G,aAAa,MAAMlmB,EAAED,YAAEwB,KAAKyuB,cAAc,CAACU,KAAKnvB,KAAKquB,KAAK,kBAAkB,gBAAgBgB,OAAO,IAAIrvB,KAAKmyB,uBAAuB,IAAI5uB,IAAE,CAACkrB,cAAchwB,EAAE2zB,SAAS,OAAOC,UAAS,IAAKryB,KAAK6W,KAAKyb,IAAIC,OAAOp0B,IAAI6B,KAAKmyB,wBAAwBnyB,KAAKyxB,cAAc,IAAI7uB,IAAE,CAACiU,KAAK7W,KAAK6W,KAAK2b,aAAaxyB,KAAKwyB,aAAaN,aAAannB,GAAE/K,KAAKkyB,cAAcO,YAAYzyB,KAAKmvB,KAAKd,KAAKruB,KAAKquB,KAAK0D,SAAS/xB,KAAK+xB,SAASW,mBAAmB1yB,KAAKgyB,YAAYW,oBAAoB,IAAI7tB,IAAE9E,KAAK6W,KAAKpY,EAAE,CAACuB,KAAKmyB,yBAAyBS,qBAAqB,IAAI/qB,IAAEpJ,EAAEuB,KAAK+xB,SAAS/xB,KAAK6W,KAAK7W,KAAKmyB,wBAAwBU,MAAK,EAAGpE,cAAchwB,EAAEwzB,gBAAgBjyB,KAAKiyB,kBAAkBjyB,KAAKyxB,cAAcqB,GAAG,cAAcr0B,GAAGuB,KAAK+yB,YAAYt0B,KAAKuB,KAAKyxB,cAAcqB,GAAG,iBAAiBr0B,GAAGuB,KAAKgzB,eAAev0B,KAAKuB,KAAKyxB,cAAcqB,GAAG,iBAAiBr0B,GAAGuB,KAAKizB,eAAex0B,KAAKuB,KAAKyxB,cAAcqB,GAAG,iBAAiBr0B,GAAGuB,KAAKkzB,eAAez0B,KAAKuB,KAAKyxB,cAAcqB,GAAG,YAAYr0B,GAAGuB,KAAKmzB,WAAW10B,KAAK0nB,UAAUnmB,KAAKyxB,cAActL,UAAUnmB,KAAKyxB,cAAc,KAAKzxB,KAAKozB,4BAA4BpzB,KAAK6W,KAAKyb,IAAI/P,OAAOviB,KAAKmyB,wBAAwBnyB,KAAKqzB,KAAK,OAAO,MAAMC,aAAa70B,GAAGuB,KAAKyxB,cAAc6B,aAAa70B,GAAG80B,mBAAmB90B,EAAED,GAAE,GAAI,GAAG,MAAMwB,KAAKyxB,cAAc,OAAO,KAAK,MAAMpzB,EAAEwB,YAAEpB,GAAGA,EAAEuB,KAAKyxB,cAAc+B,gBAAgBxzB,KAAKyxB,cAAcZ,YAAY,EAAE,KAAKjvB,EAAE5B,KAAKyxB,cAAcb,SAAS,GAAG,IAAIhvB,EAAEd,OAAO,OAAO,KAAK,MAAMxC,EAAE0B,KAAKyxB,cAAcra,iBAAiBxX,EAAEgC,EAAES,EAAEzC,EAAEiC,QAAQ7D,EAAE,GAAG6B,YAAExB,KAAKgE,EAAEoxB,OAAOp1B,EAAE,GAAGL,EAAE4V,KAAKhU,EAAEvB,KAAK,MAAM0C,EAAE,CAAC2yB,gBAAgB,KAAKC,eAAe,KAAKC,KAAK,KAAK3xB,QAAQ,MAAMG,EAAE,OAAOpC,KAAK6W,KAAK+G,MAAM,WAAW5d,KAAK6W,KAAKzC,YAAY,OAAOpU,KAAKkyB,cAAc,IAAI,QAAQnxB,EAAE2yB,gBAAgBrxB,EAAEtB,EAAE4yB,eAAe31B,EAAE+C,EAAE6yB,KAAK5zB,KAAKyxB,cAAcoC,iBAAiBC,qBAAqBlyB,EAAE,IAAI,MAAM,IAAI,WAAWb,EAAE2yB,gBAAgBrxB,EAAEtB,EAAE4yB,eAAe31B,EAAE4B,EAAEkB,OAAO,IAAIC,EAAE6yB,KAAKpoB,0BAAE,CAAC5L,GAAGtB,EAAE8D,IAAI,MAAM,IAAI,UAAUrB,EAAE2yB,gBAAgBrxB,EAAEtB,EAAE4yB,eAAe31B,EAAE4B,EAAEkB,OAAO,IAAIC,EAAE6yB,KAAKrxB,yBAAE,CAAC3C,GAAGtB,EAAE8D,GAAE,IAAK,MAAM,IAAI,SAAS,GAAGxC,EAAEkB,OAAO,EAAE,CAAC,MAAMrC,EAAE6D,YAAEtC,KAAK6W,KAAKjV,EAAE,IAAI,GAAG,IAAIhC,EAAEkB,QAAQtC,EAAE,CAAC,MAAMA,EAAEoB,EAAE,GAAGC,EAAEpB,EAAEs1B,aAAav1B,EAAE,GAAG6N,GAAErM,KAAK6W,KAAKxE,WAAW7T,EAAE,IAAIuC,EAAE6yB,KAAKvc,wBAAE,CAAC7Y,EAAEqB,GAAGpB,GAAE,QAAS,IAAImB,EAAEkB,SAASC,EAAE6yB,KAAK5zB,KAAKg0B,iBAAiB3c,wBAAEzV,EAAEnD,EAAEuB,KAAKi0B,UAAUjrB,yBAAEpH,EAAEnD,EAAEuB,KAAKi0B,WAAW,MAAM,IAAI,YAAY,GAAGr0B,EAAEkB,OAAO,EAAE,CAAC,MAAMrC,EAAE6D,YAAEtC,KAAK6W,KAAKjV,EAAE,IAAI,GAAG,IAAIhC,EAAEkB,QAAQtC,EAAE,CAAC,MAAMA,EAAEoB,EAAE,GAAGC,EAAEpB,EAAEs1B,aAAav1B,EAAE,GAAG6N,GAAErM,KAAK6W,KAAKxE,WAAW7T,EAAE,IAAIuC,EAAE6yB,KAAKloB,wBAAE,CAAClN,EAAEqB,GAAGpB,GAAE,QAAS,IAAImB,EAAEkB,SAASC,EAAE6yB,KAAK5zB,KAAKg0B,iBAAiBtoB,wBAAE9J,EAAEnD,EAAEuB,KAAKi0B,UAAUtmB,2BAAE/L,EAAEnD,EAAEuB,KAAKi0B,WAAW,MAAM,QAAQ,OAAO,KAAK,OAAOj0B,KAAKkyB,cAAc,IAAI,QAAQ,MAAM,IAAI,WAAWtyB,EAAEkB,OAAO,IAAIC,EAAEkB,QAAQuJ,0BAAE,CAAC5L,GAAGtB,EAAE8D,IAAI,MAAM,IAAI,UAAUxC,EAAEkB,OAAO,IAAIC,EAAEkB,QAAQM,yBAAE,CAAC3C,GAAGtB,EAAE8D,IAAI,MAAM,IAAI,SAAS,IAAI,YAAYvC,YAAEkB,EAAE6yB,OAAO,YAAY7yB,EAAE6yB,KAAKhW,OAAO7c,EAAEkB,QAAQM,yBAAExB,EAAE6yB,KAAK5F,MAAM1vB,EAAE8D,IAAI,OAAOrB,EAAEqyB,4BAA4BpzB,KAAKk0B,wBAAwBl0B,KAAKm0B,+BAA+Bn0B,KAAKo0B,gCAAgCp0B,KAAKq0B,sCAAsCH,wBAAwBr0B,YAAEG,KAAK0xB,kBAAkB1xB,KAAKmyB,uBAAuB5P,OAAOviB,KAAK0xB,gBAAgB1xB,KAAK0xB,eAAevL,UAAUnmB,KAAK0xB,eAAe,MAAM1xB,KAAK2xB,oBAAoB,KAAK3xB,KAAKs0B,QAAQ/R,OAAOlY,IAAG8pB,+BAA+Bt0B,YAAEG,KAAK4xB,yBAAyB5xB,KAAK4xB,sBAAsBzL,UAAUnmB,KAAK4xB,sBAAsB,MAAMwC,gCAAgCv0B,YAAEG,KAAK6xB,0BAA0B7xB,KAAK6xB,uBAAuB1L,UAAUnmB,KAAK6xB,uBAAuB,MAAMwC,sCAAsCx0B,YAAEG,KAAK8xB,gCAAgC9xB,KAAK8xB,6BAA6B3L,UAAUnmB,KAAK8xB,6BAA6B,MAAMyC,qBAAqB91B,EAAE,MAAM,MAAMD,EAAEwB,KAAKuzB,mBAAmB90B,GAAG,GAAGJ,YAAEG,GAAG,YAAYwB,KAAKozB,4BAA4B,MAAM90B,EAAE0B,KAAKmyB,uBAAuB1D,cAAc5uB,YAAErB,EAAEyD,SAAS5D,YAAE2B,KAAK4xB,wBAAwB5xB,KAAK4xB,sBAAsB,IAAI5tB,GAAE,CAAC6S,KAAK7W,KAAK6W,KAAK2I,SAAShhB,EAAEyD,QAAQwsB,cAAc7sB,YAAEtD,GAAG6d,SAAStc,YAAEG,KAAK2xB,qBAAqB3xB,KAAK2xB,oBAAoBxV,SAAS,kBAAkBtb,YAAEb,KAAKquB,KAAK/vB,GAAG4sB,UAAS,IAAK9e,EAAEzG,eAAeT,aAAajD,QAAQiB,MAAMlD,KAAK4xB,uBAAuBxlB,EAAEzG,eAAeT,aAAaN,YAAY1B,MAAMlD,KAAK4xB,uBAAuB5xB,KAAK4xB,sBAAsB1G,UAAS,EAAGlrB,KAAK4xB,sBAAsBtE,kBAAiB,GAAIttB,KAAK4xB,sBAAsBpS,SAAShhB,EAAEyD,QAAQjC,KAAKm0B,+BAA+Bt0B,YAAErB,EAAEk1B,iBAAiBr1B,YAAE2B,KAAK6xB,yBAAyB7xB,KAAK6xB,uBAAuB,IAAIvoB,GAAE,CAACuN,KAAK7W,KAAK6W,KAAKO,iBAAiBpX,KAAK6W,KAAKO,iBAAiBwZ,SAASpyB,EAAEk1B,gBAAgBjF,cAAc7sB,YAAE5B,KAAKmyB,uBAAuB1D,eAAe9rB,eAAeyJ,EAAExG,oBAAoBvC,OAAOV,eAAeuoB,UAAS,IAAKlrB,KAAK6xB,uBAAuB3G,UAAS,GAAIlrB,KAAK6xB,uBAAuBjB,SAASpyB,EAAEk1B,gBAAgB1zB,KAAKo0B,gCAAgCv0B,YAAErB,EAAEm1B,gBAAgBt1B,YAAE2B,KAAK8xB,+BAA+B9xB,KAAK8xB,6BAA6B,IAAIxoB,GAAE,CAACuN,KAAK7W,KAAK6W,KAAKO,iBAAiBpX,KAAK6W,KAAKO,iBAAiBwZ,SAASpyB,EAAEm1B,eAAelF,cAAc7sB,YAAE5B,KAAKmyB,uBAAuB1D,eAAe9rB,eAAeyJ,EAAExG,oBAAoBvC,OAAOV,eAAeuoB,UAAS,IAAKlrB,KAAK8xB,6BAA6BtvB,MAAM4J,EAAEtG,YAAYsG,EAAExG,oBAAoB7D,SAASS,OAAOxC,KAAK8xB,6BAA6B5G,UAAS,GAAIlrB,KAAK8xB,6BAA6BlB,SAASpyB,EAAEm1B,eAAe3zB,KAAKq0B,sCAAsCx0B,YAAErB,EAAEo1B,MAAMv1B,YAAE2B,KAAK0xB,iBAAiB1xB,KAAK0xB,eAAe,IAAI1zB,IAAE,CAACwhB,SAAShhB,EAAEo1B,KAAKY,OAAOx0B,KAAKy0B,sBAAsBz0B,KAAKmyB,uBAAuBh0B,IAAI6B,KAAK0xB,gBAAgB1xB,KAAK6W,KAAK6d,aAAa10B,KAAK0xB,gBAAgB1xB,KAAK2xB,oBAAoB,IAAI9tB,GAAE,CAAC8wB,QAAQ30B,KAAK0xB,iBAAiB1xB,KAAKs0B,QAAQn2B,IAAI,CAAC6B,KAAK6W,KAAK+d,kBAAkB50B,KAAK2xB,qBAAqB5wB,YAAEf,KAAK2xB,oBAAoB,YAAYlzB,IAAIoB,YAAEG,KAAK4xB,yBAAyB5xB,KAAK4xB,sBAAsBzV,SAAS1d,OAAO4L,IAAGrK,KAAKsiB,aAAa,kBAAkBtiB,KAAK0xB,eAAelS,SAAShhB,EAAEo1B,KAAK5zB,KAAKk0B,wBAAyC,oBAAG,OAAOl0B,KAAK0xB,eAA0B,YAACjzB,GAAGuB,KAAKyxB,cAAcoD,YAAYp2B,EAAEuB,KAAKqzB,KAAK,UAAU50B,GAAe,aAACA,GAAGuB,KAAKqzB,KAAK,WAAW50B,GAAGuB,KAAKu0B,uBAA2C,qBAAC91B,GAAGuB,KAAKqzB,KAAK,mBAAmB50B,GAAGuB,KAAKu0B,uBAAuBO,SAAoB,cAAG,OAAO90B,KAAKyxB,cAAcsD,QAAQC,OAAOh1B,KAAKyxB,cAAcuD,OAAkB,cAAG,OAAOh1B,KAAKyxB,cAAcwD,QAAQC,OAAOl1B,KAAKyxB,cAAcyD,OAAOC,0BAA0Bn1B,KAAKyxB,cAAc2D,WAAWC,YAAYC,aAAat1B,KAAKyxB,cAAc8D,aAAav1B,KAAKyxB,cAAc+D,SAASC,kBAAkB,OAAOz1B,KAAKyxB,cAAcb,SAASmC,YAAYt0B,GAAGuB,KAAKu0B,uBAAuBv0B,KAAK+tB,KAAK,aAAatvB,GAAGu0B,eAAev0B,GAAGuB,KAAKu0B,uBAAuBv0B,KAAK+tB,KAAK,gBAAgBtvB,GAAGw0B,eAAex0B,GAAGuB,KAAKu0B,uBAAuBv0B,KAAK+tB,KAAK,gBAAgBtvB,GAAGy0B,eAAez0B,GAAGuB,KAAKu0B,qBAAqB,IAAI91B,EAAEmyB,SAAS9vB,OAAOrC,EAAEmyB,SAAS,GAAG8E,YAAY,MAAM11B,KAAK+tB,KAAK,gBAAgBtvB,GAAG00B,WAAW10B,GAAGuB,KAAKu0B,uBAAuB,IAAI/1B,EAAE,KAAK,GAAGwB,KAAKyxB,cAAc8D,YAAY,CAAC,MAAM92B,EAAEuB,KAAKuzB,mBAAmB,MAAK,GAAI1zB,YAAEpB,KAAKD,EAAE,IAAIR,IAAE,CAACwhB,SAAS/gB,EAAEm1B,KAAKY,OAAOx0B,KAAKy0B,uBAAuBz0B,KAAK+tB,KAAK,WAAW,CAAC4G,QAAQn2B,KAAKC,MAAM,SAASsM,GAAEtM,GAAG,OAAOA,GAAG,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,OAAOA,EAAE,IAAI,SAAS,IAAI,YAAY,MAAM,UAAU,QAAQ,OAAO,MAAMA,YAAE,CAACH,YAAE,CAACwrB,eAAc,EAAG6L,aAAY,KAAM9wB,GAAEmM,UAAU,YAAO,GAAQvS,YAAE,CAACH,eAAKuG,GAAEmM,UAAU,2BAAsB,GAAQvS,YAAE,CAACH,eAAKuG,GAAEmM,UAAU,gBAAgB,MAAMvS,YAAE,CAACH,YAAE,CAACs3B,OAAM,KAAM/wB,GAAEmM,UAAU,UAAU,MAAMvS,YAAE,CAACH,YAAE,CAACs3B,OAAM,KAAM/wB,GAAEmM,UAAU,WAAW,MAAMvS,YAAE,CAACH,YAAE,CAACs3B,OAAM,KAAM/wB,GAAEmM,UAAU,mBAAmB,MAAMvS,YAAE,CAACH,YAAE,CAACwrB,eAAc,KAAMjlB,GAAEmM,UAAU,YAAO,GAAQvS,YAAE,CAACH,YAAE,CAACq3B,aAAY,KAAM9wB,GAAEmM,UAAU,gBAAW,GAAQvS,YAAE,CAACH,YAAE,CAACwrB,eAAc,KAAMjlB,GAAEmM,UAAU,qBAAgB,GAAQvS,YAAE,CAACH,eAAKuG,GAAEmM,UAAU,mBAAc,GAAQvS,YAAE,CAACH,eAAKuG,GAAEmM,UAAU,uBAAkB,GAAQvS,YAAE,CAACH,YAAE,CAACwrB,eAAc,KAAMjlB,GAAEmM,UAAU,YAAO,GAAQvS,YAAE,CAACH,YAAE,CAACwrB,eAAc,KAAMjlB,GAAEmM,UAAU,oBAAe,GAAQvS,YAAE,CAACH,YAAE,CAAC0rB,UAAS,KAAMnlB,GAAEmM,UAAU,YAAO,GAAQnM,GAAEpG,YAAE,CAACmB,YAAE,2DAA2DiF,IAAG,MAAMwH,GAAE,GAAGhC,GAAE,iB,iLCAtyQ,MAAMke,GAAExoB,YAAYtB,GAAGuB,KAAK61B,OAAO,EAAE71B,KAAKd,OAAO,IAAIwN,GAAE1M,KAAK81B,WAAW,CAACzG,OAAO,EAAE0G,SAAS,MAAM/1B,KAAKg2B,cAAc,CAACpY,KAAK,SAAS5d,KAAKi2B,kBAAkB,EAAEj2B,KAAKk2B,eAAe,GAAGl2B,KAAKm2B,wBAAuB,EAAGn2B,KAAKo2B,YAAW,EAAGp2B,KAAKq2B,gBAAgB,EAAEr2B,KAAKs2B,QAAQ,GAAGt2B,KAAKu2B,aAAY,EAAGv2B,KAAKw2B,gBAAgB,EAAEx2B,KAAKy2B,gBAAgB,IAAIz2B,KAAK02B,eAAc,EAAG12B,KAAK22B,gBAAgBzrB,eAAIlL,KAAK42B,YAAY,KAAK52B,KAAK62B,gBAAgBh2B,cAAIb,KAAK82B,sBAAqB,EAAG92B,KAAK+2B,UAAU,IAAI14B,KAAE,CAAC0M,EAAE,EAAElD,EAAE,EAAEnC,EAAE,IAAI1F,KAAKg3B,0BAA0B,IAAI34B,KAAE2B,KAAKi3B,gCAA+B,EAAGj3B,KAAK60B,aAAY,EAAG70B,KAAKk3B,YAAW,EAAGl3B,KAAKm3B,WAAU,EAAGn3B,KAAKo3B,OAAO,KAAKp3B,KAAKq3B,WAAU,EAAGr3B,KAAKs3B,UAAS,EAAGt3B,KAAKu3B,WAAU,EAAGv3B,KAAKw3B,WAAU,EAAGx3B,KAAKy3B,OAAO,EAAEz3B,KAAK03B,UAAS,EAAG13B,KAAKgsB,OAAO,IAAI1tB,IAAEq5B,aAAa33B,KAAK43B,gBAAgB,CAACC,iBAAiBx1B,eAAIy1B,uBAAuB11B,eAAI21B,UAAU,GAAG/3B,KAAKg4B,sBAAqB,EAAGh4B,KAAKi4B,sBAAsB,KAAKj4B,KAAKk4B,8BAA6B,EAAGl4B,KAAKm4B,iBAAiB,KAAKn4B,KAAK4qB,WAAU,EAAG5qB,KAAKo4B,aAAa,KAAKp4B,KAAKq4B,sBAAsB,KAAKr4B,KAAK+2B,UAAU3f,iBAAiB3Y,EAAEoY,KAAKO,iBAAiB,IAAI,MAAM5Y,KAAKC,EAAEuB,KAAKxB,GAAGC,EAAED,GAAGwB,KAAK6W,KAAKyhB,OAAOt4B,KAAK6W,KAAKyhB,MAAMp5B,QAAQc,KAAKd,OAAOiN,SAASnM,KAAK6W,KAAKyhB,MAAMp5B,QAAQinB,UAAUnmB,KAAKu4B,4BAA4Bv4B,KAAKm4B,iBAAiB,KAAKn4B,KAAK6W,KAAK,KAAK7W,KAAKd,OAAO,KAAsB,oBAAG,OAAOc,KAAK0sB,eAAgC,kBAACjuB,GAAGuB,KAAK0sB,eAAejuB,EAAEuB,KAAKi3B,gCAA+B,EAAGj3B,KAAK82B,sBAAqB,EAAG92B,KAAKw4B,sBAAuC,oBAAG,OAAOx4B,KAAKk2B,eAAgC,kBAACz3B,GAAGuB,KAAKu4B,4BAA4Bv4B,KAAKm4B,iBAAiB,KAAKn4B,KAAKk2B,eAAez3B,EAAEoD,QAAQ7B,KAAKw4B,sBAAmC,cAAC/5B,GAAGA,IAAIuB,KAAKo2B,aAAap2B,KAAKo2B,WAAW33B,EAAEuB,KAAKw4B,uBAAoC,gBAAG,OAAOx4B,KAAKo2B,WAAWqC,iBAAiB,OAAOz4B,KAAKq2B,kBAAkB,IAAIr2B,KAAKq2B,iBAAiBr2B,KAAKw4B,sBAAsB,CAACjW,OAAOvkB,cAAG,KAAKgC,KAAKq2B,kBAAkB,IAAIr2B,KAAKq2B,iBAAiBr2B,KAAKw4B,0BAAoC,WAAC/5B,GAAGA,IAAIuB,KAAKs2B,UAAUt2B,KAAKs2B,QAAQ73B,EAAEuB,KAAKw4B,uBAAiC,aAAG,OAAOx4B,KAAKs2B,QAAsB,eAAC73B,GAAGA,IAAIuB,KAAKu2B,cAAcv2B,KAAKu2B,YAAY93B,EAAEuB,KAAKw4B,uBAAqC,iBAAG,OAAOx4B,KAAKu2B,YAA8B,qBAAG,OAAOv2B,KAAK22B,gBAAkC,mBAACl4B,GAAG4P,GAAE5P,KAAKuB,KAAKg4B,sBAAqB,GAAIjsB,aAAE/L,KAAK22B,gBAAgBl4B,GAAGuB,KAAKw4B,sBAAwC,qBAAG,OAAOx4B,KAAK82B,uBAAuB92B,KAAK82B,sBAAqB,EAAG92B,KAAK6W,KAAK4W,mBAAmBiL,eAAe14B,KAAK24B,yBAAyB34B,KAAK62B,iBAAiB72B,KAAK02B,eAAe12B,KAAK42B,cAAc52B,KAAK42B,YAAY1rB,gBAAo9T,SAAWzM,EAAED,EAAEqB,GAAG,OAAOpB,EAAE2V,aAAa,IAAI,QAAQ,OAAO/J,aAAExK,IAAG,EAAG,IAAI,SAAS,CAAC,MAAM+B,EAAEoH,aAAEvK,EAAEgvB,mBAAmBrW,kBAAyB/H,YAAE7Q,EAAE,EAAEo6B,GAAG,EAAEh3B,EAAE0C,QAAQmF,YAAE1I,aAAE63B,GAAG,IAAI73B,aAAE63B,GAAG,IAAI/4B,KAAjoUkN,CAAE/M,KAAK6W,KAAK7W,KAAK62B,gBAAgB72B,KAAK42B,cAAc52B,KAAK42B,cAAc52B,KAAK42B,YAAY,OAAO52B,KAAK62B,gBAAkC,mBAACp4B,GAAGuB,KAAK6W,KAAK4W,mBAAmBC,iBAAiBjvB,EAAEuB,KAAK+2B,WAAW/2B,KAAK24B,yBAAyB34B,KAAK+2B,UAAsB,eAAG,OAAO/2B,KAAK+2B,UAAsB,aAACt4B,GAAGiN,aAAEjN,EAAEuB,KAAK+2B,WAAW/2B,KAAK82B,sBAAqB,EAAG92B,KAAKg4B,sBAAqB,EAAGh4B,KAAKi3B,gCAA+B,EAAGj3B,KAAKw4B,sBAAsBx4B,KAAKgsB,OAAO+B,KAAK,kBAAkB,CAAC8K,SAAS74B,KAAK+2B,YAAwC,+BAAG,OAAO/2B,KAAKi3B,gCAAgCj3B,KAAK84B,8BAA8B94B,KAAK+4B,kCAAkC/4B,KAAKg3B,2BAA2Bh3B,KAAKg3B,0BAAsD,6BAACv4B,GAAGiN,aAAEjN,EAAEuB,KAAK+2B,WAAW/2B,KAAK84B,8BAA8B94B,KAAK+2B,UAAUrxB,GAAG1F,KAAK81B,WAAWzG,OAAOrvB,KAAK+4B,kCAAkC/4B,KAAKw4B,sBAAsBx4B,KAAKgsB,OAAO+B,KAAK,kBAAkB,CAAC8K,SAAS74B,KAAK+2B,YAAYgC,kCAAkC/4B,KAAKg3B,0BAA0BjsB,EAAE/K,KAAK64B,SAAS9tB,EAAE/K,KAAKg3B,0BAA0BnvB,EAAE7H,KAAK64B,SAAShxB,EAAE,MAAMpJ,EAAED,YAAEwB,KAAK81B,WAAWC,UAAU/1B,KAAK81B,WAAWC,SAAS/1B,KAAK64B,SAASnzB,GAAG,EAAE1F,KAAKg3B,0BAA0BtxB,EAAEjH,EAAEuB,KAAK81B,WAAWzG,OAAOrvB,KAAKg3B,0BAA0B5f,iBAAiBpX,KAAK64B,SAASzhB,iBAAiBpX,KAAK82B,sBAAqB,EAAG92B,KAAKg4B,sBAAqB,EAAGh4B,KAAKi3B,gCAA+B,EAAG+B,oBAAoB,OAAM,EAAe,eAAG,OAAOh5B,KAAKq3B,UAAsB,aAAC54B,GAAGA,IAAIuB,KAAKq3B,YAAYr3B,KAAKq3B,UAAU54B,EAAEuB,KAAKi5B,YAAYj5B,KAAKu3B,WAAWv3B,KAAKq3B,WAAWr3B,KAAKw4B,uBAAmC,eAAG,OAAOx4B,KAAKu3B,UAAsB,aAAC94B,GAAGA,IAAIuB,KAAKu3B,YAAYv3B,KAAKu3B,UAAU94B,EAAEuB,KAAKi5B,YAAYj5B,KAAKu3B,WAAWv3B,KAAKq3B,WAAWr3B,KAAKw4B,uBAAmC,eAAG,OAAOx4B,KAAKw3B,UAAsB,aAAC/4B,GAAGA,IAAIuB,KAAKw3B,YAAYx3B,KAAKw3B,UAAU/4B,EAAEuB,KAAKw4B,sBAAsBx4B,KAAKgsB,OAAO+B,KAAK,iBAAiB,CAACmL,OAAOz6B,EAAE,SAAS,cAAuB,YAAG,OAAOuB,KAAKy3B,OAAgB,UAACh5B,GAAGA,IAAIuB,KAAKy3B,SAASz3B,KAAKy3B,OAAOh5B,EAAEuB,KAAKw4B,uBAAuBW,mBAAmB16B,EAAED,GAAGA,EAAEwB,KAAKs4B,OAAO75B,EAAEuB,KAAKs4B,QAAQ75B,EAAEw6B,YAAYx6B,GAAGA,IAAIuB,KAAK03B,WAAW13B,KAAK03B,SAASj5B,EAAEuB,KAAKgsB,OAAO+B,KAAK,gBAAgB,CAACmL,QAAO,IAAKz6B,EAAE,QAAQ,aAAwB,cAAG,OAAOuB,KAAK03B,SAA2B,qBAAG,OAAO13B,KAAKo5B,uBAAuBp5B,KAAK43B,gBAAgBwB,uBAAuB,IAAIp5B,KAAKg4B,qBAAqB,OAA6H,IAAIv5B,EAAE,GAA5HuB,KAAK43B,gBAAgBG,UAAU/3B,KAAKd,OAAOuO,yBAAyBzN,KAAKq5B,gBAAgBr5B,KAAKg4B,sBAAqB,EAAY3pB,GAAErO,KAAK22B,iBAAiB,CAAC,MAAMn4B,EAAEwB,KAAKs5B,+BAA+BC,IAAI96B,EAAEqG,YAAEtG,EAAEA,EAAEwB,KAAKq5B,qBAAqB56B,EAAEuB,KAAKq5B,eAAer5B,KAAKd,OAAOsP,sBAAsB/P,EAAEuB,KAAK43B,gBAAgBE,wBAAwB93B,KAAKd,OAAOwP,eAAe1O,KAAK43B,gBAAgBE,uBAAuB93B,KAAK43B,gBAAgBC,kBAA0C,2BAAG,OAAO73B,KAAKi4B,sBAA8C,yBAACx5B,GAAGuB,KAAKi4B,sBAAsBx5B,EAAEuB,KAAKg4B,sBAAqB,EAAGh4B,KAAKw4B,sBAAsBgB,qBAAqBh7B,EAAEoD,GAAG,IAAI5B,KAAKy5B,UAAU,OAAO,KAAK,MAAM75B,EAAEgD,aAAEpE,EAAEiQ,IAAGzQ,EAAEgC,KAAK05B,oBAAoB93B,GAAGvD,GAAG,EAAE2B,KAAKi2B,kBAAkB,OAAOj2B,KAAKg2B,cAAcpY,MAAM,IAAI,QAAQ,GAAG9R,aAAE9L,KAAK25B,eAAe9B,iBAAiBj4B,GAAG5B,EAAEA,EAAE,OAAOgC,KAAK25B,eAAe7B,uBAAuB,GAAGz5B,EAAE,MAAM,IAAI,OAAO,CAAC,MAAMI,EAAEuB,KAAKg2B,cAAc/H,MAAMzvB,EAAEwB,KAAK45B,+BAA+Bh4B,EAAE5B,KAAK65B,0BAA0Br7B,EAAEs7B,IAAIx7B,EAAEN,EAAEgC,KAAK25B,eAAe5B,UAAUh3B,EAAE+L,KAAEitB,WAAW/5B,KAAKd,OAAOU,EAAE+L,IAAG,GAAG9L,YAAEkB,GAAG,OAAO,KAAK,IAAI,MAAMlB,KAAKpB,EAAE,CAAC,GAAG,IAAIoB,EAAEiB,OAAO,SAAS,MAAMrC,EAAE8E,YAAEq1B,GAAG/4B,EAAE,GAAG+B,GAAG,IAAI,IAAIpD,EAAE,EAAEA,EAAEqB,EAAEiB,OAAOtC,IAAI,CAAC,MAAMoB,EAAE2D,YAAEy2B,GAAGn6B,EAAErB,GAAGoD,GAAG5D,EAAEsL,KAAE2wB,oBAAoB3wB,KAAE4wB,WAAWz7B,EAAEmB,EAAEu6B,IAAGp5B,GAAG,GAAG,MAAM/C,GAAGA,EAAEM,EAAEA,EAAE,CAAC,MAAME,EAAEsG,YAAEiG,KAAEtK,MAAMhC,EAAEmB,GAAG2C,YAAE/D,EAAEA,EAAE,IAAI,MAAMqB,EAAEuM,aAAErB,KAAEtK,OAAO,OAAOT,KAAKd,OAAOsP,sBAAsBhQ,EAAEqB,GAAGA,EAAE,GAAGxB,EAAE2O,YAAEvO,EAAEmB,IAAI,MAAM,IAAI,OAAO,CAAC,IAAItB,EAAE,MAAMG,EAAEuB,KAAKg2B,cAAc1tB,UAAU9J,EAAE,OAAOF,EAAE0B,KAAKg2B,cAAc3G,QAAQ/wB,EAAEgE,IAAEV,EAAE5B,KAAK45B,+BAA+B74B,EAAEf,KAAK65B,0BAA0Bj4B,EAAEk4B,IAAIz3B,EAAErE,EAAEgC,KAAK25B,eAAe5B,UAAU31B,EAAE0K,KAAEitB,WAAW/5B,KAAKd,OAAOU,EAAE+L,IAAG,GAAG9L,YAAEuC,GAAG,OAAO,KAAK,MAAMQ,EAAEyJ,aAAET,GAAE7K,GAAGqL,EAAEpI,YAAEo2B,GAAG37B,EAAEmE,GAAG/B,EAAE0C,YAAE82B,GAAG77B,EAAEuC,GAAGkE,KAAEq1B,sBAAsBz5B,EAAEuL,EAAEmuB,IAAI,MAAMz1B,EAAE01B,GAAG,GAAGv1B,KAAEw1B,aAAaF,GAAGn4B,EAAE0C,IAAI+C,YAAE/C,EAAEjE,GAAGwB,EAAEA,EAAE,OAAOrC,KAAK25B,eAAe7B,uBAAuB,GAAGz5B,EAAE,MAAM,IAAI,SAAS,CAAC,MAAM4vB,MAAMxvB,EAAE6J,UAAU9J,GAAGwB,KAAKg2B,cAAcp0B,EAAE5B,KAAK45B,+BAA+Bt7B,EAAE0B,KAAK65B,0BAA0Bj4B,EAAEk4B,IAAI/4B,EAAE/C,EAAEgC,KAAKd,OAAOuO,yBAAyBzN,KAAKq5B,gBAAgBh3B,EAAEyK,KAAEitB,WAAW/5B,KAAKd,OAAOU,EAAE+L,IAAG,GAAG9L,YAAEwC,GAAG,OAAO,KAAK,MAAMD,EAAEiK,aAAET,GAAEtN,GAAGsE,EAAEoB,YAAEo2B,GAAG57B,EAAE4D,GAAGvB,EAAEb,KAAK06B,iCAAiCL,IAAIp1B,KAAEq1B,sBAAsBz5B,EAAE+B,EAAE23B,IAAI,MAAMj4B,EAAEk4B,GAAG,IAAIv1B,KAAEw1B,aAAaF,GAAGl4B,EAAEC,GAAG,MAAM,IAAI,MAAMzC,KAAKpB,EAAE,CAAC,GAAG,IAAIoB,EAAEiB,OAAO,SAAS,MAAMrC,EAAE8E,YAAEq1B,GAAG/4B,EAAE,GAAGvB,GAAG,IAAI,IAAIE,EAAE,EAAEA,EAAEqB,EAAEiB,OAAOtC,IAAI,CAAC,MAAMoD,EAAE2B,YAAEy2B,GAAGn6B,EAAErB,GAAGF,GAAGsB,EAAE0J,KAAEqxB,UAAUrxB,KAAE4wB,WAAWz7B,EAAEmD,EAAEu4B,IAAG73B,GAAG,GAAG,MAAM1C,GAAGA,EAAEmB,EAAEA,EAAE,CAAC,MAAMvC,EAAEsG,YAAEiG,KAAEtK,MAAMhC,EAAEmD,GAAGW,YAAE/D,EAAEA,EAAE,IAAI,MAAMqB,EAAEuM,aAAErB,KAAEtK,OAAO,OAAOT,KAAKd,OAAOsP,sBAAsBhQ,EAAEqB,GAAGA,EAAE,GAAGxB,EAAE2O,YAAEvO,EAAEmD,IAAI,MAAM,QAAQnD,aAAEuB,KAAKg2B,eAAe,OAAO,KAAK4E,OAAOn8B,EAAE,CAACo8B,cAAc,KAAK,IAAIr8B,EAAE,IAAIwB,KAAK6W,KAAKC,OAAO,OAAO,MAAMlV,EAAEnD,EAAEo8B,cAAc,GAAGh7B,YAAE+B,EAAEk5B,eAAe,CAAC,MAAMr8B,EAAE,IAAIsQ,KAAE,CAACkI,YAAW,IAAKjX,KAAK6W,KAAKC,OAAO3Y,IAAIM,GAAGmD,EAAEk5B,cAAcr8B,EAAEwS,GAAGjR,KAAKo4B,aAAa35B,OAAO,OAAOD,EAAEwB,KAAK6W,KAAKC,SAAStY,EAAEu8B,YAAY/6B,KAAKo4B,aAAap4B,KAAK6W,KAAKC,OAAOikB,UAAUn5B,EAAEk5B,gBAAgBl5B,EAAEo5B,uBAAuBp5B,EAAEo5B,uBAAuB,GAAG,EAAEh7B,KAAKq4B,sBAAsBz2B,EAAEq5B,qBAAqBp7B,YAAEG,KAAKq4B,yBAAyBr4B,KAAKq4B,sBAAsB,IAAIn4B,IAAI0B,EAAEq5B,qBAAqBj7B,KAAKq4B,uBAAuBr4B,KAAKd,OAAOiN,SAASnM,KAAK6W,KAAKyhB,MAAMp5B,QAAQc,KAAK4qB,WAAU,EAAG5qB,KAAKw4B,sBAAsBtrB,YAAElN,KAAK+2B,UAAU3f,iBAAiBpX,KAAK6W,KAAKO,oBAAoBpX,KAAK64B,SAAS,IAAIx6B,KAAE,CAAC0M,EAAE,EAAElD,EAAE,EAAEnC,EAAE,EAAE0R,iBAAiBpX,KAAK6W,KAAKO,oBAAoB8jB,OAAOz8B,EAAE,CAACo8B,cAAc,KAAK,MAAMr8B,EAAEC,EAAEo8B,cAAcr8B,EAAEw8B,wBAAwB,MAAMn7B,EAAE,IAAIrB,EAAEw8B,sBAAsBn7B,IAAIrB,EAAEs8B,cAAc,MAAM96B,KAAKu4B,0BAA0B14B,GAAGG,KAAKm4B,iBAAiB,KAAKn4B,KAAKo4B,aAAa,KAAKp4B,KAAKq4B,sBAAsB,KAAKr4B,KAAK4qB,WAAU,EAAGuQ,eAAen7B,KAAKd,OAAOiN,SAASnM,KAAK6W,KAAKyhB,MAAMp5B,QAAQc,KAAKg4B,sBAAqB,EAAGh4B,KAAKw4B,sBAAsB4C,kBAAkB38B,GAAG0M,YAAEnL,KAAK64B,SAASwC,GAAG58B,EAAE2Y,kBAAkBzJ,aAAElP,EAAE2T,OAAOipB,MAAMr7B,KAAK64B,SAAS74B,KAAK+2B,WAAW+B,4BAA4Br6B,EAAEuB,KAAK64B,UAAU,GAAGh5B,YAAEG,KAAKyuB,eAAe,OAAM,EAAG,IAAIjwB,EAAE,KAAKoB,EAAE,EAAE,MAAM5B,EAAE4D,YAAE5B,KAAKyuB,cAAcY,OAAO,GAAG,OAAOrvB,KAAKyuB,cAAcU,MAAM,IAAI,gBAAgB3wB,EAAEoD,YAAEiD,aAAE7E,KAAK6W,KAAK0X,kBAAkB9vB,EAAE,UAAU,GAAG,MAAM,IAAI,qBAAqBmB,EAAEgC,YAAEiD,aAAE7E,KAAK6W,KAAK0X,kBAAkB9vB,EAAE,UAAU,GAAGT,EAAE,MAAM,IAAI,oBAAoB4B,EAAEgC,YAAEiD,aAAE7E,KAAK6W,KAAK0X,kBAAkB9vB,EAAE,SAAS,GAAGT,EAAE,MAAM,IAAI,kBAAkB4B,EAAE5B,EAAE,OAAO4B,IAAII,KAAK81B,WAAWzG,QAAQ7wB,IAAIwB,KAAK81B,WAAWC,YAAY/1B,KAAK81B,WAAWzG,OAAOzvB,EAAEI,KAAK81B,WAAWC,SAASv3B,GAAE,GAAIg6B,sBAAsB,IAAIx4B,KAAK4qB,UAAU,OAAO,IAAI5qB,KAAKy5B,UAAU,YAAYz5B,KAAKu4B,4BAA4B,MAAM95B,EAAEuB,KAAK45B,+BAA+B/5B,EAAEi6B,GAAG,IAAG,IAAK95B,KAAKm2B,uBAAuB,CAAC,MAAM33B,EAAEwB,KAAKs7B,gBAAgBt7B,KAAKs2B,QAAQt2B,KAAKu7B,SAAS98B,EAAEuB,KAAK65B,0BAA0Br7B,EAAEqB,QAAQG,KAAK65B,0BAA0Bp7B,EAAEoB,GAAG,MAAM27B,eAAe55B,GAAG5B,KAAKy7B,yBAAyB77B,GAAGI,KAAKu7B,QAAQ,EAAE,IAAIv7B,KAAK+B,SAAS,EAAE,GAAG/D,EAAEgC,KAAKq2B,gBAAgB,EAAE,IAAI,MAAMqF,UAAUl9B,EAAEm9B,QAAQt9B,KAAKuD,EAAE,CAAC,GAAG5D,EAAE,CAAC,IAAI,MAAMS,KAAKJ,EAAEI,EAAEm9B,YAAW,GAAI,SAAS,MAAMn9B,IAAI,IAAI,GAAGD,MAAMoB,EAAEpB,KAAK,GAAGA,GAAGoD,IAAI,IAAI,MAAMpD,MAAMwB,KAAKs4B,MAAM95B,KAAK,MAAMA,GAAG,GAAGC,GAAGmD,EAAE,IAAI,MAAMpD,KAAKH,EAAEG,EAAEo9B,YAAW,GAAIp9B,EAAEmI,eAAe9G,OAAO,IAAI,MAAMrB,KAAKH,EAAEG,EAAEo9B,YAAW,GAAIp9B,YAAEwB,KAAKo4B,eAAep4B,KAAKo4B,aAAayD,SAASJ,yBAAyB,GAAG57B,YAAEG,KAAKm4B,kBAAkB,CAAC,MAAM15B,EAAEmB,YAAEI,KAAKo4B,cAAc55B,EAAE,GAAGqB,EAAE,IAAIypB,IAAItpB,KAAK87B,cAAc17B,SAAS,EAAE4F,SAASvH,MAAMoB,EAAEgjB,IAAIpkB,KAAKD,EAAEoV,KAAKnV,GAAGoB,EAAE1B,IAAIM,OAAO,MAAMmD,EAAE,CAACnD,EAAED,KAAK,MAAMghB,SAAS3f,EAAEmG,SAASpE,EAAEm6B,UAAUn8B,GAAGpB,EAAEmJ,MAAMq0B,QAAQn8B,GAAGA,EAAEO,SAAS5B,GAAGC,EAAE8Y,YAAY/Y,EAAEoD,EAAEhC,KAAKnB,EAAE8Y,YAAY1X,EAAE+B,EAAEhC,IAAI5B,EAAE,IAAIkC,IAAIF,KAAKk2B,eAAe91B,SAAS3B,IAAI,MAAMD,EAAE,IAAI0L,KAAE,CAACpD,YAAW,IAAKlF,EAAEpD,EAAEC,GAAG,MAAMoB,EAAEpB,EAAEi9B,WAAW,EAAE97B,EAAE5B,EAAEyC,IAAIZ,IAAI,GAAGD,EAAEgU,KAAKpV,GAAGR,EAAEqD,IAAIxB,EAAED,MAAM,MAAMvB,EAAE,GAAGL,EAAEoC,SAAS,CAAC3B,EAAED,IAAIH,EAAEuV,KAAK,CAAC8nB,UAAUl9B,EAAEm9B,QAAQl9B,MAAMuB,KAAKm4B,iBAAiB,CAACqD,eAAen9B,EAAE49B,MAAMx9B,EAAEy9B,UAAU19B,GAAG,OAAOwB,KAAKm8B,uBAAuBn8B,KAAKm4B,iBAAiBgE,uBAAuB,GAAGn8B,KAAKk4B,8BAA8Br4B,YAAEG,KAAKm4B,kBAAkB,OAAO,MAAMqD,eAAe/8B,EAAEw9B,MAAMz9B,EAAE09B,UAAUt6B,GAAG5B,KAAKm4B,iBAAiBv2B,EAAExB,SAAS3B,IAAI,MAAMD,EAAEoB,YAAEI,KAAKq4B,uBAAuBx4B,EAAErB,EAAEiC,IAAIhC,EAAEwS,KAAK,EAAE,IAAIpR,GAAGG,KAAK6W,KAAKC,OAAO3Y,IAAIM,GAAGD,EAAE6C,IAAI5C,EAAEwS,GAAGpR,EAAE,MAAMpB,EAAE2B,SAAS,EAAEu7B,QAAQl9B,KAAKA,EAAE2B,SAAS3B,IAAID,EAAEL,IAAIM,GAAGuB,KAAK6W,KAAKC,OAAO3Y,IAAIM,QAAQuB,KAAKk4B,8BAA6B,EAAGK,0BAA0B95B,GAAE,GAAI,IAAIuB,KAAKk4B,8BAA8Br4B,YAAEG,KAAKm4B,kBAAkB,OAAO,MAAMqD,eAAeh9B,EAAEy9B,MAAMr6B,EAAEs6B,UAAUl+B,GAAGgC,KAAKm4B,iBAAiB35B,EAAE4B,SAAS,EAAEu7B,QAAQl9B,MAAMmD,EAAEw6B,WAAW39B,GAAGuB,KAAK6W,KAAKC,OAAOslB,WAAW39B,MAAMT,EAAEoC,SAAS3B,IAAI,MAAMD,EAAEoB,YAAEI,KAAKq4B,uBAAuBx4B,EAAErB,EAAEiC,IAAIhC,EAAEwS,IAAI,IAAIpR,GAAGG,KAAK6W,KAAKC,OAAOyL,OAAO9jB,GAAGD,EAAE+C,OAAO9C,EAAEwS,KAAKzS,EAAE6C,IAAI5C,EAAEwS,GAAGpR,EAAE,MAAMpB,GAAGuB,KAAK6W,KAAKC,OAAOyL,OAAO3gB,GAAG5B,KAAKk4B,8BAA6B,EAAGwB,oBAAoBj7B,GAAG,OAAOuB,KAAKs7B,gBAAgBt7B,KAAKsE,QAAO,IAAK,UAAU7F,EAAEuB,KAAKy2B,gBAAgB,GAAG6E,gBAAgB78B,EAAED,GAAG,OAAOC,GAAGD,EAAEwB,KAAKw2B,gBAAgB,GAAGoD,+BAA+B,OAAO55B,KAAKu2B,YAAY,EAAEv2B,KAAK25B,eAAe5B,UAAU2C,iCAAiCj8B,GAAG,MAAMD,EAAEwB,KAAK45B,+BAA+B/5B,EAAEG,KAAK65B,0BAA0Br7B,EAAE69B,IAAG,OAAO7wB,YAAE/M,EAAEoB,EAAE,IAAIA,EAAE,IAAIA,EAAE,KAAKy5B,+BAA+B76B,GAAG,MAAMD,EAAEwB,KAAK06B,iCAAiCj8B,GAAG,OAAOgK,YAAEhK,EAAED,EAAEwB,KAAKq5B,gBAAgBQ,0BAA0Bp7B,EAAEoB,GAAG,OAAOgE,aAAEhE,EAAEpB,EAAE,EAAE,EAAE,EAAE,EAAEA,EAAE,EAAE,EAAE,EAAE,EAAEA,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGuB,KAAK42B,aAAavf,aAAExX,EAAEA,EAAEG,KAAK42B,aAAavf,aAAExX,EAAEA,EAAEG,KAAK22B,iBAAiB92B,EAAE,KAAKG,KAAKq5B,eAAe,GAAGx5B,EAAE,KAAKG,KAAKq5B,eAAe,GAAGx5B,EAAE,KAAKG,KAAKq5B,eAAe,GAAGx5B,EAAE,IAAI,EAAErB,YAAEwB,KAAKi4B,wBAAwBj4B,KAAKi4B,sBAAsBp4B,GAAGA,EAAU,WAAG,IAAIpB,GAAE,EAAG,GAAGD,YAAEwB,KAAKm4B,kBAAkB,IAAI,MAAM35B,KAAKwB,KAAKm4B,iBAAiBqD,eAAe,CAAC,MAAM37B,EAAEG,KAAKm4B,iBAAiBqD,eAAeh9B,GAAG,IAAI,MAAMA,KAAKqB,EAAE87B,QAAQ,GAAGn9B,EAAE2e,UAAU,CAAC1e,GAAE,EAAG,MAAM,GAAGA,EAAE,MAAM,MAAM,CAAC69B,uBAAuB79B,IAAI,SAAS4P,GAAE5P,GAAG,OAAO,IAAIA,EAAE,KAAK,IAAIA,EAAE,KAAK,IAAIA,EAAE,IAA8L,MAAMgQ,GAAEpM,eAAI83B,GAAE7wB,KAAEa,SAASwB,GAAEmB,KAAE3C,SAASyB,GAAElG,eAAI22B,GAAEnxB,eAAI4uB,GAAG5uB,eAAIqvB,GAAGt1B,KAAEkF,SAASyuB,GAAG/3B,cAAIm5B,GAAGn5B,cAAI25B,GAAG35B,cAAIu5B,GAAGv5B,cAAIw5B,GAAGx5B,cAAI04B,GAAG14B,cAAIw6B,GAAG,IAAIh9B,KAAE,CAAC0M,EAAE,EAAElD,EAAE,EAAEnC,EAAE,EAAE0R,iBAAiB,OCA93b,SAASxU,GAAEnE,EAAED,EAAE,GAAG,MAAMH,EAAE0C,YAAEtC,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAEqC,OAAO,EAAErC,EAAE,GAAG,GAAGmB,EAAEnB,EAAE,GAAG,EAAE,OAAO,IAAI2D,GAAE,CAACI,MAAMnE,EAAE+E,YAAYxD,EAAEkc,YAAW,EAAGsT,SAAS,EAAEzsB,eAAenE,IAAI,SAASgN,GAAE/M,EAAED,EAAE,GAAG,MAAMH,EAAE0C,YAAEtC,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAG,IAAIA,EAAEqC,OAAOrC,EAAE,GAAG,GAAG,OAAO,IAAI6D,KAAE,CAACE,MAAMnE,EAAE+E,aAAY,EAAG0Y,YAAW,EAAGsT,SAAS,EAAEzsB,eAAenE,IAAkJ,SAASqJ,GAAEpJ,EAAED,EAAEqB,EAAEkB,GAAG,MAAMsB,EAAEhE,YAAEuD,KAAEnB,MAAMhC,EAAEoB,GAAGgB,EAAE0B,GAAEF,EAAEzC,YAAEgC,KAAEnB,MAAMM,EAAEsB,GAAGxC,EAAEiF,KAAErE,OAAOnC,aAAEuC,EAAEA,GAAG,MAAM0C,EAAEvF,YAAE4D,KAAEnB,MAAMjC,EAAEqC,GAAG,OAAOsI,KAAKozB,MAAMh5B,EAAE,GAAGA,EAAE,IAAI,SAAShB,GAAE9D,EAAED,EAAEH,EAAEL,GAAG,MAAMM,EAAEuB,YAAE+B,KAAEnB,MAAMhC,GAAGsC,EAAElB,YAAE+B,KAAEnB,MAAMjC,GAAGsG,EAAElF,YAAEgC,KAAEnB,MAAMnC,EAAEyC,GAAG,OAAO/C,EAAE,GAAGM,EAAE,GAAGN,EAAE,GAAGM,EAAE,GAAGN,EAAE,GAAGM,EAAE,GAAGN,EAAE,GAAG,EAAEA,EAAE,GAAG+C,EAAE,GAAG/C,EAAE,GAAG+C,EAAE,GAAG/C,EAAE,GAAG+C,EAAE,GAAG/C,EAAE,GAAG,EAAEA,EAAE,GAAG8G,EAAE,GAAG9G,EAAE,GAAG8G,EAAE,GAAG9G,EAAE,IAAI8G,EAAE,GAAG9G,EAAE,IAAI,EAAEA,EAAE,IAAIK,EAAE,GAAGL,EAAE,IAAIK,EAAE,GAAGL,EAAE,IAAIK,EAAE,GAAGL,EAAE,IAAI,EAAEA,EAAE,SAASqZ,GAAE7Y,EAAEH,GAAG,MAAMuB,EAAEpB,EAAEg+B,kBAAkBn+B,GAAG,OAAOI,YAAEmB,IAAI,4BAA4BA,EAAEA,EAAE0H,wBAAwBjJ,EAAEG,EAAE4Y,kBAAkB,KAAK,SAASlM,GAAE1M,EAAEH,EAAEuB,GAAG,MAAM5B,EAAEqZ,GAAE7Y,EAAEoB,GAAGnB,YAAET,GAAGK,EAAEs6B,yBAAyB36B,EAAkB,SAAWS,EAAEJ,GAAG,GAAGG,YAAEH,GAAG,OAAO,MAAMuB,EAAE2D,aAAElF,GAAGG,YAAEoB,KAAKnB,EAAEo6B,SAASh4B,aAAEjB,IAAhFoN,CAAE3O,EAAEuB,EAAE4f,U,cCAxgD,SAAShhB,GAAER,EAAEQ,EAAEH,YAAEL,IAAI,MAAM,kBAAkBQ,EAAE2wB,QAAQ1wB,YAAET,EAAEwhB,YAAYxhB,EAAEwhB,SAAS6O,M,cCAvI,MAAM5vB,GAAEsB,cAAcC,KAAKy8B,cAAc,EAAEz8B,KAAK6F,aAAa,KAAK7F,KAAK08B,cAAc,KAAK18B,KAAK28B,YAAY,EAAE38B,KAAK48B,eAAe,KAAK9b,OAAOriB,GAAGuB,KAAKy8B,cAAc,EAAEz8B,KAAK6F,aAAa,KAAK7F,KAAK28B,YAAY,EAAE38B,KAAK08B,cAAc,KAAK18B,KAAK48B,eAAe,KAAKn+B,EAAEo+B,oBAAoB,CAACp+B,EAAEmD,KAAK,GAAG,IAAIA,IAAI5B,KAAK6F,aAAapH,GAAGA,aAAaoB,KAAIpB,EAAEsD,WAAW,IAAI/B,KAAK28B,cAAc38B,KAAK08B,cAAcj+B,GAAGuB,KAAK28B,eAAen+B,YAAEwB,KAAK48B,iBAAiBn+B,EAAEq+B,UAAU,IAAIl7B,IAAI5B,KAAK48B,eAAen+B,IAAIA,EAAEq+B,SAAS,OAAO98B,KAAKy8B,eAAe,EAAE76B,GAAG,KAAK,EAAE5B,KAAKy8B,eAAe,EAAE,MAAM,KAAK,EAAEz8B,KAAKy8B,eAAe,OCA8L,SAASzvB,GAAEvO,GAAG,MAAMoY,KAAKvY,EAAEq2B,QAAQ/0B,GAAGnB,EAAEoB,EAAE,IAAIyC,GAAE,CAACqyB,QAAQ/0B,IAAIyC,EAA8I,SAAW5D,EAAEmB,GAAG,MAAMiX,KAAKhX,EAAE80B,QAAQtyB,GAAG5D,EAAEmD,EAAE,IAAIgB,GAAE,CAACiU,KAAKhX,EAAE2f,SAASxW,GAAE3G,GAAGA,EAAEmd,SAAS,KAAKiP,cAAc1tB,YAAEsB,GAAG6oB,UAAS,IAAKrqB,EAAE8E,eAAeT,aAAaN,YAAY1B,MAAMtB,GAAG,MAAM5D,EAAE,KAAK4D,EAAEspB,SAAStrB,EAAE2xB,YAAY1wB,EAAE8E,eAAeT,aAAajD,QAAQiB,MAAMtB,GAAG,MAAMvD,EAAE,CAACuB,EAAEupB,MAAM,aAAanrB,GAAG4B,EAAEupB,MAAM,YAAY1qB,GAAGmD,EAAEua,SAAS1d,IAAImB,EAAEkzB,GAAG,WAAW,IAAIlxB,EAAE4d,SAASxW,GAAE3G,GAAGA,EAAEmd,SAAS,OAAOlhB,aAAEsD,IAAI,OAAO5D,IAAI,CAAC++B,cAAcn7B,EAAE2gB,OAAO,IAAI/jB,aAAEH,GAAGkkB,UAA5jB1a,CAAEpJ,EAAEoB,GAAG+B,EAAE,CAACS,EAAEsL,GAAElP,EAAE4D,EAAE06B,cAAcl9B,GAAGvB,EAAEo2B,aAAa90B,GAAGtB,EAAEs2B,kBAAkB/0B,IAAI,MAAM,CAACk9B,cAAc16B,EAAE06B,cAAcxa,OAAO,IAAI/jB,aAAEoD,GAAG2gB,UAAoc,SAAS5U,GAAElP,EAAE4D,EAAET,GAAG,MAAM+yB,QAAQ32B,EAAE6Y,KAAKxY,GAAGI,EAAE2D,EAAE,GAAGQ,EAAE7B,YAAE/C,GAAGsE,EAAE,kBAAkBM,EAAEusB,OAAOvsB,EAAEysB,QAAQ,oBAAoBzsB,EAAEusB,KAAKniB,EAAE,IAAIhJ,GAAE6D,EAAE,IAAI/C,KAAE,CAAC+R,KAAKxY,EAAE2G,cAAcnE,EAAE8E,eAAeL,cAAcN,cAAcrB,WAAW,EAAEunB,UAAS,EAAG8R,mBAAkB,EAAGr6B,eAAe,IAAI9B,EAAE8E,eAAeR,cAAcP,YAAY1B,MAAM2E,GAAG,MAAM8F,EAAE9N,aAAEgB,EAAE8E,eAAeH,wBAAwBgG,EAAE,IAAIjI,KAAE,CAACsT,KAAKxY,EAAE6sB,UAAS,EAAG+R,YAAYtvB,IAAI9M,EAAE8E,eAAeP,YAAYlC,MAAMsI,GAAG,IAAIM,EAAE,EAAEJ,EAAE,EAAE,MAAMjD,EAAE,KAAK,GAAGuE,EAAE8T,OAAOriB,IAAImD,EAAE2vB,YAAYjvB,IAAIV,EAAEua,WAAWnT,GAAEhL,KAAKA,EAAEwhB,SAAS6O,MAAM,OAAOhsB,EAAEirB,kBAAiB,EAAGzlB,EAAEqjB,UAAS,OAAQ1f,EAAE0f,UAAS,GAAI7oB,EAAEirB,kBAAiB,EAAG,CAAC,MAAM7uB,EAAE,EAAEuO,EAAEyvB,cAAc57B,EAAE8E,eAAeJ,yBAAyB,EAAE9G,IAAIqN,IAAIA,EAAErN,EAAEoC,EAAE8E,eAAeT,aAAaN,YAAY1B,MAAMb,EAAE5D,GAAGoC,EAAE8E,eAAeR,cAAcP,YAAY1B,MAAM2E,EAAEpJ,IAAI,CAAC,MAAMA,EAAE,EAAEuO,EAAEyvB,cAAc57B,EAAE8E,eAAeJ,yBAAyB,EAAE9G,IAAIiN,IAAIA,EAAEjN,EAAEoC,EAAE8E,eAAeP,YAAYlC,MAAMsI,EAAE/M,KAA2Z,SAAWD,EAAEF,GAAG,MAAMsB,EAAE,IAAItB,EAAEq+B,YAAYr+B,EAAEo+B,cAAcp+B,EAAEq+B,YAAY,GAAGl+B,YAAEH,EAAEs+B,gBAAgBt+B,EAAEs+B,eAAe,KAAKn+B,YAAEmB,IAAIpB,EAAE0+B,mCAAmCt9B,EAAEy5B,gBAAgB76B,EAAE0sB,UAAS,GAAI1sB,EAAE0sB,UAAS,GAAnmBrnB,CAAEgE,EAAEmF,GAAkmB,SAAWxO,EAAEF,EAAEsB,EAAEC,GAAG,GAAGA,EAAE88B,YAAY,EAAE,CAAC/6B,YAAE4J,GAAE,EAAE,EAAE,GAAG,IAAI/M,EAAE,EAAED,EAAEq+B,oBAAoB,CAACr+B,EAAEF,KAAK,IAAIA,GAAGE,EAAEuD,UAAUvD,aAAa4D,KAAIpE,YAAEwN,GAAEA,GAAEhN,EAAE66B,gBAAgB56B,QAAQA,EAAE,GAAGmB,EAAEu9B,qBAAqB9+B,YAAEmN,GAAEA,GAAE,EAAE/M,GAAGmB,EAAEsrB,UAAS,GAAItrB,EAAEsrB,UAAS,MAAO,CAAC,MAAMrrB,EAAEvB,EAAE8+B,iBAAiB3+B,YAAEoB,IAAIrB,EAAEqY,KAAK4W,mBAAmBiL,eAAe74B,EAAE2L,KAAI5L,EAAEu9B,qBAAqB3xB,GAAE5L,EAAEsrB,UAAS,GAAItrB,EAAEsrB,UAAS,GAAx8B3oB,CAAE9D,EAAE4D,EAAEmJ,EAAEwB,IAAInM,EAAE8E,eAAeL,cAAcpC,MAAM2E,GAAGzF,EAAEwR,KAAKhS,EAAEkxB,GAAG,UAAUrqB,GAAG7G,EAAEunB,MAAM,aAAa1gB,GAAGpG,EAAE2pB,OAAO8G,GAAG,4BAA4BrqB,GAAGnK,aAAEuJ,GAAGvJ,aAAEkN,IAAI,MAAML,EAAE,GAAGtG,EAAE,KAAKrG,aAAE2M,GAAGoX,SAASpX,EAAErK,OAAO,EAAErC,EAAEo+B,oBAAoBp+B,GAAG0M,EAAEyI,KAAKnV,EAAEutB,OAAO8G,GAAG,eAAerqB,MAAMhK,EAAEo+B,oBAAoBp+B,GAAG0M,EAAEyI,KAAKnV,EAAEutB,OAAO8G,GAAG,iBAAiBrqB,MAAMA,KAAK,OAAO5D,IAAIzC,EAAEwR,KAAKnV,EAAE4+B,sBAAsBx4B,GAAGjF,cAAG,IAAIpB,aAAE2M,MAAM3M,aAAE4D,GAA+jB,SAAS4G,GAAExK,GAAG,OAAOC,YAAED,EAAEghB,YAAY,YAAYhhB,EAAEghB,SAAS5B,MAAM,aAAapf,EAAEghB,SAAS5B,MAAM,MAAMpS,GAAEnJ,c,cCAjsE,SAAS0I,GAAEtM,GAAG,MAAMoY,KAAKjX,EAAE+0B,QAAQ32B,GAAGS,EAAEoB,EAAE,IAAI2L,GAAE,CAACmpB,QAAQ32B,IAAIK,EAAE,GAAGC,EAA8qD,SAAWG,EAAED,EAAER,GAAG,MAAM6Y,KAAKhX,EAAE80B,QAAQt2B,GAAGI,EAAEH,EAAE,IAAIqP,KAAE,CAACkJ,KAAKhX,EAAE2f,SAAS1T,GAAEzN,GAAGA,EAAEmhB,SAAS,KAAKiP,cAAcnsB,YAAEjE,GAAG6sB,UAAS,IAAK,OAAiC,SAAWzsB,EAAED,EAAEoB,EAAE5B,GAAG,MAAM6B,EAAE,IAAIrB,EAAE0sB,SAAStrB,EAAE2xB,YAAkG,SAAW/yB,EAAEoB,EAAEC,EAAExB,GAAG,MAAMwY,KAAKvY,EAAEq2B,QAAQ/yB,GAAGpD,EAAE,IAAI6D,EAAE,KAAK,MAAMkB,EAAE,KAAK9E,YAAE4D,KAAKA,EAAEkgB,SAASlgB,EAAE,MAAMxC,EAAEsc,UAAUrQ,GAAElK,KAAKS,EAAuI,SAAW5D,EAAED,EAAEoB,GAAG,MAAM5B,EAAES,EAAE8vB,kBAAkBnX,iBAAiBrW,YAAEvC,EAAEuN,GAAE/N,GAAG,MAAM6B,EAAEkM,GAAE,GAAG1N,EAAE0N,GAAE,GAAG,OAAOtN,EAAE8vB,kBAAkBuE,GAAG,oBAAoBr0B,IAAI4D,aAAE5D,EAAE2T,OAAOvS,EAAExB,IAAIuB,OAAxSiF,CAAEvG,EAAEsD,EAAE4d,UAAU,KAAK5f,EAAE4f,SAAS5d,EAAE4d,cAAcze,EAAE,KAAKwC,IAAI3D,EAAE4f,SAAS1T,GAAElK,GAAGA,EAAE4d,SAAS,MAAMnhB,EAAEuV,KAAK/T,EAAEizB,GAAG,UAAU/xB,GAAG/C,cAAG,IAAIqE,KAAKtB,KAA7UmM,CAAEzO,EAAED,EAAEoB,EAAE5B,GAAG6F,EAAE8B,eAAeR,cAAclD,QAAQiB,MAAM1E,GAAGR,EAAE4V,KAAKhS,YAAEhC,EAAE,aAAaC,IAArKwP,CAAE5Q,EAAEH,EAAEE,EAAER,GAAGA,EAAE4V,KAAKhU,aAAEtB,IAAIA,EAAt0DmK,CAAEhK,EAAEoB,EAAExB,GAAG,OAA2F,SAAWI,EAAED,EAAER,EAAEK,GAAG,MAAMwY,KAAKjV,EAAE+yB,QAAQtyB,GAAG5D,EAAEsC,EAAE,IAAI8G,KAAE,CAACgP,KAAKjV,EAAEoD,cAAcnB,EAAE8B,eAAeL,cAAcN,cAAcrB,WAAW,EAAEunB,UAAS,EAAG8R,mBAAkB,EAAGr6B,eAAe,IAAIkB,EAAE8B,eAAeL,cAAcpC,MAAMnC,GAAG,MAAM+D,EAAE,IAAIkI,KAAE,CAAC6J,KAAKjV,EAAE07B,wBAAuB,EAAGpS,UAAS,IAAKrnB,EAAE8B,eAAeR,cAAcP,YAAY1B,MAAM4B,GAAG,MAAM6I,EAAE9N,aAAEgE,EAAE8B,eAAeH,wBAAwBgG,EAAE,IAAIwB,KAAE,CAAC6J,KAAKjV,EAAEspB,UAAS,EAAG+R,YAAYtvB,IAAI9J,EAAE8B,eAAeP,YAAYlC,MAAMsI,GAAG,MAAMT,EAAEzI,YAAE7D,EAAEk2B,SAAS3rB,EAAEhF,IAAEwqB,kBAAkBzjB,GAAGtC,EAAE,kBAAkBsC,EAAEokB,OAAOpkB,EAAEskB,QAAQ,oBAAoBtkB,EAAEokB,KAAK9f,EAAE,IAAI9M,GAAE,IAAI2K,EAAE,EAAErI,EAAE,EAAE,MAAMsG,EAAE,KAAKkE,EAAEyR,OAAOriB,GAAG,MAAMmB,EAAE6I,IAAIjK,EAAE2d,WAAWrQ,GAAEzJ,KAAKA,EAAEmd,SAAS6O,MAAM,IAAIrwB,GAAE,EAAG,IAAI4B,GAAGkM,GAAEzJ,GAAG,CAAC,MAAM5D,EAAE4D,EAAEmd,SAAShhB,EAAEoE,aAAEP,EAAEmd,SAAS5d,EAAE2sB,kBAAkBvlB,EAAEpH,EAAE6rB,oBAAoBnvB,YAAEyN,GAAEtN,EAAEsM,EAAEtM,EAAEoJ,EAAErJ,GAAG+E,YAAEwI,GAAEtN,EAAE2Y,iBAAiBrL,GAAEnK,EAAE6rB,mBAAmBrW,kBAAkBrW,EAAEm8B,mCAAmCnxB,IAAGjH,EAAEy4B,4BAA4BxxB,QAAO/N,GAAE,EAAG,MAAM6B,EAAE,EAAEwP,EAAEotB,cAAc54B,EAAE8B,eAAeJ,yBAAyB,EAAE1F,IAAIqN,IAAIA,EAAErN,EAAEgE,EAAE8B,eAAeP,YAAYlC,MAAMsI,EAAE3L,IAAI,MAAMyC,EAAEF,YAAEsK,KAAI9M,GAAGpB,EAAE+yB,YAAYlzB,EAAE+vB,mBAAmB9rB,IAAIiB,YAAE1C,YAAEyB,EAAEyJ,IAAGnK,EAAEwV,iBAAiBrL,GAAEnK,EAAE6rB,mBAAmBrW,mBAAmB5L,EAAE2xB,qBAAqBpxB,GAAEP,EAAE0f,UAAS,GAAI1f,EAAE0f,UAAS,EAAG,MAAMlnB,EAAE,EAAEqL,EAAEotB,cAAc54B,EAAE8B,eAAeJ,yBAAyB,EAAEvB,IAAIa,IAAIA,EAAEb,EAAEH,EAAE8B,eAAeR,cAAcP,YAAY1B,MAAM4B,EAAEd,IAAI,MAAMgJ,EAAEhP,GAAGQ,EAAE+yB,aAAa3xB,EAAEkF,EAAEomB,SAASle,EAAEjM,EAAEmqB,SAASle,GAAGhP,EAAE4V,KAAKpV,EAAE2qB,MAAM,CAAC,aAAa,YAAYhe,GAAG3M,EAAEs0B,GAAG,UAAU3nB,IAAI1M,EAAEo+B,oBAAoBp+B,IAAIT,EAAE4V,KAAKnV,EAAEutB,OAAO8G,GAAG,eAAe3nB,OAAOnN,EAAE4V,KAAKhU,aAAEkF,IAAI9G,EAAE4V,KAAKhU,aAAEmB,IAAI/C,EAAE4V,KAAKhU,aAAE4L,IAAIL,IAAxpDnC,CAAEvK,EAAEoB,EAAExB,EAAEC,GAAGD,EAAEuV,KAAKhU,EAAEg1B,kBAAkB/0B,IAAI,CAACk9B,cAAcz+B,EAAEikB,SAAS/jB,aAAEH,GAAGkkB,WAAkyE,SAASzW,GAAEtN,GAAG,OAAOC,YAAED,EAAEghB,WAAW,UAAUhhB,EAAEghB,SAAS5B,KAAK,MAAM7R,GAAE1N,cAAIqO,GAAE5H,cCAxmH,SAASjF,GAAEA,GAAG,OAAOpB,YAAEoB,EAAE80B,QAAQnV,UAAU5B,MAAM,IAAI,QAAQ,OAAOvf,GAAEwB,GAAG,IAAI,UAAU,IAAI,WAAW,OAAOrB,GAAEqB,GAAG,QAAQ,OAAO,MCAzU,MAAMrB,GAAE,CAAC,EAAE,GAAG,GAASC,GAAE,GAAyB4N,GAAElD,KAAKq0B,KAAK/+B,GAAE,EAAE,GAAG4Q,GAAE,IAA0C9M,GAAE,EAAE4G,KAAKC,GAAG,GAAGxG,GAAE,EAAEuG,KAAKC,GAAG,ECAO,SAAS/K,GAAEG,EAAEH,EAAEC,GAAG,MAAMyC,EAAEvC,EAAEm2B,QAAQ90B,EAAE,CAACrB,EAAEC,IAAIJ,EAAE,CAAC66B,OAAO16B,EAAEm2B,QAAQ5zB,EAAE08B,SAASh/B,EAAEi/B,aAAaC,SAASl/B,EAAEm/B,eAAe,OAAOt/B,GAAG,CAACE,EAAEH,EAAEC,KAAK,MAAMN,EAAEK,EAAEw/B,MAAMr/B,IAAI,UAAUA,EAAE06B,QAAQr5B,EAAE,QAAQrB,GAAGA,KAAKq/B,KAAKp/B,aAAEsC,IAAI88B,MAAMr/B,IAAI,OAAOA,EAAE06B,QAAQ,IAAI,QAAQ,IAAI,UAAU16B,EAAEs/B,cAAct/B,EAAEu/B,cAAcv/B,EAAEw/B,eAAen+B,EAAE,SAASrB,GAAG,MAAM,IAAI,MAAMqB,EAAE,MAAMrB,GAAG,OAAOA,KAAK,OAAOF,EAAEu/B,KAAKj+B,aAAEmB,IAAI88B,MAAM,KAAKh+B,EAAE,MAAM,CAAC69B,aAAa,EAAEE,aAAa,OAAO5/B,KAAK,SAASM,GAAEG,GAAG,GAAGD,YAAEC,IAAI,aAAaA,EAAEmf,MAAM,YAAYnf,EAAEmf,KAAK,OAAO,EAAE,MAAMhe,GAAG,aAAanB,EAAEmf,KAAKnf,EAAEwvB,MAAMxvB,EAAEuvB,OAAO,GAAG,IAAIpuB,GAAGA,EAAEkB,OAAO,EAAE,OAAO,EAAE,MAAMzC,EAAEuB,EAAE,GAAGtB,EAAEsB,EAAE,GAAG,OAAOuJ,KAAKozB,MAAMj+B,EAAE,GAAGD,EAAE,GAAGC,EAAE,GAAGD,EAAE,ICAhuB,MAAMG,GAAEuB,cAAcC,KAAKo2B,YAAW,EAAe,aAAC93B,GAAG0B,KAAKi+B,sBAAsBz/B,GAAGA,EAAEq6B,SAASv6B,IAAgC,6BAACA,GAAG0B,KAAKi+B,sBAAsBz/B,GAAGA,EAAEm6B,yBAAyBr6B,IAAqB,kBAACA,GAAG0B,KAAKi+B,sBAAsBz/B,GAAGA,EAAEiwB,cAAcnwB,IAAiB,gBAAG,OAAO0B,KAAKo2B,WAAwB,cAAC93B,GAAG0B,KAAKo2B,WAAW93B,EAAE0B,KAAKi+B,sBAAsBz/B,GAAGA,EAAEi7B,UAAUn7B,IAAgB,eAAG,OAAO0B,KAAKk+B,iBAAiB5/B,GAAGA,EAAEw+B,WAAuB,eAAG,OAAO98B,KAAKk+B,iBAAiB5/B,GAAGA,EAAEg5B,WAAW6G,eAAe7/B,GAAG,OAAO0B,KAAKk+B,iBAAiB1/B,GAAGA,IAAIF,IAAI4/B,gBAAgB5/B,GAAG,IAAIE,GAAE,EAAG,OAAOwB,KAAK68B,oBAAoBh9B,KAAKrB,GAAGF,EAAEuB,KAAKrB,GAAE,MAAOA,EAAEy/B,qBAAqBz/B,GAAGwB,KAAK68B,oBAAoB,CAACh9B,EAAE7B,KAAK6B,aAAavB,IAAGE,EAAEqB,EAAE7B,OCA3Q,MAAMgG,GAAE,KAAK,MAAMc,GAAE/E,YAAYvB,GAAGwB,KAAKgpB,QAAQ,IAAIhrB,KAAEgC,KAAK0oB,QAAQ,IAAItmB,KAAEpC,KAAK+7B,UAAU,IAAIn5B,KAAE5C,KAAKo+B,gBAAgB,CAACC,cAAc,EAAEC,iBAAiB,GAAGt+B,KAAKu+B,UAAUv6B,GAAEhE,KAAKw+B,eAAe,KAAKx+B,KAAK6I,KAAK,CAACnC,OAAOrI,cAAIiK,UAAUjK,eAAK2B,KAAKy+B,aAAapgC,cAAI2B,KAAK0+B,0BAA0BrgC,cAAI2B,KAAK2+B,wBAAwBtgC,cAAI2B,KAAKoU,YAAY,MAAM5V,EAAE,EAAEA,EAAS,UAAG,OAAOwB,KAAK6I,KAAsB,oBAAG,OAAO7I,KAAK6I,KAAKnC,OAAsB,kBAAG,OAAO1G,KAAKy+B,aAAa3J,MAAMt2B,EAAEH,GAAG2B,KAAK4+B,aAAatgC,KAAE47B,WAAW17B,EAAEH,EAAE2B,KAAK6I,OAAO+1B,aAAapgC,GAAGA,IAAIwB,KAAK6I,MAAMvK,KAAEgO,KAAK9N,EAAEwB,KAAK6I,MAAM,IAAI7I,KAAKgpB,QAAQwV,eAAe,IAAIx+B,KAAKoU,YAAYpU,KAAK6I,KAAKnC,OAAO,IAAI1G,KAAKgpB,QAAQwV,eAAex+B,KAAKw+B,eAAex+B,KAAKgpB,QAAQwV,eAAex+B,KAAKw+B,eAAe,KAAK58B,YAAE5B,KAAKy+B,aAAaz+B,KAAK6I,KAAKnC,OAAO1G,KAAK6I,KAAKP,WAAWtI,KAAK6+B,kBAAkB,EAAE7+B,KAAK0oB,QAAQoW,KAAK9+B,KAAK6I,MAAMuf,UAAU/pB,EAAEuD,EAAE/B,EAAEpB,EAAEH,EAAEsB,GAAGI,KAAK++B,MAAMn9B,EAAE5B,KAAKd,OAAOW,EAAEG,KAAKg/B,gBAAgB1gC,EAAE0B,KAAKu+B,UAAU,MAAM9/B,EAAEuF,GAAEvF,EAAE,MAAMT,EAAE+C,aAAEf,KAAKw+B,gBAAgBp8B,EAAExC,EAAEpB,IAAIoB,EAAEpB,IAAIwB,KAAKi/B,gBAAgBzgC,IAAIA,IAAIwB,KAAKi/B,gBAAgBzgC,IAAI,GAAGH,GAAGA,EAAEyC,OAAO,EAAE,IAAI,MAAM8B,KAAKvE,EAAE,CAAC,MAAMA,EAAEuE,EAAEs8B,4BAA4Bt8B,EAAEs8B,6BAA6B1gC,YAAEH,IAAIG,YAAER,GAAGK,EAAE8gC,kCAAkCn/B,KAAK6I,KAAKnC,OAAO1G,KAAK6I,KAAKP,UAAUlG,EAAEpE,GAAGK,EAAE+gC,gBAAgBp/B,KAAK6I,KAAKnC,OAAO1G,KAAK6I,KAAKP,UAAUlG,GAAGpC,KAAKgpB,QAAQqW,eAAer/B,KAAKgpB,QAAQsW,KAAKjhC,EAAEkhC,wBAAwBn9B,IAAIQ,EAAE48B,aAAaxd,QAAQxjB,GAAG4D,EAAE5D,KAAKwB,KAAKy/B,cAAcR,gBAAgB5gC,GAAG2B,KAAK6+B,oBAAoB,MAAMj9B,EAAEvD,EAAEqhC,gBAAgB,IAAI99B,EAAE,OAAO,MAAMtD,EAAED,EAAE4S,GAAGjT,EAAEK,EAAEsI,eAAe,IAAIvE,EAAE,MAAMQ,EAAE7B,aAAEf,KAAKw+B,gBAAgB,IAAI,MAAMz9B,KAAKa,EAAE,CAAC,MAAM4d,SAAS5d,EAAEoE,SAAShC,EAAEoC,mBAAmBtB,GAAG/D,EAAE,GAAGnB,aAAEkF,GAAG,SAAS1C,EAAER,EAAEqP,GAAGjR,KAAK+7B,UAAU4D,+BAA+B3hC,EAAE+C,EAAEqG,2BAA2BvH,YAAEG,KAAK0+B,0BAA0B1+B,KAAK6I,KAAKnC,OAAO1G,KAAK+7B,UAAU6D,SAAS//B,YAAEG,KAAK2+B,wBAAwB3+B,KAAKy+B,aAAaz+B,KAAK+7B,UAAU6D,SAAS,MAAM/+B,EAAEb,KAAK+7B,UAAUA,UAAUv9B,YAAEoE,KAAKA,EAAEi9B,gBAAgB7/B,KAAK+7B,WAAW/3B,EAAEokB,UAAUxmB,EAAEkD,EAAE9E,KAAK+7B,UAAUA,UAAU/7B,KAAKA,KAAK0+B,0BAA0B1+B,KAAK2+B,yBAAyB,CAAC/8B,EAAE/B,EAAED,EAAE5B,EAAE4E,EAAE7B,KAAK,GAAGa,GAAG,EAAE,CAAC,GAAGpD,YAAEwB,KAAKg/B,mBAAmBh/B,KAAKg/B,gBAAgBh/B,KAAK6I,KAAKnC,OAAO1G,KAAKy+B,aAAa78B,GAAG,OAAO,MAAMoC,EAAG,YAAW1F,IAAI,GAAGsE,EAAE,aAAa,MAAM5C,KAAK0oB,QAAQ4W,IAAI1W,MAAMhnB,EAAE5B,KAAK0oB,QAAQ4W,IAAI1W,OAAO5oB,KAAK0oB,QAAQ4W,IAAIj+B,IAAIhD,EAAE2F,EAAEpC,EAAE/B,EAAEpB,KAAET,EAAE+C,EAAEqB,EAAExC,IAAI,MAAMkF,EAAEtG,GAAGA,EAAE6C,IAAIhD,EAAE2F,EAAEpC,EAAE/B,EAAEgB,EAAE7C,EAAE,KAAKoE,EAAExC,GAAG,IAAI,MAAMI,KAAK0oB,QAAQ3a,IAAIgb,kBAAkB/qB,GAAGgC,KAAK0oB,QAAQ3a,IAAIgb,oBAAoB,MAAM/oB,KAAK0oB,QAAQ3a,IAAI6a,MAAMhnB,EAAE5B,KAAK0oB,QAAQ3a,IAAI6a,OAAO9jB,EAAE9E,KAAK0oB,QAAQ3a,KAAK,IAAI/N,KAAKgpB,QAAQC,QAAQ,MAAMjpB,KAAK0oB,QAAQzb,IAAI8b,kBAAkB/qB,EAAEgC,KAAK0oB,QAAQzb,IAAI8b,oBAAoB,MAAM/oB,KAAK0oB,QAAQzb,IAAI2b,MAAMhnB,EAAE5B,KAAK0oB,QAAQzb,IAAI2b,OAAO9jB,EAAE9E,KAAK0oB,QAAQzb,KAAK,IAAIjN,KAAKgpB,QAAQC,MAAM,CAAC,MAAMzqB,EAAE,IAAI6D,KAAErC,KAAK6I,MAAM/D,EAAEtG,GAAGwB,KAAK0oB,QAAQ5T,IAAIlB,KAAKpV,OAAOuC,EAAEsG,uBAAuBo4B,cAAcz/B,KAAK0oB,QAAQ5T,IAAI6L,MAAM,CAACniB,EAAEH,IAAIG,EAAEoqB,OAAOvqB,EAAEuqB,KAAKpqB,EAAEoqB,KAAKvqB,EAAEuqB,KAAKpqB,EAAEuqB,mBAAmB1qB,EAAE0qB,uBAAkB,IAASvqB,EAAEuqB,iBAAiBvqB,EAAEuqB,iBAAiB+W,OAAOC,iBAAY,IAAS1hC,EAAE0qB,iBAAiB1qB,EAAE0qB,iBAAiB+W,OAAOC,iBAAY,IAAS1hC,EAAE2hC,wBAAwB3hC,EAAE2hC,wBAAwBF,OAAOG,iBAAY,IAASzhC,EAAEwhC,wBAAwBxhC,EAAEwhC,wBAAwBF,OAAOG,cCA/wF,SAASp7B,GAAEjF,EAAEpB,GAAG,MAAMuC,EAAEsB,cAAI/D,EAAE+D,cAAI,IAAIxC,GAAE,EAAG,OAAOwC,IAAI,GAAG,UAAUA,EAAE62B,OAAO,CAAC,MAAM76B,EAAEL,aAAEqE,EAAE69B,YAAYt+B,aAAE+L,KAAElN,QAAQnC,EAAEkN,KAAEuuB,WAAWn6B,EAAE04B,MAAMp5B,OAAOb,EAAEqN,IAAGjN,YAAEH,KAAKuB,EAAEkL,KAAE0vB,aAAaj8B,EAAEF,EAAEyC,IAAI,IAAIlB,EAAE,OAAO,KAAK,MAAMgB,EAAE7C,aAAEqE,EAAE89B,UAAUv+B,aAAE+L,KAAElN,QAAQmC,EAAE4I,KAAEuuB,WAAWn6B,EAAE04B,MAAMp5B,OAAO2B,EAAE6K,IAAG,OAAOrN,YAAEuE,GAAG,KAAKmI,KAAE0vB,aAAaj8B,EAAEoE,EAAEtE,GAAG,IAAI+D,EAAE+9B,YAAYr/B,EAAEs/B,UAAU/hC,EAAEgiC,MAAM9hC,EAAE0qB,IAAItmB,GAAG,MAAqZ,SAASyM,GAAE5Q,EAAEJ,EAAEuB,EAAEpB,EAAE,KAAKR,EAAE,MAAM,OAA/a,SAAW4B,EAAEpB,EAAER,EAAE4D,EAAE,KAAKS,EAAE,MAAM,IAAI/D,EAAE,KAAK,OAAOuB,IAAI,GAAG,UAAUA,EAAEq5B,SAAS56B,EAAEsB,EAAE2gC,wBAAwBC,6BAA6Bz/B,aAAElB,EAAEqgC,YAAYn1B,EAAElL,EAAEqgC,YAAYr4B,GAAGrJ,EAAER,EAAEqE,GAAG5D,YAAEH,IAAIG,YAAEmD,KAAKoH,YAAE1K,EAAEA,EAAEsD,IAAI,OAAO,KAAK,GAAGvD,YAAEC,GAAG,OAAO,KAAK,MAAMuC,EAAEjB,EAAE2gC,wBAAwBC,6BAA6Bz/B,aAAElB,EAAEsgC,UAAUp1B,EAAElL,EAAEsgC,UAAUt4B,GAAGrJ,EAAER,EAAEqE,GAAG,OAAO5D,YAAEoC,GAAGpC,YAAEmD,KAAKoH,YAAEnI,EAAEA,EAAEe,GAAG,KAAK,IAAI/B,EAAE4gC,SAASniC,EAAEoiC,OAAO7/B,GAAG,MAA6CqJ,CAAEzL,EAAEmB,EAAE0C,YAAEjE,EAAEI,EAAEmB,GAAGpB,EAAER,GAAG,SAAS+N,GAAEtN,EAAEJ,EAAEuB,EAAEpB,EAAE,KAAKR,EAAE,MAAM,OAAOqR,GAAE5Q,EAAEmB,EAAEiI,YAAExJ,GAAGG,EAAER,GAA+Q,SAASoE,GAAE3D,EAAEJ,EAAEuB,GAAG,IAAIpB,EAAE,KAAK,MAAMR,EAAE,IAAIqO,KAAE,OAAOrO,EAAE6/B,KAAKh5B,GAAEpG,EAA1O,SAAWA,EAAEJ,GAAG,MAAMuB,EAAEuL,GAAE3M,EAAE6P,GAAErQ,EAAE+M,KAAEZ,SAAS1L,EAAEgvB,mBAAmBkT,kBAAkBtiC,EAAEuB,GAAG,MAAMgC,EAAEoC,YAAEhG,EAAE4B,EAAEiB,YAAErC,EAAEH,EAAEI,EAAE65B,MAAMp5B,OAAO0L,MAAM,OAAO5G,YAAEpC,EAAEA,EAAEhC,GAAGmL,KAAEuvB,sBAAsBj8B,EAAEuD,EAAE5D,GAAgEkN,CAAEzM,EAAEJ,KAAKw/B,KAAsH,SAAWp/B,EAAEJ,GAAG,MAAMuB,EAAEyC,cAAIrE,EAAE6B,YAAExB,GAAGI,EAAEgvB,mBAAmBkT,kBAAkBtiC,EAAEuB,GAAG,MAAMgC,EAAES,cAAItB,EAAEsB,cAAI2B,EAAEpC,IAAOf,YAAEe,EAAEA,EAAEvD,GAAGkE,KAAEq+B,aAAahhC,EAAEgC,EAAEA,GAAG,WAAWnD,EAAE2V,aAAavU,YAAE+B,GAAGpD,aAAEoE,YAAEhD,EAAEgC,IAAI,KAAK5D,GAAG6C,YAAEe,EAAEkD,YAAElD,EAAEhC,EAAE,MAAMvB,GAAUkF,YAAE3B,EAAEA,EAAEvD,GAAGuD,GAAG,OAAOnD,IAAIA,EAAE2hC,YAAYp8B,EAAE1F,YAAEsD,EAAEnD,EAAE2hC,cAAc3hC,EAAE4hC,UAAUr8B,EAAE1F,YAAEyC,EAAEtC,EAAE4hC,YAAY5hC,GAAha4L,CAAE5L,EAAEJ,IAAIw/B,KAA2Z,SAAWx/B,EAAEuB,GAAG,MAAMpB,EAAEH,EAAEovB,mBAAmB,OAAOpvB,IAAI,MAAML,EAAEQ,EAAEkvB,iBAAiBrvB,EAAE+hC,YAAYxgC,GAAGgC,EAAEpD,EAAEkvB,iBAAiBrvB,EAAEgiC,UAAUzgC,GAAG,OAAOnB,YAAET,IAAIS,YAAEmD,GAAG,IAAIvD,EAAEoiC,SAASziC,EAAE0iC,OAAO9+B,GAAG,MAA3kBsL,CAAEzO,EAAEmB,IAAIi+B,MAAMp/B,IAAIA,EAAEiiC,OAAO31B,EAAEtM,EAAEgiC,SAAS11B,EAAEtM,EAAEiiC,OAAO74B,EAAEpJ,EAAEgiC,SAAS54B,EAAErJ,EAAEC,KAAKA,IAAID,EAAE,KAAKR,EAAE6iC,QAAQpiC,GAAGD,GDAg/CsG,GAAEg8B,kBAAkB98B,GCApF,MAAMmH,GAAE9I,cAAIgM,GAAEhM,cAAIqJ,GAAEF,KAAErB,SCAp0E,MAAMnB,WAAUkC,GAAEnL,YAAYvB,GAAGuG,QAAQ/E,KAAKokB,SAAS,IAAIxiB,KAAE5B,KAAK+gC,uBAAuB,IAAIp5B,MAAM3H,KAAKghC,gBAAgBhhC,KAAKihC,iBAAiBjhC,KAAKkhC,qBAAqBlhC,KAAKihC,eAAe,IAAIjhC,KAAKmhC,OAAO,EAAEnhC,KAAKohC,OAAO,EAAEphC,KAAKs2B,QAAQ/zB,GAAEvC,KAAKqhC,kBAAiB,EAAGrhC,KAAKgsB,OAAO,IAAI3tB,IAAE2B,KAAKshC,MAAM9iC,EAAE+iC,KAAKvhC,KAAKwhC,MAAMhjC,EAAEqY,KAAK,MAAMrY,EAAE8F,SAAStE,KAAKs2B,QAAQ93B,EAAE8F,QAAQtE,KAAKyhC,sBAAsBzhC,KAAK68B,oBAAoBr+B,GAAGwB,KAAKshC,MAAM9O,aAAar0B,IAAIK,KAA4B,wBAACA,GAAGwB,KAAK+gC,uBAAuB,GAAGW,YAAYjI,UAAUj7B,EAAEwB,KAAK+gC,uBAAuB,GAAGW,YAAYjI,UAAUj7B,EAAE2nB,UAAUnmB,KAAK68B,oBAAoBr+B,IAAIwB,KAAKshC,MAAM9O,aAAajQ,OAAO/jB,GAAGA,EAAE2nB,aAAanmB,KAAKokB,SAASud,YAAY3hC,KAAKshC,MAAM,KAAKthC,KAAKwhC,MAAM,KAAKxhC,KAAK+gC,uBAAuBjgC,OAAO,EAAE+7B,mBAAmBr+B,GAAGwB,KAAK+gC,uBAAuBzO,KAAK,EAAEoP,YAAYpjC,KAAKE,EAAEF,EAAE,KAAKsjC,0BAA0BtjC,EAAED,EAAEI,GAAG,MAAMoB,EAAExB,EAAEs2B,QAAQ32B,EAAE4E,YAAE/C,GAAG+B,EAAEpD,YAAEqB,EAAE2f,UAAUpI,iBAAiB,OAAOzJ,GAAEtP,EAAEI,GAAGD,GAAGwB,KAAK6hC,oBAAoB,CAACxjC,EAAEI,EAAEoB,EAAE7B,EAAE4D,IAAIpD,EAAEH,EAAEC,EAAED,EAAEI,EAAEoB,EAAE7B,EAAE4D,GAAG/B,IAAI7B,EAAE4D,EAAE/B,KAAKgiC,mBAAmBrjC,EAAEH,EAAEI,EAAEoB,GAAG,OAAOvB,aAAE0B,KAAK+gC,uBAAuBzO,KAAK,EAAEoP,YAAYpjC,GAAGN,IAAI6F,aAAEvF,GAAG,CAACA,EAAEsD,EAAEhC,EAAEyC,EAAEkB,KAAK,MAAM1C,EAAEe,EAAEi8B,MAAMr/B,IAAC,IAAOA,EAAEsjC,gBAAgB,MAAMjE,KAAK7wB,aAAEhN,KAAKwhC,MAAMljC,EAAEq6B,2BAA2BkF,KAAK3wB,GAAElN,KAAKwhC,MAAMljC,EAAEq6B,yBAAyBt6B,EAAEI,EAAEoB,IAAIg+B,KAAKryB,aAAElN,EAAEu6B,SAAS74B,KAAK+hC,OAAO/jC,EAAE,GAAGmL,KAAKC,GAAG,KAAKy0B,KAAKh2B,gBAAKrJ,EAAEF,EAAEuC,EAAEjB,EAAEyC,EAAEkB,SAAkB,YAAG,OAAOvD,KAAKmhC,OAAgB,UAAC3iC,GAAGwB,KAAKmhC,OAAO3iC,EAAEwB,KAAKs3B,SAASt3B,KAAKqhC,kBAAiB,EAAGrhC,KAAKgiC,8BAA8C,mBAAG,OAAOhiC,KAAKohC,OAAuB,iBAAC5iC,GAAGwB,KAAKohC,OAAO5iC,EAAEwB,KAAKgiC,8BAAwC,aAAG,OAAOhiC,KAAKs2B,QAAkB,WAAC93B,GAAGwB,KAAKs2B,UAAU93B,IAAIwB,KAAKs2B,QAAQ93B,EAAEwB,KAAKiiC,uBAAuBA,sBAAsB,IAAI,IAAIzjC,EAAE,EAAEA,EAAEwB,KAAK+gC,uBAAuBjgC,OAAOtC,IAAIwB,KAAKkiC,wBAAwBliC,KAAK+gC,uBAAuBviC,GAAGA,GAAGwB,KAAKgiC,8BAA8BE,yBAAyBR,YAAYljC,EAAEu9B,UAAUz9B,GAAGD,GAAG,MAAMI,EAAEuB,KAAKs2B,QAAQ/zB,GAAE1C,ELA3rG,GKA+rGpB,EAAEmD,EAAEuH,KAAK8Z,KAAKpjB,EAAEA,EAAE,EAAE,GAAGuC,EAAEE,KAAE6/B,uBAAuBvgC,EAAE/B,EAAE,EAAEA,EAAE,ELA/vG,KKAowGyC,KAAE8/B,iBAAiBhgC,EAAExC,aAAEwM,KAAE3L,MAAMzC,YAAEgG,KAAEvD,MAAM,GAAGmB,EAAE,EAAE,KAAKpD,EAAEs9B,cAAc,CAAC,CAACtc,SAASpd,EAAE4D,SAAShG,KAAKghC,gBAAgBtF,UAAU,GAAG,CAAClc,SAASpd,EAAE4D,SAAShG,KAAKkhC,qBAAqBxF,UAAU,IAAIl9B,EAAE8F,OAAO1C,EAAE,EAAE,EAAE,IAAI,MAAMkD,EAAEzC,aAAE+J,KAAE3L,OAAO8C,aAAEuB,EAAEzG,EAAE8K,KAAKC,GAAG,GAAG,MAAMrI,EAAEsB,aAAE+J,KAAE3L,OAAOb,aAAEmB,EAAE/C,YAAEgG,KAAEvD,MAAM,ELA3gH,IKA+gHhC,EAAE,IAAIoC,aAAEvC,EAAEwG,EAAE/D,GAAG0gC,sBAAsB,IAAI,IAAIjjC,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,MAAMF,EAAE0B,KAAKqiC,wBAAwB7jC,GAAGwB,KAAK+gC,uBAAuBntB,KAAKtV,GAAG0B,KAAKgiC,8BAA8BA,8BAA8B,MAAMxjC,EAAEwB,KAAK+hC,MAAMzjC,EAAE+D,aAAE+J,KAAE3L,OAAO2B,aAAE9D,EAAEA,EAAEE,EAAEqB,YAAE,EAAE,EAAE,IAAI,MAAMxB,EAAEyG,aAAEsH,KAAE3L,MAAMzC,YAAEgG,KAAEvD,MAAMT,KAAKsiC,aAAatiC,KAAKsiC,aAAatiC,KAAKsiC,eAAe7jC,EAAE4D,aAAE+J,KAAE3L,OAAOI,aAAEpC,EAAEJ,EAAEC,GAAG,IAAI,MAAMuB,KAAKG,KAAK+gC,uBAAuB,CAAC,MAAMviC,EAAEqC,aAAEuL,KAAE3L,MAAMhC,EAAEoB,EAAEk8B,WAAWl8B,EAAE6hC,YAAYa,eAAe/jC,GAAG6jC,wBAAwB7jC,GAAG,MAAMF,EAAE,IAAI+N,GAAE,CAACwK,KAAK7W,KAAKwhC,MAAMrL,wBAAuB,EAAGO,eAAc,EAAGF,gBAAgB,EAAEC,gBAAgB,EAAET,cAAc,CAACpY,KAAK,OAAOtV,UAAUzI,YAAE,EAAE,EAAE,MAAMxB,EAAE,CAACqjC,YAAYpjC,EAAEy9B,UAAUh7B,gBAAK,OAAOf,KAAKkiC,wBAAwB7jC,EAAEG,GAAGwB,KAAKokB,SAASjmB,IAAIG,EAAE0tB,OAAO8G,GAAG,QAAQt0B,IAAIwB,KAAKqhC,kBAAkB,QAAQ7iC,EAAE06B,SAASl5B,KAAKs3B,WAAWt3B,KAAKgiC,8BAA8BhiC,KAAKqhC,kBAAiB,OAAQhjC,EAAE4iC,eAAeziC,EAAE,GAAG,MAAMF,EAAEG,IAAEgH,WAAW4E,EAAEvI,MAAM,OAAOxD,EAAE,IAAIE,EAAE,IAAIsN,KAAE,CAACtJ,MAAMlE,EAAE8E,YAAY,IAAI5E,EAAE4wB,SAAS,EAAEzsB,eAAe,IAAY,WAAG,MAAM,CAAC6/B,kBAAkBxiC,KAAK+gC,uBAAuBzO,KAAK,EAAEoP,YAAYljC,KAAKA,MCAv7I,MAAMF,GAAEyB,cAAcC,KAAK6W,KAAK,KAAK7W,KAAKyuB,cAAc,KAAKzuB,KAAKyiC,cAAc,KAAKziC,KAAK69B,KAAK,IAAIj+B,KAAEI,KAAK0iC,UAAS,EAAc,cAAG,OAAO1iC,KAAK0iC,SAAoB,YAACjkC,GAAG,GAAGuB,KAAK0iC,WAAWjkC,GAAGD,YAAEwB,KAAKyiC,eAAe,CAAC,MAAM7iC,EAAEI,KAAKyiC,cAAc/B,OAAOpiC,EAAE0B,KAAK2iC,KAAK3iC,KAAKyiC,cAActC,WAAW,GAAG3hC,YAAEF,GAAG,CAAC,MAAME,EAAE,CAAC06B,OAAO,SAASuH,SAASzgC,KAAKyiC,cAAchC,SAASC,QAAO,IAAKjiC,EAAEH,EAAEsB,EAAEsgC,YAAYlgC,KAAKyiC,cAActC,UAAUA,UAAUngC,KAAKyiC,cAActC,WAAWngC,KAAK69B,KAAKgD,QAAQriC,IAAIwB,KAAK0iC,SAASjkC,EAAEkkC,KAAK/iC,GAAG,MAAMtB,EAAEE,YAAEwB,KAAK6W,MAAM7W,KAAK6W,KAAK+rB,MAAMhjC,EAAE,CAACijC,QAAQ,KAAK,KAAK,OAAOrkC,YAAEF,IAAIE,YAAEwB,KAAK6W,QAAQvY,EAAEoH,EAAEjH,YAAEH,EAAE0B,KAAK6W,KAAK7W,KAAKyuB,gBAAgBnwB,EAAEwkC,4BAA4BrkC,EAAEmB,GAAG,OAAOI,KAAK6W,KAAKpY,EAAEuB,KAAKyuB,cAAc7uB,EAAEI,KAAKyiC,cAAc,KAAKhkC,IAAI,GAAGuB,KAAKyiC,cAAc,QAAQhkC,EAAEy6B,OAAO,IAAIz6B,GAAG,KAAKuB,KAAK0iC,SAAS,CAAC,MAAM9iC,EAAEI,KAAK2iC,KAAKlkC,EAAE0hC,WAAW,OAAO3hC,YAAEoB,GAAG,CAACs5B,OAAOz6B,EAAEy6B,OAAOuH,SAAShiC,EAAEgiC,SAASC,OAAO9gC,EAAEsgC,YAAYzhC,EAAEyhC,YAAYC,UAAU1hC,EAAE0hC,WAAW,KAAK,MAAM,CAACjH,OAAOz6B,EAAEy6B,OAAOuH,SAAShiC,EAAEgiC,SAASC,OAAOjiC,EAAEiiC,OAAOR,YAAYzhC,EAAEyhC,YAAYC,UAAU1hC,EAAE0hC,aCArC,MAAM59B,WAAU8H,GAAEtK,YAAYvB,GAAGuG,QAAQ/E,KAAKokB,SAAS,IAAI/lB,KAAE2B,KAAK+iC,aAAa,IAAIl/B,GAAE7D,KAAKgjC,cAAchjC,KAAKijC,kBAAkBjjC,KAAKkjC,yBAAyBljC,KAAKijC,gBAAgB,IAAIjjC,KAAKohC,OAAO,EAAEphC,KAAKs2B,QAAQxqB,GAAE9L,KAAKwhC,MAAMhjC,EAAEqY,KAAK7W,KAAKshC,MAAM9iC,EAAE+iC,KAAK,MAAM/iC,EAAEwzB,cAAchyB,KAAKgyB,YAAYxzB,EAAEwzB,aAAa,MAAMxzB,EAAE8F,SAAStE,KAAKs2B,QAAQ93B,EAAE8F,QAAQtE,KAAKmjC,qBAAqBnjC,KAAK68B,oBAAoBr+B,GAAGwB,KAAKshC,MAAM9O,aAAar0B,IAAIK,KAAK2nB,UAAUnmB,KAAKokB,SAAS+B,UAAUnmB,KAAK68B,oBAAoBr+B,IAAIwB,KAAKshC,MAAM9O,aAAajQ,OAAO/jB,GAAGA,EAAE2nB,aAAanmB,KAAKshC,MAAM,KAAKthC,KAAKwhC,MAAM,KAAKxhC,KAAKojC,aAAa,KAAKvG,mBAAmBr+B,GAAGA,EAAEwB,KAAKojC,aAAa,GAAmB,mBAAG,OAAOpjC,KAAKohC,OAAuB,iBAAC5iC,GAAGwB,KAAKohC,OAAO5iC,EAAEwB,KAAKgiC,8BAA6C,kBAAG,OAAOhiC,KAAK+iC,aAAaM,QAAuB,gBAAC7kC,GAAGwB,KAAK+iC,aAAaM,QAAQ7kC,EAAY,aAAG,OAAOwB,KAAKs2B,QAAkB,WAAC93B,GAAGA,IAAIwB,KAAKs2B,UAAUt2B,KAAKs2B,QAAQ93B,EAAEwB,KAAKsjC,sBAAsB1B,0BAA0BnjC,EAAEoB,EAAEvB,GAAG,MAAMD,EAAEwB,EAAE80B,QAAQ/yB,EAAEhC,YAAEvB,GAAGL,EAAEQ,YAAEH,EAAEmhB,UAAUpI,iBAAiB,OAAOpK,GAAEnN,EAAEvB,GAAGE,GAAGwB,KAAK6hC,oBAAoB,CAAChiC,EAAEvB,EAAED,EAAEuD,EAAE5D,IAAIQ,EAAEqB,EAAEpB,EAAEoB,EAAEvB,EAAED,EAAEuD,EAAE5D,GAAGK,IAAIuD,EAAE5D,EAAEK,KAAKwjC,mBAAmBrjC,EAAEC,EAAEoB,EAAEvB,GAAG,MAAMD,EAAE2B,KAAKwhC,MAAM,OAAO18B,aAAE9E,KAAKojC,cAAc,CAACxhC,EAAE5D,EAAE4B,EAAEyC,EAAEkB,KAAK,MAAMxC,EAAE/C,EAAE6/B,KAAKz7B,aAAE/D,EAAEuD,EAAE+2B,2BAA2BkF,KAAKzxB,GAAE/N,EAAEuD,EAAE+2B,yBAAyBl6B,EAAEoB,EAAEvB,IAAIu/B,KAAK79B,KAAK+iC,aAAaD,4BAA4BzkC,EAAEI,GAAGuB,KAAK+iC,aAAalF,MAAMA,MAAMr/B,IAAC,IAAOA,EAAEsjC,gBAAgB,MAAMjE,KAAKj7B,gBAAKpE,EAAEoD,EAAEb,EAAEnB,EAAEyC,EAAEkB,MAAMy+B,8BAA8B,MAAMxjC,EAAEoD,aAAE2B,KAAE9C,MAAMnC,YAAE+D,KAAE5B,MAAMT,KAAKsiC,aAAatiC,KAAKsiC,aAAatiC,KAAKsiC,eAAetiC,KAAKojC,aAAab,eAAe/jC,EAAE2kC,qBAAqB,MAAM3kC,EAAEwB,KAAKwhC,MAAMxhC,KAAKojC,aAAa,IAAIp/B,GAAE,CAAC6S,KAAKrY,EAAE+kC,YAAW,EAAGpN,wBAAuB,EAAGK,gBAAgB,EAAEC,gBAAgB,EAAET,cAAc,CAACpY,KAAK,OAAOtV,UAAUzI,YAAE,EAAE,EAAE,IAAI62B,eAAc,IAAK12B,KAAKsjC,qBAAqBA,qBAAqB,MAAM9kC,EAAEuC,KAAEyiC,uBPAh/F,IOAygG,EPAzhG,IOA6hG3jC,YAAE,EAAE,EAAE,GAAGA,YAAE,EAAE,EAAE,IAAIpB,EAAEmD,aAAE5D,eAAI6B,YAAEG,KAAKs2B,QAAQt2B,KAAKs2B,QAAQt2B,KAAKs2B,UAAUt2B,KAAKojC,aAAatH,cAAc,CAAC,CAACtc,SAAShhB,EAAEwH,SAAShG,KAAKgjC,cAAcjH,UAAUt9B,EAAEi9B,UAAU,GAAG,CAAClc,SAAShhB,EAAEwH,SAAShG,KAAKkjC,yBAAyBnH,UAAUt9B,EAAEi9B,UAAU,IAAI17B,KAAKojC,aAAa9+B,OAAUtE,KAAKs2B,QAAQxqB,GPAhzG,GOAmzGm3B,gBAAgBzkC,EAAE,GAAG,MAAMqB,EAAEpB,IAAEgH,WAAWnD,EAAER,MAAM,OAAOjC,EAAE,IAAIrB,EAAE,IAAIqC,KAAE,CAAC2B,MAAM3C,EAAEuD,YAAY,IAAI5E,EAAE4wB,SAAS,EAAEzsB,eAAe,IAAY,WAAG,MAAM,CAAC8gC,gBAAgBzjC,KAAKojC,eCAh8E,MAAMr4B,WAAUxI,GAAExC,YAAYvB,GAAGuG,QAAQ/E,KAAKokB,SAAS,IAAIrjB,KAAEf,KAAKs2B,QAAQ5wB,GAAE1F,KAAKgsB,OAAO,IAAIvtB,IAAEuB,KAAKshC,MAAM9iC,EAAE+iC,KAAKvhC,KAAKwhC,MAAMhjC,EAAEqY,KAAK,MAAMrY,EAAE8F,SAAStE,KAAKs2B,QAAQ93B,EAAE8F,QAAQtE,KAAK0jC,oBAAoB1jC,KAAK68B,oBAAoBr+B,GAAGwB,KAAKshC,MAAM9O,aAAar0B,IAAIK,KAAK2nB,UAAUnmB,KAAKokB,SAAS+B,UAAUnmB,KAAK68B,oBAAoBr+B,IAAIwB,KAAKshC,MAAM9O,aAAajQ,OAAO/jB,GAAGA,EAAE2nB,aAAa0W,mBAAmBr+B,GAAGA,EAAEwB,KAAKojC,aAAa,GAAGxB,0BAA0BnjC,EAAEJ,EAAEC,GAAG,MAAMuB,EAAErB,YAAEH,EAAEs2B,QAAQnV,UAAUpI,iBAAiB,OAAO/H,GAAEhR,EAAEC,GAAGE,GAAGwB,KAAK6hC,oBAAoB,CAACxjC,EAAEC,EAAEuB,EAAE7B,EAAE4D,IAAIpD,EAAEH,EAAEI,EAAEJ,EAAEC,EAAEuB,EAAE7B,EAAE4D,GAAG/B,IAAIA,KAAKgiC,mBAAmBrjC,EAAEC,GAAG,MAAMJ,EAAE2B,KAAKwhC,MAAM,OAAOl/B,aAAEtC,KAAKojC,cAAc,CAAC9kC,EAAEuB,EAAE7B,EAAE4D,EAAEhC,KAAK,MAAMyC,EAAExC,EAAEg+B,MAAMr/B,IAAC,IAAOA,EAAEsjC,gBAAgB,MAAMjE,KAAKryB,GAAEnN,EAAEC,EAAE+6B,eAAe56B,IAAIo/B,KAAKh2B,gBAAKrJ,EAAEF,EAAE+D,EAAErE,EAAE4D,EAAEhC,MAAgB,aAAG,OAAOI,KAAKs2B,QAAkB,WAAC93B,GAAGA,IAAIwB,KAAKs2B,UAAUt2B,KAAKs2B,QAAQ93B,EAAEwB,KAAK2jC,qBAAqBA,oBAAoB,MAAMnlC,EAAEwB,KAAKs2B,QAAQ5wB,GAAEjH,EAAEyM,EAAErF,aAAalG,OAAOnB,EAAEH,EAAE6M,EAAErF,aAAapD,WAAWjE,EAAEF,EAAE4M,EAAErF,aAAanD,UAAUlE,EAAER,EAAEkN,EAAErF,aAAa7E,MAAMxC,EAAEoD,EAAE,CAAC/B,YAAE,EAAE,EAAE,GAAGA,YAAE,EAAE,EAAEpB,IAAImB,EAAEwM,KAAEw3B,mBAAmBhiC,EAAE5D,EAAE,EAAE,IAAG,GAAIqE,EAAE+J,KAAEy3B,mBAAmBxlC,EAAEC,EAAE,EAAE,IAAG,GAAIwG,EAAE,CAACjF,YAAE,EAAE,EAAE,GAAGA,YAAE,EAAE,EAAEpB,EAAEJ,IAAIkF,EAAE,CAAC/E,IAAI,MAAMH,EAAEyN,eAAyE,OAAlEjL,aAAExC,EAAEA,EAAE,CAAC,EAAE,EAAEI,IAAI2D,aAAE/D,EAAEA,EAAE8K,KAAKC,GAAG,GAA4C/K,GAA7F,GAAoG0C,EAAE,CAACvC,EAAEC,KAAK,MAAMJ,EAAE2F,YAAEkH,EAAErF,aAAarD,MAAM/D,GAAG,MAAM,CAACJ,EAAEA,EAAE,IAAIA,EAAEiE,EAAE,IAAIjE,EAAEkE,EAAE,IAAI2I,EAAErF,aAAarD,MAAMlE,EAAEE,IAAI8D,EAAEuB,GAAE9C,EAAE,EAAE,KAAK,GAAG8G,EAAEhE,GAAE9C,EAAE,EAAE,GAAG,GAAGyK,EAAE3H,GAAE9C,EAAE,GAAG,GAAGmK,EAAErF,aAAalD,gBAAgBqK,EAAEnJ,GAAE9C,EAAE,IAAI,GAAGmK,EAAErF,aAAalD,gBAAgB3C,KAAKojC,aAAatH,cAAc,CAAC,CAACtc,SAASnd,EAAE05B,UAAUx4B,EAAEyC,SAAS1D,EAAEo5B,UAAU,GAAG,CAAClc,SAAS5f,EAAEoG,SAAS1D,EAAEo5B,UAAU,GAAG,CAAClc,SAASnd,EAAE05B,UAAUx4B,EAAEyC,SAAS6B,EAAE6zB,UAAU,GAAG,CAAClc,SAAS5f,EAAEoG,SAAS6B,EAAE6zB,UAAU,GAAG,CAAClc,SAASnd,EAAE05B,UAAUx4B,EAAEyC,SAASwF,EAAEkwB,UAAU,GAAG,CAAClc,SAAS5f,EAAEoG,SAASwF,EAAEkwB,UAAU,GAAG,CAAClc,SAASnd,EAAE05B,UAAUx4B,EAAEyC,SAASgH,EAAE0uB,UAAU,GAAG,CAAClc,SAAS5f,EAAEoG,SAASgH,EAAE0uB,UAAU,IAAI17B,KAAKojC,aAAa9+B,OAAOtG,EAAE,EAAE,EAAEgC,KAAKojC,aAAapN,cAAc,CAACpY,KAAK,OAAOqQ,MAAM,CAACnpB,IAAI4+B,oBAAoB,MAAMllC,EAAE,IAAIwO,GAAE,CAAC6J,KAAK7W,KAAKwhC,MAAMrL,wBAAuB,EAAGoN,YAAW,EAAGrM,YAAW,EAAGE,OAAO,YAAY3I,cAAczuB,KAAKyuB,cAAciI,eAAc,EAAGT,kBAAkB,MAAMz3B,EAAEslC,qBAAqBtlC,IAAI,MAAMC,EAAEuB,KAAKwhC,MAAMlJ,MAAMp5B,OAAOZ,EAAE6M,GAAEnL,KAAKwhC,MAAM/T,mBAAmBiL,eAAe14B,KAAKojC,aAAazK,yBAAyBr6B,GAAG,MAAMuB,EAAE7B,YAAES,EAAEmM,IAAItM,GAAGyC,EAAEtC,EAAE8O,6BAA6B1N,GAAGgB,EAAEe,YAAE+L,GAAErP,EAAEG,EAAEmM,KAAKhL,YAAEiB,EAAEA,GAAG,MAAMuB,EAAEiV,GAAErX,KAAKwhC,MAAM/T,mBAAmBkT,kBAAkBx1B,GAAE/I,GAAG,MAAMQ,EAAEuG,KAAKyD,IAAIvK,YAAExB,EAAEuB,IAAI4B,EAAEc,YAAE6I,GAAE9M,EAAEuB,GAAG0J,EAAEhH,YAAE6I,GAAE3J,EAAE5B,GAAGgK,EAAE/N,aAAEuE,EAAE,IAAI,GAAGN,EAAE,EAAE6G,KAAK8Z,KAAK,EAAE7W,EAAEA,GAAGA,EAAE3N,EAAEuM,UAAUnD,EAAE7H,KAAKs2B,QAAQ5wB,GAAE8F,EAAEN,EAAErF,aAAa7E,MAAM6G,EAAEtE,YAAEuI,EAAElM,YAAEkM,EAAEA,IAAI,EAAExJ,EAAE,GAAGzC,EAAEkB,EAAEyK,GAAGhN,EAAE,KAAKmP,GAAE,GAAGnP,EAAE,KAAKmP,GAAE,GAAGnP,EAAE,KAAKmP,GAAE,IAAI3N,KAAKojC,aAAa5kC,EAAEwB,KAAK2jC,qBAAqB,MAAMx4B,GAAE7M,cAAIqP,GAAErP,cAAI+Y,GAAE/Y,cCAtqG,MAAM8D,WAAUpE,GAAE+B,YAAYF,GAAGkF,QAAQ/E,KAAKokB,SAAS,IAAI3lB,KAAEuB,KAAK+jC,eAAe,KAAK/jC,KAAKgkC,cAAa,EAAG,MAAMzC,KAAKjjC,EAAEuY,KAAKrY,EAAEwzB,YAAYpyB,EAAE0E,OAAO1C,GAAG/B,EAAEG,KAAKwhC,MAAMhjC,EAAEwB,KAAKikC,eAAe,IAAI5hC,GAAE,CAACk/B,KAAKjjC,EAAEuY,KAAKrY,EAAEwzB,YAAYpyB,EAAE0E,OAAO1C,IAAI5B,KAAKkkC,mBAAmB,IAAI7lC,GAAE,CAACkjC,KAAKjjC,EAAEuY,KAAKrY,EAAE8F,OAAO1C,IAAI5B,KAAKmkC,cAAc,IAAI5gC,GAAE,CAACg+B,KAAKjjC,EAAEuY,KAAKrY,EAAE8F,OAAO1C,IAAI5B,KAAKikC,eAAexK,UAAU55B,EAAEukC,YAAYpkC,KAAKkkC,mBAAmBzK,UAAU55B,EAAEwkC,gBAAgBrkC,KAAKmkC,cAAc1K,UAAU55B,EAAEykC,WAAWtkC,KAAKukC,iBAAiBvkC,KAAK68B,oBAAoBh9B,IAAIG,KAAKokB,SAASjmB,IAAI0B,EAAEmsB,OAAO8G,GAAG,gBAAgB,IAAI9yB,KAAKwkC,uCAAuCre,UAAUnmB,KAAKokB,SAAS+B,UAAUnmB,KAAKikC,eAAe9d,UAAUnmB,KAAKkkC,mBAAmB/d,UAAUnmB,KAAKmkC,cAAche,UAAUyb,0BAA0B/hC,EAAEvB,EAAEG,GAAG,OAAOD,aAAE,CAACwB,KAAKikC,eAAerC,2BAA2B,CAACtjC,EAAEE,EAAEC,EAAEmB,EAAEgC,IAAI/B,EAAE,EAAEvB,EAAEE,EAAEC,EAAEmB,EAAEgC,IAAItD,EAAEG,GAAGuB,KAAKkkC,mBAAmBtC,2BAA2B,CAACtjC,EAAEE,EAAEC,EAAEmB,EAAEgC,IAAI/B,EAAE,EAAEvB,EAAEE,EAAEC,EAAEmB,EAAEgC,IAAItD,EAAEG,GAAGuB,KAAKmkC,cAAcvC,2BAA2B,CAACtjC,EAAEE,EAAEC,EAAEmB,EAAEgC,IAAI/B,EAAE,EAAEvB,EAAEE,EAAEC,EAAEmB,EAAEgC,IAAItD,EAAEG,KAAKojC,mBAAmBhiC,EAAEvB,EAAEG,EAAEmB,GAAG,OAAOpB,aAAE,CAACwB,KAAKikC,eAAepC,oBAAoB,CAACvjC,EAAEE,EAAEC,EAAEmB,EAAEgC,IAAI/B,EAAE,EAAEvB,EAAEE,EAAEC,EAAEmB,EAAEgC,IAAItD,EAAEG,EAAEmB,GAAGI,KAAKkkC,mBAAmBrC,oBAAoB,CAACvjC,EAAEE,EAAEC,EAAEmB,EAAEgC,IAAI/B,EAAE,EAAEvB,EAAEE,EAAEC,EAAEmB,EAAEgC,IAAItD,EAAEG,EAAEmB,GAAGI,KAAKmkC,cAActC,oBAAoB,CAACvjC,EAAEE,EAAEC,EAAEmB,EAAEgC,IAAI/B,EAAE,EAAEvB,EAAEE,EAAEC,EAAEmB,EAAEgC,IAAInD,KAAoB,gBAACoB,GAAGG,KAAKikC,eAAejS,YAAYnyB,EAAW,UAACA,GAAGG,KAAK+jC,eAAe,KAAK/jC,KAAKkkC,mBAAmBnC,MAAMliC,EAAmB,kBAACA,GAAGG,KAAKykC,cAAczkC,KAAK+hC,MAAMliC,IAAIG,KAAK+jC,eAAelkC,EAAiB,gBAACA,GAAGG,KAAKgkC,eAAenkC,IAAIG,KAAKgkC,aAAankC,EAAEG,KAAKwkC,kCAA4C,WAAC3kC,GAAGG,KAAKkkC,mBAAmB5/B,OAAOzE,EAAEG,KAAKikC,eAAe3/B,OAAOzE,EAAEG,KAAKmkC,cAAc7/B,OAAOzE,EAAkB,iBAACA,GAAGG,KAAKikC,eAAe3B,aAAaziC,EAAEG,KAAKkkC,mBAAmB5B,aAAaziC,EAAEg9B,mBAAmBh9B,GAAGG,KAAKikC,eAAepH,oBAAoBv+B,GAAGuB,EAAEvB,EAAE,KAAK0B,KAAKkkC,mBAAmBrH,oBAAoBv+B,GAAGuB,EAAEvB,EAAE,KAAK0B,KAAKmkC,cAActH,oBAAoBv+B,GAAGuB,EAAEvB,EAAE,KAAsB,oBAAG,MAAMuB,EAAEG,KAAKikC,eAAe/F,iBAAiBr+B,GAAGA,EAAE07B,WAAWv7B,KAAKkkC,mBAAmBhG,iBAAiBr+B,GAAGA,EAAE07B,UAAU,OAAOv7B,KAAKwhC,MAAMkD,cAAc,UAAU1kC,KAAKwhC,MAAMkD,aAAaC,mBAAmB9kC,EAAE0kC,iBAAiB,MAAM/lC,EAAEwB,KAAKkkC,mBAAmBzlC,EAAEuB,KAAKikC,eAAe,GAAGpkC,YAAE,eAAe,OAAO,MAAMD,EAAE,GAAGnB,EAAEo+B,oBAAoBh9B,GAAGD,EAAEgU,KAAK/T,KAAKrB,EAAEq+B,oBAAoBh9B,GAAGD,EAAEgU,KAAK/T,KAAK,MAAM+B,EAAE,KAAK,MAAM/B,EAAE,GAAGG,KAAKykC,cAAcnmC,YAAE0B,KAAK+jC,kBAAkB/jC,KAAK+hC,MAAM/hC,KAAK+jC,kBAAkBvlC,EAAEq+B,oBAAoBv+B,GAAGuB,EAAE+T,KAAKtV,EAAEm6B,oBAAoBz4B,KAAKokB,SAAS7B,OAAO1hB,IAAGb,KAAKokB,SAASjmB,IAAI0B,EAAEgB,KAAI,IAAI,MAAMhB,KAAKD,EAAEI,KAAKokB,SAASjmB,IAAI0B,EAAEmsB,OAAO8G,GAAG,gBAAgBlxB,IAAI5B,KAAKwhC,MAAMkD,cAAc1kC,KAAKokB,SAASjmB,IAAI6B,KAAKwhC,MAAMkD,aAAavb,MAAM,oBAAoBvnB,IAAIA,IAAI4iC,iCAAiC,MAAM3kC,EAAEG,KAAK88B,SAAS98B,KAAK68B,oBAAoBv+B,IAAIA,EAAEu2B,aAAah1B,GAAGG,KAAKgkC,cAAc1lC,EAAEw+B,YAAkC,uBAACj9B,GAAG,MAAMrB,EAAEF,YAAEuB,IAAI,aAAaA,EAAE+d,MAAM/d,EAAE+kC,aAAa,OAAQpmC,GAAGA,EAAEsC,OAAO,GAAGtC,EAAEqmC,MAAMhlC,GAAG,SAASA,EAAE+d,OAAOhe,GAAEgC,IAAG,MAAMf,GAAE,0B,cCAx/F,MAAMuB,WAAUxC,GAAEG,YAAYvB,GAAGuG,QAAQ/E,KAAKokB,SAAS,IAAIvkB,KAAEG,KAAKwhC,MAAMhjC,EAAEqY,KAAK7W,KAAKshC,MAAM9iC,EAAE+iC,KAAKvhC,KAAK8kC,cAActmC,EAAEumC,aAAa/kC,KAAKmjC,qBAAqBnjC,KAAK68B,oBAAoBr+B,GAAGwB,KAAKshC,MAAM9O,aAAar0B,IAAIK,KAAK2nB,UAAUnmB,KAAKokB,SAAS+B,UAAUnmB,KAAK68B,oBAAoBr+B,IAAIwB,KAAKshC,MAAM9O,aAAajQ,OAAO/jB,GAAGA,EAAE2nB,aAAanmB,KAAKshC,MAAM,KAAKthC,KAAKwhC,MAAM,KAAKxhC,KAAKojC,aAAa,KAAKpjC,KAAK8kC,cAAc,KAAKjI,mBAAmBr+B,GAAGA,EAAEwB,KAAKojC,aAAa,GAAGxB,0BAA0BpjC,GAAG,OAAO6D,GAAErC,KAAK8kC,cAActmC,GAAGA,GAAGwB,KAAK6hC,mBAAmBrjC,KAAKqjC,mBAAmBhiC,GAAG,MAAM7B,EAAEgC,KAAKwhC,MAAM5hC,EAAEI,KAAK8kC,cAAcnQ,QAAQtyB,EAAE7D,YAAEoB,EAAE4f,UAAU5f,EAAE4f,SAASpI,iBAAiB,KAAK,OAAO3Y,aAAEuB,KAAKojC,cAAc,CAAC5kC,EAAEC,EAAE2D,EAAEmB,EAAExC,KAAK,MAAM+D,EAAErG,EAAEo/B,KNA2jB,SAAWx/B,EAAEuB,EAAEpB,EAAER,GAAG,MAAM4D,EAAEhC,EAAEgjC,MAAMvkC,EAAE6hC,YAAY,CAAC3hC,QAAQ,CAACC,KAAK,OAAOC,YAAEmD,GAAGmK,GAAEnM,EAAEpB,EAAEoD,EAAE5D,GAAG,KMA9oB4D,CAAEb,EAAE/C,EAAE4B,EAAEyC,IAAIw7B,KAAKx/B,gBAAKw/B,KAAKv/B,gBAAKuB,EAAErB,EAAEsG,EAAE1C,EAAEmB,EAAExC,MAAMoiC,qBAAqB,MAAM3kC,EAAEwB,KAAKwhC,MAAM3hC,EAAEG,KAAK8kC,cAAcnQ,QAAQ30B,KAAKojC,aAAa,IAAIplC,KAAE,CAAC22B,QAAQ90B,EAAEgX,KAAKrY,EAAE04B,YAAW,EAAGE,OAAO,UCAk2B,MAAM1xB,GAAE3F,YAAYvB,GAAGwB,KAAKglC,YAAYxmC,EAAEwB,KAAK4d,KAAK,sBAAsB,MAAMjS,GAAE5L,YAAYvB,EAAEC,EAAEoB,GAAGG,KAAKilC,GAAGzmC,EAAEwB,KAAKklC,GAAGzmC,EAAEuB,KAAKglC,YAAYnlC,EAAEG,KAAK4d,KAAK,gBAAgB,MAAMhS,GAAE7L,YAAYvB,GAAGwB,KAAKglC,YAAYxmC,EAAEwB,KAAK4d,KAAK,qBAAqB,IAAIvG,GAAE,cAAchZ,IAAEmzB,aAAa3tB,MAAI9D,YAAYvB,GAAGuG,MAAMvG,GAAGwB,KAAKmlC,SAAS,IAAI9iC,KAAErC,KAAKolC,SAAQ,EAAGplC,KAAK4d,KAAK,UAAU5d,KAAKqlC,aAAa,IAAI9hC,KAAEvD,KAAKokB,SAAS,IAAI7gB,KAAEvD,KAAKslC,iBAAiB,IAAIz9B,KAAE8c,aAAa3kB,KAAKqlC,aAAalnC,IAAI,CAAC6B,KAAKmlC,SAASrS,GAAG,UAAU,IAAI9yB,KAAKulC,2BAA2BvlC,KAAKulC,uBAAuBpf,UAAUnmB,KAAKokB,SAAS+B,UAAUnmB,KAAKokB,SAAS,KAAKpkB,KAAKqlC,aAAalf,UAAUnmB,KAAKqlC,aAAa,KAAKrlC,KAAKmlC,SAASxD,YAAY3hC,KAAKqzB,KAAK,OAAO,MAAMyB,SAASyQ,uBAAuBvlC,KAAKokB,SAASud,YAAY3hC,KAAKwlC,mBAAmBxlC,KAAKwlC,kBAAkBrf,UAAUnmB,KAAKwyB,aAAamP,YAAY,MAAMnjC,EAAEwB,KAAKmlC,SAASM,UAAUC,QAAQlnC,GAAG,IAAI4N,aAAE5N,KAAK8zB,KAAK9zB,GAAG,IAAIuN,GAAEvN,KAAKA,EAAEsC,SAASd,KAAK2lC,mBAAmBnnC,GAAGwB,KAAK4lC,qBAAqBpnC,GAAGwB,KAAKokB,SAASjmB,IAAIK,EAAE8zB,KAAK9zB,GAAGwB,KAAK6W,KAAK+d,kBAAkBp2B,EAAE85B,UAAUt4B,KAAK6lC,uBAAuBrnC,IAAImnC,mBAAmBnnC,GAAG,IAAI,MAAMC,KAAKD,EAAE,CAAC,MAAMqB,EAAEpB,EAAE65B,MAAM75B,EAAEqnC,eAAe,IAAIp6B,GAAE,CAAC61B,KAAKvhC,KAAK6W,KAAK7W,KAAK6W,KAAKkuB,aAAallC,IAAIpB,EAAEqnC,eAAejJ,oBAAoBr+B,GAAGwB,KAAKokB,SAASjmB,IAAIK,EAAEwtB,OAAO8G,GAAG,mBAAmBt0B,IAAIwB,KAAK+tB,KAAK,kBAAkB,IAAIvvB,EAAEm2B,QAAQ90B,EAAE80B,UAAUn2B,EAAEunC,wBAAwB/lC,KAAKokB,SAASjmB,IAAIM,EAAEqnC,eAAejE,oBAAoB,CAACpjC,EAAEoB,EAAEvB,EAAEsB,IAAII,KAAKgmC,uBAAuBxnC,EAAE,EAAEC,EAAEoB,EAAEvB,EAAEsB,MAAMI,KAAKimC,uBAAuBznC,GAAGynC,uBAAuBznC,GAAG,MAAMqB,EAAE,IAAIsL,GAAE,CAACo2B,KAAKvhC,KAAK6W,KAAK7W,KAAK6W,KAAKmb,aAAY,EAAGoS,aAAY,EAAGC,iBAAgB,EAAGC,YAAW,EAAGhgC,OAAO,IAAI9F,EAAEsC,OAAOqK,GAAE+6B,gBAAgB1nC,EAAE,GAAGm2B,QAAQH,QAAQnlB,KAAIrP,KAAKwlC,kBAAkB3lC,EAAEA,EAAE4uB,cAAc,CAACU,KAAK,kBAAkBE,OAAO,GAAGxvB,EAAEg9B,oBAAoBr+B,IAAIwB,KAAKokB,SAASjmB,IAAIK,EAAEwtB,OAAO8G,GAAG,mBAAmBr0B,IAAIoB,EAAEskC,cAAchG,eAAe3/B,IAAI,IAAIwB,KAAKmlC,SAASrkC,QAAQd,KAAK+tB,KAAK,kBAAkB,IAAItvB,EAAEk2B,QAAQ30B,KAAKmlC,SAASgB,UAAU,KAAK1nC,EAAEsnC,yBAAyB,MAAMznC,EAAE,IAAI0B,KAAK6lC,uBAAuBrnC,GAAG,IAAI,MAAMC,KAAKD,EAAEwB,KAAKokB,SAASjmB,IAAI,CAACM,EAAE65B,MAAMxF,GAAG,UAAUx0B,GAAGG,EAAE65B,MAAMnP,MAAM,aAAa7qB,KAAK,MAAMsB,EAAEpB,EAAEA,EAAEsC,OAAO,GAAGd,KAAKokB,SAASjmB,IAAIyB,EAAE04B,MAAMxF,GAAG,WAAW,IAAI9yB,KAAKomC,4BAA4BxmC,MAAMI,KAAKokB,SAASjmB,IAAI0B,EAAEgiC,oBAAoB,CAACpjC,EAAEoB,EAAEvB,EAAEsB,EAAE5B,IAAIgC,KAAKgmC,uBAAuBxnC,EAAEC,EAAEoB,EAAEvB,EAAEsB,EAAE5B,IAAIoE,YAAExC,EAAE+0B,SAASl2B,YAAEmB,EAAE+0B,QAAQnV,UAAUpI,iBAAiBxX,EAAE+0B,UAAU30B,KAAKomC,4BAA4BxmC,GAAGgmC,qBAAqBpnC,GAAG,IAAI,MAAMC,KAAKD,EAAE,CAAC,MAAMqB,EAAEpB,EAAEk2B,QAAQr2B,EAAE0K,GAAE,CAAC6N,KAAK7W,KAAK6W,KAAK8d,QAAQ90B,EAAEg9B,mBAAmBr+B,IAAIC,EAAEqnC,eAAejJ,mBAAmBr+B,GAAGwB,KAAKwlC,kBAAkB3I,mBAAmBr+B,IAAI6+B,sBAAsB,IAAIz9B,iBAAMnB,EAAE4nC,uBAAuB/nC,EAAEy+B,cAAct+B,EAAE4nC,kCAAkCt7B,IAAG/K,KAAKokB,SAASjmB,IAAI,CAACM,EAAE4nC,uBAAuBra,OAAO8G,GAAG,6BAA6B,KAAKr0B,EAAE65B,MAAMnc,UAAUnc,KAAK6lC,uBAAuBrnC,MAAMC,EAAE65B,MAAMnP,MAAM,YAAY,IAAInpB,KAAK6lC,uBAAuBrnC,OAAOwB,KAAKokB,SAASjmB,IAAIG,IAAI8nC,4BAA4B5nC,GAAGwB,KAAKwlC,kBAAkBc,cAAc,IAAIp5B,GAAE1O,EAAEm2B,QAAQnV,UAAUqmB,uBAAuBrnC,GAAG,MAAMC,EAAEqG,YAAE,EAAE,EAAE,EAAE9E,KAAK6W,KAAKO,kBAAkB,IAAI9Y,EAAE,EAAEsB,GAAE,EAAG,MAAM5B,EAAEgC,KAAKwlC,kBAAkB,IAAI,MAAM5jC,KAAKpD,EAAE,CAAC,IAAIoD,EAAE02B,MAAM/G,WAAW,SAAS,MAAM/yB,EAAEoD,EAAE02B,MAAM3D,QAAQ30B,KAAKolC,SAAS7iC,GAAE/D,KAAKoB,GAAE,GAAI,MAAM5B,EAAE4D,EAAEykC,kCAAkCt7B,KAAInJ,EAAE02B,MAAMnc,SAASva,EAAEykC,uBAAuBjJ,iBAAiB5xB,GAAExL,KAAK6W,KAAKrY,GAAGqB,YAAE7B,KAAKS,EAAEsM,GAAG/M,EAAE+M,EAAEtM,EAAEoJ,GAAG7J,EAAE6J,EAAEpJ,EAAEiH,GAAG1H,EAAE0H,EAAEpH,KAAKA,EAAE,GAAGG,EAAEsM,GAAGzM,EAAEG,EAAEoJ,GAAGvJ,EAAEG,EAAEiH,GAAGpH,EAAEN,EAAE66B,SAASp6B,EAAET,EAAEimC,eAAexK,WAAU,EAAGz7B,EAAEkmC,mBAAmBzK,WAAU,EAAGz7B,EAAEmmC,cAAc1K,UAAU75B,GAAG5B,EAAEy7B,WAAU,EAAGuM,uBAAuBxnC,EAAEC,EAAEoB,EAAEvB,EAAEsB,EAAE5B,GAAG,MAAM4D,EAAE,GAAGvD,EAAE,GAAG,IAAIgE,EAAE,KAAKkB,EAAE,KAAK,MAAMxC,EAAE,KAAK,IAAI,MAAMvC,KAAKoD,EAAEpD,EAAE84B,UAAS,EAAG11B,EAAEd,OAAO,EAAEzC,EAAEyC,OAAO,EAAEuB,EAAE,KAAKkB,EAAE,KAAKvD,KAAKwlC,kBAAkB3Q,aAAY,GAAI,GAAG,IAAIr2B,EAAEsC,QAAQ,IAAIrC,EAAE,CAAC,MAAMA,EAAED,EAAE,GAAGm2B,QAAQr2B,EAAE0B,KAAKumC,2BAA2B9nC,EAAE2D,YAAE3D,GAAGH,EAAEsB,EAAE5B,GAAG,MAAM8G,EAAExG,EAAEu/B,MAAMp/B,IAAI,GAAG,UAAUA,EAAEy6B,OAAO,CAACt3B,EAAEd,OAAO,EAAEzC,EAAEyC,OAAO,EAAE,IAAI,MAAMrC,KAAKD,EAAEC,EAAE64B,WAAW74B,EAAEqnC,eAAe3H,eAAet+B,IAAIpB,EAAEqnC,eAAehJ,WAAWl7B,EAAEgS,KAAKnV,GAAGJ,EAAEuV,KAAKnV,EAAEk2B,SAASl2B,EAAE64B,UAAS,GAAI,GAAG,IAAIj5B,EAAEyC,SAASd,KAAKwlC,kBAAkB3Q,aAAY,EAAGxyB,EAAE2K,aAAE3O,GAAGkF,EAAES,aAAE3F,GAAG2B,KAAK+tB,KAAK,qBAAqB,IAAIroB,GAAErH,IAAI2B,KAAKwmC,WAAW,OAAO,KAAK,OAAO,IAAInoC,EAAEyC,OAAOrC,EAAE,QAAQo/B,MAAMr/B,GAAG6D,EAAE7D,KAAKq/B,MAAMr/B,IAAI,OAAOA,EAAE06B,QAAQ,IAAI,QAAQ,IAAI,SAAS,GAAG16B,EAAEs/B,cAAct/B,EAAEu/B,cAAcv/B,EAAEw/B,aAAa,CAAC,MAAMv/B,EAAEuB,KAAK6W,KAAK4vB,SAASjoC,EAAEiiC,UAAU5gC,EAAEG,KAAK6W,KAAK4vB,SAASjoC,EAAEkiC,QAAQpiC,EAAEuB,EAAEkL,EAAEtM,EAAEsM,EAAEnL,EAAEC,EAAEgI,EAAEpJ,EAAEoJ,EAAE,GAAG7H,KAAK+tB,KAAK,eAAe,IAAIpiB,GAAErN,EAAEsB,EAAEvB,IAAI2B,KAAKwmC,UAAU,OAAO,KAAK,MAAM,IAAI,MAAM,GAAGxmC,KAAK+tB,KAAK,oBAAoB,IAAIniB,GAAEvN,IAAI2B,KAAKwmC,UAAU,OAAO,KAAKzlC,QAAQ,OAAOnB,EAAEi+B,MAAMr/B,GAAG+E,EAAE/E,KAAKq/B,MAAM,KAAK,GAAG79B,KAAK+tB,KAAK,oBAAoB,IAAIniB,GAAEvN,IAAI2B,KAAKwmC,UAAU,OAAO,KAAKzlC,OAAO+D,EAAEyhC,2BAA2B/nC,EAAEC,EAAEoB,EAAED,EAAE5B,GAAG,MAAM4D,EAAEpD,EAAEghB,SAAS,GAAGlhB,YAAEsD,IAAI,UAAUA,EAAEgc,KAAK,OAAO/d,EAAE,MAAMxB,EAAE,IAAIiE,KAAE,CAACmsB,cAAchwB,EAAEioC,QAAQ1oC,EAAEwhB,SAAS,IAAI5c,KAAE/B,KAAE8lC,aAAa/kC,EAAE5B,KAAK6W,KAAKzC,aAAa,SAASwyB,WAAW,IAAI96B,KAAE+6B,eAAeroC,IAAI6D,EAAErC,KAAKiyB,gBAAgB,OAAOpyB,EAAEg+B,MAAMp/B,IAAI,MAAMoB,EAAE+B,EAAEO,QAAkE,OAA1DtC,EAAE6F,EAAE3E,YAAEf,KAAK6W,KAAKhX,EAAEuC,YAAE5D,GAAG,CAAC2wB,KAAK,kBAAkBE,OAAO,IAAU,IAAI5wB,EAAEqoC,WAAWzoC,EAAEw1B,iBAAiBkT,UAAUlnC,OAAOg+B,KAAK79B,KAAKslC,iBAAiB0B,gCAAgC,CAACC,gBAAgB5oC,EAAE4zB,gBAAgB5vB,EAAEmzB,OAAO51B,IAAII,KAAKslC,iBAAiBzH,QAAQr/B,YAAE,CAACR,YAAE,CAAC8rB,eAAc,EAAG6L,aAAY,KAAMte,GAAErG,UAAU,YAAO,GAAQxS,YAAE,CAACR,YAAE,CAACgsB,UAAS,KAAM3S,GAAErG,UAAU,gBAAW,GAAQxS,YAAE,CAACR,YAAE,CAAC8rB,eAAc,EAAG6L,aAAY,KAAMte,GAAErG,UAAU,eAAU,GAAQxS,YAAE,CAACR,YAAE,CAAC8rB,eAAc,KAAMzS,GAAErG,UAAU,uBAAkB,GAAQxS,YAAE,CAACR,YAAE,CAACgsB,UAAS,KAAM3S,GAAErG,UAAU,YAAO,GAAQqG,GAAE7Y,YAAE,CAACoD,YAAE,yEAAyEyV,IAAG,MAAMtL,GAAEhM,YAAYvB,GAAGwB,KAAKs4B,MAAM,KAAKt4B,KAAKqmC,uBAAuB,KAAKrmC,KAAK8lC,eAAe,KAAK9lC,KAAKs3B,UAAS,EAAGt3B,KAAKs4B,MAAM,IAAI3qB,GAAE,CAACgnB,QAAQn2B,IAAe,cAAG,OAAOwB,KAAKs4B,MAAM3D,S,cCA74K,IAAIpM,GAAE,cAAclmB,IAAEgvB,gBAAgBtxB,YAAYtB,GAAGsG,MAAMtG,GAAGuB,KAAKknC,2BAA2BrjC,GAAEqH,EAAEpF,YAAYoF,EAAEtF,oBAAoBvC,OAAOb,OAAO0I,EAAEtF,oBAAoBvC,OAAOV,gBAAgB3C,KAAKmnC,kCAAkC79B,GAAE4B,EAAEpF,YAAYoF,EAAEtF,oBAAoBvC,OAAOL,cAAckI,EAAEtF,oBAAoBvC,OAAOV,gBAAgB3C,KAAKonC,uCAAuC99B,GAAE4B,EAAEpF,YAAYoF,EAAEtF,oBAAoBvC,OAAOJ,mBAAmBiI,EAAEtF,oBAAoBvC,OAAOV,gBAAgB3C,KAAKqnC,yBAAyBxjC,GAAEqH,EAAEpF,YAAYoF,EAAEtF,oBAAoBtC,KAAKd,OAAO0I,EAAEtF,oBAAoBtC,KAAKX,gBAAgB3C,KAAKsnC,gCAAgCh+B,GAAE4B,EAAEpF,YAAYoF,EAAEtF,oBAAoBtC,KAAKN,cAAckI,EAAEtF,oBAAoBtC,KAAKX,gBAAgB3C,KAAKunC,6BAA6B1jC,GAAEqH,EAAEpF,YAAYoF,EAAEtF,oBAAoB7D,SAASS,OAAO0I,EAAEtF,oBAAoB7D,SAASY,gBAAgB3C,KAAKwnC,oCAAoCl+B,GAAE4B,EAAEpF,YAAYoF,EAAEtF,oBAAoB7D,SAASiB,cAAckI,EAAEtF,oBAAoB7D,SAASY,gBAAgB3C,KAAKynC,yCAAyCn+B,GAAE4B,EAAEpF,YAAYoF,EAAEtF,oBAAoB7D,SAASkB,mBAAmBiI,EAAEtF,oBAAoB7D,SAASY,gBAAgB3C,KAAK0nC,eAAe,EAAE1nC,KAAK2nC,2BAA2B,KAAK3nC,KAAK4nC,kCAAkC,KAAK5nC,KAAK6nC,yBAAyB,KAAK7nC,KAAK8nC,gCAAgC,KAAK9nC,KAAKokB,SAAS,IAAItf,KAAE9E,KAAK+nC,oBAAoB,IAAIjjC,KAAE9E,KAAKgoC,kBAAkB,GAAGhoC,KAAKioC,eAAe,KAAKjoC,KAAKkoC,yBAAyB,KAAKloC,KAAKwlC,kBAAkB,KAAKxlC,KAAKmoC,aAAa,EAAEnoC,KAAKooC,aAAa,EAAEpoC,KAAKqoC,mBAAmB,EAAEroC,KAAK4xB,sBAAsB,KAAK5xB,KAAKuhC,KAAK,KAAKvhC,KAAKsoC,eAAe,KAAKtoC,KAAKuoC,kBAAkB,IAAIr+B,KAAElK,KAAKwoC,wBAAwB,IAAIt+B,KAAElK,KAAKyoC,8BAA8B,KAAK9jB,aAAa,MAAMlmB,EAAE,IAAIiO,GAAE,CAACioB,QAAQ30B,KAAK20B,UAAU30B,KAAK8kC,cAAcrmC,EAAEuB,KAAKokB,SAASjmB,IAAI,CAACM,EAAE0qB,MAAM,cAAc1qB,IAAI,IAAI,MAAMD,KAAKwB,KAAKgoC,kBAAkBxpC,EAAEkjC,YAAYjI,UAAUh7B,KAAKuB,KAAK6W,KAAK+d,kBAAkBn2B,KAAK0nB,UAAUnmB,KAAK0oC,SAAS1oC,KAAKokB,SAAS+B,UAA2B,oBAAG,OAAO3nB,YAAEwB,KAAKioC,gBAAgBjoC,KAAKioC,eAAezoB,SAAS,KAAsB,kBAAC/gB,GAAGuB,KAAK2oC,sBAAsBlqC,GAAmB,mBAAG,OAAOuB,KAAKuhC,KAAK/O,aAAqB,WAAG,OAAOxyB,KAAKuhC,KAAK1qB,KAAgB,cAAG,OAAO7W,KAAKuhC,KAAK5M,QAAmB,cAAG,OAAO30B,KAAKuhC,KAAK6D,QAA6B,wBAAG,OAAOplC,KAAKuhC,KAAKqH,kBAAkBC,yBAAyB,MAAMpqC,EAAEuB,KAAKgoC,kBAAkBtC,QAAQjnC,GAAGA,EAAEijC,YAAY3/B,UAAU,WAAWtD,EAAEqqC,OAAOlrB,OAAO5d,KAAK+oC,gBAAgBtqC,GAAGuqC,8BAA8BhpC,KAAK+tB,KAAK,wBAAwB2a,SAAS1oC,KAAKwlC,kBAAkB3lC,YAAEG,KAAKwlC,mBAAmBxlC,KAAKkoC,yBAAyBroC,YAAEG,KAAKkoC,0BAA0BloC,KAAK+nC,oBAAoBpG,YAAY3hC,KAAKwyB,aAAamP,YAAY3hC,KAAKgoC,kBAAkB,GAAGhoC,KAAKioC,eAAepoC,YAAEG,KAAKioC,gBAAgBjoC,KAAKmoC,aAAa,EAAEnoC,KAAKooC,aAAa,EAAEO,sBAAsBlqC,EAAEuB,KAAKipC,eAAe,GAAGjpC,KAAK0oC,SAASpqC,YAAEG,GAAG,OAAOoB,YAAEG,KAAKioC,gBAAgBjoC,KAAKioC,eAAe,IAAI55B,GAAExG,KAAE8+B,aAAaloC,EAAEuB,KAAK6W,KAAKzC,aAAa3V,EAAEmf,MAAM,MAAMpf,EAAE4N,YAAEpM,KAAK20B,SAAS,IAAI,MAAM90B,KAAKG,KAAKioC,eAAeiB,aAAaC,WAAW,CAAC,IAAI,MAAM1qC,KAAKoB,EAAE+wB,SAAS5wB,KAAKopC,4BAA4B3qC,EAAED,GAAG,IAAI,MAAMC,KAAKoB,EAAEwpC,MAAMrpC,KAAKopC,4BAA4B3qC,EAAED,GAAGwB,KAAKspC,+BAA+B9qC,GAAG+qC,iCAAiC9qC,EAAED,GAAG,GAAG,QAAQA,EAAE06B,OAAO,OAAO,MAAMr5B,EAAE,GAAGvB,EAAE0B,KAAKgoC,kBAAkBnD,MAAMpmC,GAAG,WAAWA,EAAEqqC,OAAOlrB,MAAMnf,EAAEijC,YAAY3/B,WAAW/D,EAAE,IAAIS,GAAGH,EAAEsB,EAAEvB,YAAE2B,KAAKioC,gBAAgB,IAAI,MAAM5lC,KAAKrC,KAAKgoC,kBAAkB,WAAW3lC,EAAEymC,OAAOlrB,OAAOvb,EAAEq/B,YAAY5E,UAAU9+B,IAAIqE,EAAEq/B,YAAY3/B,WAAW1D,YAAEuB,GAAG4pC,aAAa,CAACnnC,EAAEymC,QAAQtqC,EAAEirC,UAAUjrC,EAAEkrC,UAAUlrC,EAAEmrC,WAAW9pC,EAAE+T,KAAKvR,EAAEymC,OAAOc,KAAK5pC,KAAK6pC,2BAA2BxnC,KAAK,GAAG,IAAIxC,EAAEiB,OAAO,OAAO,IAAIc,EAAE,EAAE,IAAI,MAAMvD,KAAK2B,KAAKgoC,kBAAkB,WAAW3pC,EAAEyqC,OAAOlrB,MAAMhc,IAAmC,GAA/B5B,KAAKsoC,eAAe1oC,EAAE4f,SAAY3f,EAAEiB,SAASc,EAAE,CAAC,GAAG5B,KAAK8pC,kBAAkB,GAAG9pC,KAAKwmC,UAAU,OAAO,GAAGxmC,KAAK+tB,KAAK,OAAO,CAACnQ,KAAK,OAAOqnB,GAAGzmC,EAAEk/B,aAAawH,GAAG1mC,EAAEo/B,aAAamM,MAAM/pC,KAAK20B,UAAU30B,KAAKwmC,UAAU,WAAW,CAAC,GAAGxmC,KAAK8pC,kBAAkB,GAAG9pC,KAAKwmC,UAAU,OAAO,GAAGxmC,KAAK+tB,KAAK,UAAU,CAACnQ,KAAK,UAAUmsB,MAAM/pC,KAAK20B,UAAU30B,KAAKwmC,UAAU,QAAQwD,yBAAyB,IAAIvrC,EAAE,EAAE,IAAI,MAAMD,KAAKwB,KAAKgoC,kBAAkBj5B,GAAEvQ,IAAIA,EAAEkjC,YAAY3/B,UAAUtD,IAAI,OAAOA,EAAE,EAAEwrC,gCAAgCxrC,GAAG,GAAGuB,KAAK8pC,kBAAkB,GAAG9pC,KAAKwmC,UAAU,OAAO,MAAMhoC,EAAEC,EAAEgrC,UAAU5pC,EAAEpB,EAAEirC,UAAUprC,EAAEG,EAAEkrC,UAAU,IAAInrC,IAAIqB,IAAIvB,EAAE,OAAO,MAAMN,EAAE,GAAG,IAAI,MAAMK,KAAK2B,KAAKgoC,kBAAkBj5B,GAAE1Q,KAAKA,EAAEqjC,YAAY3/B,WAAW1D,EAAEqjC,YAAY5E,UAAUz+B,IAAII,EAAEyrC,OAAOlsC,EAAE4V,KAAKvV,GAAG,MAAMuB,EAAEvB,YAAE2B,KAAKioC,gBAAgB,IAAI,MAAM5pC,KAAKL,EAAE4B,EAAE4pC,aAAa,CAACnrC,EAAEyqC,QAAQtqC,EAAEqB,EAAEvB,GAAG0B,KAAKsoC,eAAe1oC,EAAE4f,SAAS,IAAI,MAAMnhB,KAAKL,EAAEgC,KAAK6pC,2BAA2BxrC,GAAG2B,KAAK+tB,KAAK,UAAU,CAACnQ,KAAK,UAAUmsB,MAAM/pC,KAAK20B,UAAUmV,kBAAkBrrC,GAAG,GAAGA,IAAIuB,KAAKqoC,mBAAmB,OAAM,EAAG,OAAO5pC,GAAG,KAAK,EAAE,GAAG,IAAIuB,KAAKmoC,cAAc,IAAInoC,KAAKooC,aAAa,OAAM,EAAG,OAAOpoC,KAAKqoC,oBAAoB,KAAK,EAAEroC,KAAK+tB,KAAK,OAAO,CAACnQ,KAAK,YAAYqnB,GAAG,EAAEC,GAAG,EAAE6E,MAAM/pC,KAAK20B,UAAU,MAAM,KAAK,EAAE30B,KAAK+tB,KAAK,UAAU,CAACnQ,KAAK,eAAemsB,MAAM/pC,KAAK20B,UAAU,MAAM,KAAK,EAAE,OAAO30B,KAAKqoC,oBAAoB,KAAK,EAAEroC,KAAK+tB,KAAK,OAAO,CAACnQ,KAAK,aAAaqnB,GAAG,EAAEC,GAAG,EAAE6E,MAAM/pC,KAAK20B,UAAU,MAAM,KAAK,EAAE30B,KAAK+tB,KAAK,UAAU,CAACnQ,KAAK,eAAemsB,MAAM/pC,KAAK20B,UAAU30B,KAAKwmC,WAAWxmC,KAAK+tB,KAAK,OAAO,CAACnQ,KAAK,aAAaqnB,GAAG,EAAEC,GAAG,EAAE6E,MAAM/pC,KAAK20B,UAAU,MAAM,KAAK,EAAE,OAAO30B,KAAKqoC,oBAAoB,KAAK,EAAEroC,KAAK+tB,KAAK,UAAU,CAACnQ,KAAK,gBAAgBmsB,MAAM/pC,KAAK20B,UAAU,MAAM,KAAK,EAAE30B,KAAK+tB,KAAK,OAAO,CAACnQ,KAAK,YAAYqnB,GAAG,EAAEC,GAAG,EAAE6E,MAAM/pC,KAAK20B,UAAU30B,KAAKwmC,WAAWxmC,KAAK+tB,KAAK,UAAU,CAACnQ,KAAK,gBAAgBmsB,MAAM/pC,KAAK20B,WAAW,GAAG30B,KAAKwmC,UAAU,OAAM,EAAG,MAAMhoC,EAAEwB,KAAKqoC,qBAAqB5pC,EAAE,OAAOuB,KAAKqoC,mBAAmB5pC,EAAED,EAAE8qC,+BAA+B7qC,GAAGuB,KAAKkoC,yBAAyB,IAAIz+B,GAAE,CAAC83B,KAAKvhC,KAAKuhC,KAAK1qB,KAAK7W,KAAK6W,KAAKkuB,aAAa/kC,KAAK8kC,gBAAgB9kC,KAAK4oC,kBAAkB5oC,KAAK+nC,oBAAoB5pC,IAAI6B,KAAKkoC,yBAAyBrG,oBAAoB,CAACpjC,EAAED,EAAEqB,KAAKrB,EAAEq/B,MAAMp/B,GAAGuB,KAAKmqC,kBAAkB1rC,KAAKo/B,MAAMp/B,IAAIuB,KAAKupC,iCAAiC,EAAE9qC,MAAMoB,EAAEg+B,KAAK79B,KAAKoqC,4BAA4BpqC,KAAKkoC,yBAAyBrL,oBAAoBp+B,IAAIA,EAAE04B,WAAU,EAAG14B,EAAE24B,OAAO,QAAQp3B,KAAKkoC,yBAAyBrL,oBAAoBp+B,GAAGuB,KAAK+nC,oBAAoB5pC,IAAI,CAAC6B,KAAKqqC,yBAAyB5rC,GAAE,GAAIA,EAAEutB,OAAO8G,GAAG,mBAAmBr0B,IAAIuB,KAAKgoC,kBAAkBnD,MAAMpmC,GAAGA,EAAEijC,YAAY3/B,WAAW/B,KAAKsqC,kBAAkBtqC,KAAK+tB,KAAK,kBAAkB,IAAItvB,EAAEk2B,QAAQ30B,KAAK20B,UAAUl2B,EAAEsnC,yBAAyB/lC,KAAKwlC,kBAAkB,IAAI9/B,GAAE,CAAC67B,KAAKvhC,KAAKuhC,KAAK1qB,KAAK7W,KAAK6W,KAAKutB,aAAY,EAAGC,iBAAgB,EAAGC,WAAWtkC,KAAKolC,SAAS55B,GAAExL,KAAK20B,SAAS3C,aAAY,EAAG1tB,OAAOoB,GAAEwgC,gBAAgBlmC,KAAK20B,QAAQH,UAAUx0B,KAAKwlC,kBAAkB3I,oBAAoBp+B,IAAIuB,KAAKokB,SAASjmB,IAAI,CAAC6B,KAAKqqC,yBAAyB5rC,GAAE,GAAIA,EAAEutB,OAAO8G,GAAG,mBAAmBt0B,IAAIwB,KAAKwlC,kBAAkBrB,cAAchG,eAAe1/B,IAAIuB,KAAKgoC,kBAAkBnD,MAAMpmC,GAAGA,EAAEijC,YAAY3/B,YAAY/B,KAAK+tB,KAAK,kBAAkB,IAAIvvB,EAAEm2B,QAAQ30B,KAAK20B,UAAUn2B,EAAEunC,0BAA0B/lC,KAAKwlC,kBAAkB/W,cAAc,CAACU,KAAK,kBAAkBE,OAAO,GAAG,MAAMxvB,EAAExB,YAAE2B,KAAK20B,QAAQnV,UAAUpI,iBAAiBpX,KAAKokB,SAASjmB,IAAI,CAAC6B,KAAKwlC,kBAAkB3D,oBAAoB,CAACrjC,EAAEqB,EAAEvB,EAAEN,EAAE4B,KAAK,MAAMgC,EAAEtD,EAAEu/B,MAAMp/B,GAAGuB,KAAKmqC,kBAAkB1rC,KAAKo/B,MAAMp/B,IAAI,MAAMD,EAAEwB,KAAKgoC,kBAAkBtC,QAAQjnC,GAAGsQ,GAAEtQ,IAAIA,EAAEijC,YAAY3/B,WAAW,OAAO,IAAItD,EAAEqjC,iBAAiB,IAAItjC,EAAEsC,OAAO,IAAIrC,EAAEyrC,KAAK1rC,EAAE,GAAGsoC,WAAWtoC,EAAE,GAAGsqC,OAAOc,KAAK,IAAInrC,EAAEyrC,KAAK,SAASrM,KAAK79B,KAAKwoC,wBAAwBxB,gCAAgC,CAACuD,UAAU9rC,KAAKA,EAAEyrC,KAAK1U,OAAOx3B,EAAEi0B,gBAAgBjyB,KAAKuhC,KAAKtP,gBAAgBgV,gBAAgB,IAAI1kC,KAAE,CAACid,SAASnhB,YAAE2B,KAAKioC,gBAAgBxZ,cAAchwB,EAAEioC,QAAQ9mC,EAAEinC,eAAe7mC,KAAK20B,QAAQiS,WAAW,IAAIv6B,SAAMrM,KAAKwoC,wBAAwB3K,MAAMA,KAAKnyB,gBAAKmyB,MAAMp/B,IAAIuB,KAAKupC,iCAAiC,EAAE9qC,GAAGA,KAAK,OAAOT,EAAE6/B,KAAK79B,KAAKoqC,wBAAwBxoC,IAAInD,EAAEoB,EAAEG,KAAK20B,SAASryB,YAAEtC,KAAK8kC,cAAc,cAAc,KAAK9kC,KAAKwqC,qCAAqCxqC,KAAK8kC,cAAchS,GAAG,WAAW,IAAI9yB,KAAKwqC,oCAAoCloC,YAAEtC,KAAK8kC,cAAc,YAAY,KAAK,MAAMrmC,EAAE,0BAA0BuB,KAAK8kC,cAAc3oB,SAASnc,KAAKokB,SAASjmB,IAAI6B,KAAK6W,KAAK0X,kBAAkBuE,GAAG,oBAAoB,IAAI9yB,KAAKwqC,oCAAoC/rC,GAAGuB,KAAKokB,SAAS7B,OAAO9jB,QAAQuB,KAAKwqC,kCAAkC,MAAMlsC,EAAEmK,GAAE,CAACoO,KAAK7W,KAAK6W,KAAK8d,QAAQ30B,KAAK20B,QAAQkI,mBAAmBp+B,IAAI,IAAIuB,KAAKwmC,UAAU,CAAChoC,YAAEwB,KAAKkoC,2BAA2BloC,KAAKkoC,yBAAyBrL,mBAAmBp+B,GAAG,IAAI,MAAMD,KAAKwB,KAAKgoC,kBAAkBvpC,EAAED,EAAEkjC,YAAY,GAAG1hC,KAAKwlC,kBAAkB3I,mBAAmBp+B,KAAK4+B,sBAAsB5+B,GAAGuB,KAAK8yB,GAAG,uBAAuBr0B,KAAKuB,KAAK4xB,sBAAsBtzB,EAAEy+B,yBAAyB7vB,GAAE5O,EAAEy+B,cAAc,KAAKv+B,YAAEwB,KAAK4xB,wBAAwB5xB,KAAK+nC,oBAAoB5pC,IAAI,CAAC6B,KAAK4xB,sBAAsB5F,OAAO8G,GAAG,6BAA6B,KAAK9yB,KAAK8kC,cAAc3oB,UAAUnc,KAAKwqC,qCAAqCxqC,KAAK8kC,cAAc3b,MAAM,YAAY,IAAInpB,KAAKwqC,sCAAsCxqC,KAAK+nC,oBAAoB5pC,IAAIG,GAAG8qC,4BAA4B3qC,EAAED,EAAE4N,YAAEpM,KAAK20B,UAAU,GAAGr2B,YAAE0B,KAAK2nC,6BAA6BrpC,YAAE0B,KAAK4nC,mCAAmC,CAAC,MAAMnpC,EAAEyM,EAAEtF,oBAAoBvC,OAAO7E,EAAEC,EAAEoE,KAAK,EAAEhD,EAAErB,EAAEC,EAAEsE,iBAAiBzE,EAAEE,EAAEqB,EAAEG,KAAK2nC,2BAA2B3jC,KAAEotB,qBAAqB9yB,EAAE,GAAG,IAAI,MAAMD,GAAGG,EAAEC,EAAEqE,aAAajD,EAAEG,KAAK4nC,kCAAkC5jC,KAAEotB,qBAAqB/yB,EAAE,GAAG,IAAI,GAAGC,YAAE0B,KAAK6nC,2BAA2BvpC,YAAE0B,KAAK8nC,iCAAiC,CAAC,MAAMrpC,EAAEyM,EAAEtF,oBAAoBtC,KAAK9E,EAAEC,EAAEoE,KAAK,EAAEhD,EAAErB,EAAEC,EAAEsE,iBAAiBzE,EAAEE,EAAEqB,EAAEG,KAAK6nC,yBAAyB7jC,KAAEotB,qBAAqB9yB,EAAE,GAAG,IAAI,MAAMD,GAAGG,EAAEC,EAAEqE,aAAajD,EAAEG,KAAK8nC,gCAAgC9jC,KAAEotB,qBAAqB/yB,EAAE,GAAG,IAAI,MAAMwB,EAAE,IAAIwP,GAAE,CAACwH,KAAK7W,KAAK6W,KAAKilB,cAAc,CAAC,CAACtc,SAASxf,KAAK2nC,2BAA2B3hC,SAAShG,KAAKknC,2BAA2BxL,UAAU,EAAEz2B,GAAEwlC,QAAQ,CAACjrB,SAASxf,KAAK4nC,kCAAkC5hC,SAAShG,KAAKmnC,kCAAkCzL,UAAU,EAAEz2B,GAAEwlC,QAAQ,CAACjrB,SAASxf,KAAK4nC,kCAAkC5hC,SAAShG,KAAKonC,uCAAuC1L,UAAU,EAAEz2B,GAAEwlC,QAAQ,CAACjrB,SAASxf,KAAK6nC,yBAAyB7hC,SAAShG,KAAKknC,2BAA2BxL,UAAU,EAAEz2B,GAAEylC,MAAM,CAAClrB,SAASxf,KAAK4nC,kCAAkC5hC,SAAShG,KAAKonC,uCAAuC1L,UAAU,EAAEz2B,GAAEylC,MAAM,CAAClrB,SAASxf,KAAK6nC,yBAAyB7hC,SAAShG,KAAKqnC,yBAAyB3L,UAAU,EAAEz2B,GAAEylC,MAAM,CAAClrB,SAASxf,KAAK8nC,gCAAgC9hC,SAAShG,KAAKsnC,gCAAgC5L,UAAU,EAAEz2B,GAAEylC,MAAM,CAAClrB,SAASxf,KAAK2nC,2BAA2B3hC,SAAShG,KAAKunC,6BAA6B7L,UAAU,GAAG,CAAClc,SAASxf,KAAK4nC,kCAAkC5hC,SAAShG,KAAKwnC,oCAAoC9L,UAAU,GAAG,CAAClc,SAASxf,KAAK4nC,kCAAkC5hC,SAAShG,KAAKynC,yCAAyC/L,UAAU,KAAKjN,cAAcjwB,EAAEg4B,gBAAgB,EAAEC,gBAAgB,EAAEgD,aAAaz5B,KAAK20B,QAAQpuB,UAAUvG,KAAK20B,QAAQsH,MAAM11B,WAAWvG,KAAK2qC,oCAAoC9qC,EAAEpB,EAAED,GAAG,MAAMoB,EAAE,SAASnB,EAAEmf,KAAK,CAAC8jB,YAAY7hC,EAAEipC,OAAOrqC,EAAEmsC,qBAAqB,KAAKhtB,KAAK,OAAOitB,cAAc,GAAG,CAACnJ,YAAY7hC,EAAEipC,OAAOrqC,EAAEmf,KAAK,SAASitB,cAAc,GAAG,GAAG7qC,KAAKgoC,kBAAkBp0B,KAAKhU,GAAGI,KAAKwyB,aAAar0B,IAAI0B,GAAGG,KAAK6pC,2BAA2BjqC,GAAG,SAASA,EAAEge,KAAK,CAAC,MAAMnf,EAAEuB,KAAK8qC,8BAA8BlrC,EAAEkpC,OAAOiC,MAAMrJ,YAAY1V,OAAO8G,GAAG,mBAAmB,IAAI9yB,KAAK6pC,2BAA2BjqC,KAAKpB,EAAEwB,KAAK8qC,8BAA8BlrC,EAAEkpC,OAAOkC,OAAOtJ,YAAY1V,OAAO8G,GAAG,mBAAmB,IAAI9yB,KAAK6pC,2BAA2BjqC,KAAKA,EAAEgrC,qBAAqB5sC,aAAE,CAACS,EAAED,IAAIwB,KAAK+nC,oBAAoB5pC,IAAIyB,EAAEgrC,qBAAqB/qC,GAAGG,KAAK+nC,oBAAoB5pC,IAAI6B,KAAKqqC,yBAAyBxqC,GAAE,GAAIA,GAAG,MAAM+B,EAAEoH,aAAEnJ,GAAG,CAACpB,EAAEoB,EAAEvB,EAAEN,KAAK6B,EAAEg+B,MAAMp/B,GAAGuB,KAAKmqC,kBAAkB1rC,KAAKo/B,MAAMp/B,IAAI,GAAGkN,GAAE/L,GAAG,CAAC,MAAMpB,EAAEwB,KAAKirC,sBAAsBrrC,GAAG,MAAM,IAAInB,EAAEyrC,KAAK1rC,EAAEsoC,WAAWtoC,EAAEsqC,OAAOc,KAAK,MAAM,IAAInrC,EAAEyrC,KAAKtqC,EAAEknC,WAAWlnC,EAAEkpC,OAAOc,QAAQ/L,KAAKlwB,aAAE3N,KAAK6W,KAAKpY,EAAEk6B,2BAA2BkF,KAAKxmB,GAAErX,KAAK6W,KAAK7W,KAAK20B,QAAQl2B,EAAEk6B,yBAAyBl6B,EAAEo6B,SAASzhB,iBAAiBpX,KAAK20B,UAAUkJ,KAAK79B,KAAKuoC,kBAAkBvB,gCAAgC,CAACuD,UAAU,KAAKvqC,KAAKgqC,yBAAyBxU,OAAOl3B,EAAE2zB,gBAAgBjyB,KAAKuhC,KAAKtP,gBAAgBgV,gBAAgB,IAAI1kC,KAAE,CAACid,SAASnhB,YAAE2B,KAAKioC,gBAAgBxZ,cAAcjwB,EAAEkoC,QAAQ1oC,EAAE6oC,eAAe7mC,KAAK20B,QAAQiS,WAAW,IAAIv6B,SAAMrM,KAAKuoC,kBAAkB1K,MAAMA,KAAKnyB,gBAAKmyB,MAAMp/B,IAAIuB,KAAKiqC,gCAAgCxrC,MAAMH,EAAEu/B,KAAK79B,KAAKoqC,2BAA2B,OAAOpqC,KAAK+nC,oBAAoB5pC,IAAIyD,EAAE/B,GAAGG,KAAK+nC,oBAAoB5pC,IAAI,CAAC0B,EAAEmsB,OAAO8G,GAAG,mBAAmBr0B,GAAGuB,KAAKkrC,0BAA0BzsC,EAAEmB,KAAKC,EAAEmsB,OAAO8G,GAAG,kBAAkB,KAAKlzB,EAAEirC,gBAAgB7qC,KAAK0nC,eAAe1nC,KAAKwqC,uCAAuCxqC,KAAK+tB,KAAK,wBAAwBluB,EAAEsqC,kBAAkB1rC,GAAG,OAAOA,EAAEy6B,QAAQ,IAAI,QAAQl5B,KAAKooC,eAAe,MAAM,IAAI,MAAMpoC,KAAKooC,eAAe,OAAO3pC,EAAE2rC,uBAAuB,MAAM3rC,EAAED,YAAEwB,KAAKioC,gBAAgBjoC,KAAKioC,eAAezoB,SAASrd,QAAQ,KAAK,MAAM,KAAK,OAAOnC,KAAKooC,eAAepoC,KAAKipC,cAAcxqC,EAAEuB,KAAKsoC,eAAe7pC,EAAED,YAAEwB,KAAKuhC,KAAKtP,kBAAkBjyB,KAAKuhC,KAAKtP,gBAAgBkZ,eAAenrC,KAAKqoC,oBAAoB,KAAK,EAAE,MAAM,KAAK,EAAEroC,KAAK+tB,KAAK,OAAO,CAACnQ,KAAK,OAAOqnB,GAAG,EAAEC,GAAG,EAAE6E,MAAM/pC,KAAK20B,UAAU,MAAM,KAAK,EAAE30B,KAAK+tB,KAAK,UAAU,CAACnQ,KAAK,UAAUmsB,MAAM/pC,KAAK20B,UAAU30B,KAAKwmC,WAAWxmC,KAAK8pC,kBAAkB,IAAIa,oCAAoClsC,EAAED,EAAEqB,GAAG,OAAOrB,EAAEof,MAAM,IAAI,SAASnf,EAAE65B,MAAMrzB,GAAEwlC,OAAOhsC,EAAEy4B,YAAW,EAAGz4B,EAAE24B,OAAO,OAAO34B,EAAEw3B,kBAAkB,EAAEx3B,EAAE6F,OAAO4G,EAAEtF,oBAAoBvC,OAAOR,KAAK,EAAEqI,EAAEtF,oBAAoBvC,OAAON,iBAAiBtE,EAAEgwB,cAAc5uB,EAAE,MAAM,IAAI,OAAOpB,EAAE65B,MAAMrzB,GAAEylC,KAAKjsC,EAAEy4B,YAAW,EAAGz4B,EAAE24B,OAAO,OAAO34B,EAAEw3B,mBAAmB,EAAEx3B,EAAE6F,OAAO4G,EAAEtF,oBAAoBtC,KAAKT,KAAK,EAAEqI,EAAEtF,oBAAoBtC,KAAKP,iBAAiBtE,EAAEgwB,cAAc,kBAAkB5uB,EAAEsvB,KAAKtvB,EAAE,CAACsvB,KAAK,kBAAkBE,OAAO,IAAIgb,yBAAyB5rC,EAAED,GAAG,OAAOC,EAAEutB,OAAO8G,GAAG,gBAAgBjzB,IAAI,GAAG,UAAUA,EAAEq5B,OAAO16B,GAAGwB,KAAKorC,iBAAiB3sC,GAAGuB,KAAKmoC,oBAAoB,GAAGnoC,KAAKmoC,eAAenoC,KAAK8pC,kBAAkB,GAAG9pC,KAAKwmC,UAAU,OAAOxmC,KAAKwlC,kBAAkB3Q,aAAa70B,KAAKmoC,gBAAgBmC,kBAAkB,IAAI,MAAM7rC,KAAKuB,KAAKgoC,kBAAkBvpC,EAAEijC,YAAY5E,WAAWr+B,EAAEijC,YAAY3/B,UAAS,GAAIqpC,iBAAiB3sC,GAAGA,EAAEq+B,WAAWr+B,EAAEsD,UAAUtD,EAAEy4B,aAAal3B,KAAKsqC,kBAAkB7rC,EAAEsD,UAAS,EAAG/B,KAAK+tB,KAAK,yBAAyBsd,mBAAmB5sC,GAAGA,IAAIuB,KAAK+nC,oBAAoBxlB,OAAO9jB,EAAEijC,aAAa1hC,KAAKgoC,kBAAkBvU,OAAOzzB,KAAKgoC,kBAAkBsD,QAAQ7sC,GAAG,GAAGuB,KAAKwyB,aAAajQ,OAAO9jB,EAAEijC,aAAa1hC,KAAK+tB,KAAK,yBAAyB+c,8BAA8BrsC,GAAG,GAAGA,EAAE,IAAI,MAAMD,KAAKwB,KAAKgoC,kBAAkB,GAAGvpC,IAAID,EAAEsqC,OAAO,OAAOtqC,EAAE,OAAO,KAAKqrC,2BAA2BprC,GAAG,IAAIA,EAAE,OAAO,MAAMoB,EAAExB,YAAE2B,KAAKioC,gBAAgB,GAAG,WAAWxpC,EAAEqqC,OAAOlrB,KAAKnf,EAAEijC,YAAY7I,SAASh5B,EAAEqpC,aAAarV,iBAAiB0X,QAAQ9sC,EAAEqqC,OAAOc,IAAIh+B,IAAGnN,EAAEijC,YAAY5E,UAAUt+B,YAAEwB,KAAKyoC,iCAAiCzoC,KAAKyoC,8BAA8B1L,cAAcQ,4BAA4B9+B,EAAEijC,YAAYrI,qBAAqB,GAAG,SAAS56B,EAAEqqC,OAAOlrB,KAAK,CAAC,MAAMtf,EAAE0B,KAAK8qC,8BAA8BrsC,EAAEqqC,OAAOiC,MAAMrJ,YAAYrjC,EAAE2B,KAAK8qC,8BAA8BrsC,EAAEqqC,OAAOkC,OAAOtJ,YAAY,GAAGljC,YAAEC,EAAEijC,YAAYjT,gBAAgB,kBAAkBhwB,EAAEijC,YAAYjT,cAAcU,KAAK,CAAC,MAAM3wB,EAAEF,EAAEu6B,SAAS76B,EAAEK,EAAEw6B,SAASj5B,EAAE,GAAGgC,EAAEpD,EAAEuM,EAAEnL,GAAG5B,EAAE+M,EAAEvM,EAAEuM,GAAG1I,EAAE7D,EAAEqJ,EAAEjI,GAAG5B,EAAE6J,EAAErJ,EAAEqJ,GAAGtE,EAAE/E,EAAE6vB,MAAMrwB,EAAEqwB,KAAK,OAAE,EAAO5vB,EAAEijC,YAAY7I,SAAS7rB,YAAEpL,EAAES,EAAEkB,EAAE1D,EAAE2f,SAASpI,uBAAuBhV,YAAEqM,GAAEnQ,EAAE+6B,eAAeh7B,EAAEg7B,eAAe,IAAI56B,EAAEijC,YAAYrI,eAAe5qB,IAAGw8B,sBAAsBxsC,GAAG,MAAMD,EAAEH,YAAE2B,KAAKioC,gBAAgBpoC,EAAExB,YAAEG,EAAEgtC,UAAU/sC,EAAEqqC,OAAO,IAAI2C,eAAehtC,EAAEmsC,qBAAqBroB,SAAS9jB,EAAEmsC,0BAAqB,EAAO,MAAMtsC,EAAEG,EAAEH,EAAEwqC,OAAOjpC,EAAEvB,EAAEsf,KAAK,SAAS,MAAM5f,EAAEoO,YAAEpM,KAAK20B,SAAS30B,KAAK2qC,oCAAoClsC,EAAEijC,YAAYjjC,EAAEqqC,OAAO9qC,GAAG6B,EAAEkrC,MAAM/qC,KAAKopC,4BAA4BvpC,EAAEkrC,MAAMlrC,EAAEmrC,OAAOhrC,KAAKopC,4BAA4BvpC,EAAEmrC,OAAOhrC,KAAKsoC,eAAe9pC,EAAEghB,SAASxf,KAAK6pC,2BAA2BvrC,GAAG0B,KAAKorC,iBAAiB3sC,EAAEijC,aAAa,MAAM9hC,EAAEI,KAAK8pC,kBAAkB,GAAGloC,EAAEpD,EAAE0qC,aAAarV,iBAAiB4R,QAAQnnC,EAAEwqC,OAAOc,KAAKvnC,EAAE7D,EAAE0qC,aAAaC,WAAWmC,QAAQzrC,EAAE6rC,WAAW,OAAO1rC,KAAK+tB,KAAK,aAAa,CAACnQ,KAAK,aAAagT,SAAS,CAAC,CAAC+a,YAAY/pC,EAAEgqC,eAAevpC,EAAEqzB,YAAYr3B,YAAEwB,EAAEiI,SAAS+jC,MAAMjqC,IAAIhC,GAAGI,KAAK8pC,kBAAkB,GAAGxrC,EAAEksC,kCAAkC,MAAM/rC,EAAEqN,KAAErL,MAAMI,YAAEpC,EAAE,EAAE,EAAE,GAAG,IAAIoB,EAAE,EAAE7B,GAAE,EAAG4B,EAAE,KAAKgC,EAAE,KAAK,IAAI,MAAMpD,KAAKwB,KAAKgoC,kBAAkBj5B,GAAEvQ,KAAKA,EAAEkjC,YAAY3/B,UAAUlC,IAAIkB,YAAEtC,EAAEA,EAAED,EAAEkjC,YAAYrI,gBAAgB/6B,YAAEsB,IAAIpB,EAAEqsC,cAAcjrC,EAAEirC,eAAejpC,EAAEhC,EAAEA,EAAEpB,IAAIF,YAAEsD,IAAIpD,EAAEqsC,cAAcjpC,EAAEipC,iBAAiBjpC,EAAEpD,IAAIR,GAAE,GAAI,GAAG,IAAI6B,EAAE,CAAC,MAAMpB,EAAEuB,KAAK8kC,cAAcvT,WAAWvxB,KAAKwlC,kBAAkBvB,eAAexK,UAAUh7B,EAAEuB,KAAKwlC,kBAAkBtB,mBAAmBzK,UAAUh7B,EAAEuB,KAAKwlC,kBAAkBrB,cAAc1K,UAAUh7B,GAAGuB,KAAKolC,SAAS55B,GAAExL,KAAK20B,SAAS30B,KAAKwlC,kBAAkBtB,mBAAmB4H,oBAAoBrtC,GAAG,IAAIoB,MAAM,CAAC,MAAMpB,EAAEuB,KAAK8kC,cAAcvT,YAAYvxB,KAAK4oC,kBAAkB5oC,KAAKwlC,kBAAkBvB,eAAexK,UAAUh7B,EAAEuB,KAAKwlC,kBAAkBtB,mBAAmBzK,UAAUh7B,EAAEuB,KAAKwlC,kBAAkBtB,mBAAmB4H,oBAAoBrtC,EAAEuB,KAAKwlC,kBAAkBrB,cAAc1K,UAAUh7B,GAAGuB,KAAKolC,SAAS55B,GAAExL,KAAK20B,SAAS,GAAG,IAAI90B,EAAE,CAAC,IAAIpB,EAAE,EAAE,GAAGD,YAAEoB,GAAG,CAAC,MAAMC,EAAED,EAAEkpC,OAAOc,IAAItrC,EAAEE,YAAEoD,GAAGA,EAAEknC,OAAOc,IAAIhqC,EAAEkpC,OAAOiC,MAAMnrC,EAAEkpC,OAAOiC,KAAKA,KAAKnrC,EAAEkpC,OAAOiC,KAAKA,KAAKnB,IAAI,KAAKvrC,GAAGG,YAAEoD,IAAIhC,EAAEkpC,OAAOkC,OAAOprC,EAAEkpC,OAAOkC,MAAMA,MAAMprC,EAAEkpC,OAAOkC,MAAMA,MAAMpB,IAAI,KAAKtrC,GAAGD,EAAE2B,KAAKwlC,kBAAkBtB,mBAAmBzK,WAAU,EAAGn7B,EAAEG,EAAEsN,GAAEzN,EAAEuB,GAAGxB,IAAII,EAAEsN,GAAElM,EAAExB,IAAI2B,KAAKwlC,kBAAkBzD,MAAMtjC,EAAEuB,KAAKwlC,kBAAkBlhC,OAAOO,QAAO7E,KAAKwlC,kBAAkBc,cAAc,IAAIj8B,GAAEhM,YAAE2B,KAAK20B,QAAQnV,WAAWxf,KAAKwlC,kBAAkBlhC,OAAOoB,GAAEwgC,gBAAgBlmC,KAAK20B,QAAQH,QAAQ,IAAI30B,GAAG7B,GAAG4E,YAAEnE,EAAEA,EAAE,EAAEoB,GAAG+L,GAAEwL,iBAAiB/Y,YAAE2B,KAAKioC,gBAAgBzoB,SAASpI,iBAAiBxL,GAAEyiB,MAAK,EAAGruB,KAAK6W,KAAK4W,mBAAmBC,iBAAiBjvB,EAAEmN,IAAG5L,KAAKwlC,kBAAkB7M,yBAAyB/sB,IAAGpN,YAAEwB,KAAK4xB,yBAAyB5xB,KAAK8kC,cAAc3oB,UAAU3d,YAAEwB,KAAK4xB,sBAAsBwL,kBAAkBp9B,KAAKwlC,kBAAkB7M,yBAAyB34B,KAAK4xB,sBAAsBwL,iBAAiBjyB,GAAEnL,KAAK6W,KAAK7W,KAAKwlC,kBAAkBxlC,KAAK20B,SAASoU,gBAAgBtqC,GAAG,MAAMD,EAAE,GAAGqB,EAAExB,YAAE2B,KAAKioC,gBAAgB,IAAI,MAAM3pC,KAAKG,EAAE,GAAG,WAAWH,EAAEwqC,OAAOlrB,MAAM/d,EAAEksC,kBAAkB,CAACvtC,EAAEoV,KAAKtV,EAAEwqC,QAAQ9oC,KAAKqrC,mBAAmB/sC,GAAG0B,KAAKqrC,mBAAmBrrC,KAAK8qC,8BAA8BxsC,EAAEwqC,OAAOiC,OAAO/qC,KAAKqrC,mBAAmBrrC,KAAK8qC,8BAA8BxsC,EAAEwqC,OAAOkC,QAAQ,MAAMvsC,EAAEJ,YAAEwB,EAAEmsC,eAAe,CAAC1tC,EAAEwqC,SAASmD,gBAAgB,GAAGC,aAAaztC,GAAGuB,KAAKopC,4BAA4B3qC,GAAG,GAAGD,EAAEsC,OAAO,EAAE,CAAC,MAAMrC,EAAED,EAAE8zB,KAAK7zB,IAAI,MAAMD,EAAEqB,EAAEqpC,aAAaC,WAAWmC,QAAQ7sC,EAAEitC,WAAW,MAAM,CAACC,YAAY9rC,EAAEqpC,aAAarV,iBAAiB4R,QAAQhnC,EAAEmrC,KAAKgC,eAAeptC,EAAEk3B,YAAYr3B,YAAEI,EAAEqJ,WAAW9H,KAAKsoC,eAAezoC,EAAE2f,SAAS,MAAMlhB,EAAE0B,KAAK8pC,kBAAkB,GAAG,GAAG9pC,KAAKwmC,UAAU,OAAO,GAAGxmC,KAAK+tB,KAAK,gBAAgB,CAACnQ,KAAK,gBAAgBuuB,QAAQ1tC,EAAE6zB,KAAK7zB,GAAGA,EAAEktC,cAAc/a,SAASnyB,IAAIuB,KAAKwmC,UAAU,OAAO,GAAGloC,IAAI0B,KAAK8pC,kBAAkB,GAAG9pC,KAAKwmC,WAAW,OAAOxmC,KAAKwqC,mCAAmCU,0BAA0BzsC,EAAED,GAAGC,EAAE2tC,UAAUpsC,KAAKsqC,kBAAkB,WAAW9rC,EAAEsqC,OAAOlrB,OAAOpf,EAAEkjC,YAAY3/B,UAAUvD,EAAEkjC,YAAY3/B,UAAU,WAAWvD,EAAEsqC,OAAOlrB,MAAM,IAAInf,EAAE4tC,QAAQrsC,KAAK+oC,gBAAgB,CAACvqC,IAAImN,GAAEnN,IAAI,IAAIC,EAAE4tC,QAAQrsC,KAAKirC,sBAAsBzsC,GAAGC,EAAEsnC,oBAAoB,SAASh6B,GAAEtN,EAAED,GAAG,OAAO2K,KAAKozB,MAAM/9B,EAAE,GAAGC,EAAE,GAAGD,EAAE,GAAGC,EAAE,IAAI0K,KAAKC,GAAG,EAAE,SAAS2F,GAAEtQ,GAAG,MAAM,WAAWA,EAAEqqC,OAAOlrB,KAAK,SAASjS,GAAElN,GAAG,MAAM,SAASA,EAAEqqC,OAAOlrB,KAAKnf,YAAE,CAACmB,YAAE,CAACkqB,eAAc,KAAMvB,GAAEvX,UAAU,YAAO,GAAQvS,YAAE,CAACmB,eAAK2oB,GAAEvX,UAAU,gBAAgB,MAAMvS,YAAE,CAACmB,eAAK2oB,GAAEvX,UAAU,sBAAiB,GAAQuX,GAAE9pB,YAAE,CAACmD,YAAE,2EAA2E2mB,IAAG,MAAM3c,GAAEoB,YAAE,EAAE,EAAE,KAAK,MAAMyB,GAAElL,cAAI,IAAI0B,GAAYxG,OAA0BwG,KAAIA,GAAE,KAA3BwlC,OAAO,GAAGhsC,GAAEisC,KAAK,GAAe,MAAMr8B,WAAUtD,KAAEhL,YAAYtB,EAAED,GAAGuG,MAAMtG,EAAED,GAAGwB,KAAK4d,KAAKpf,EAAEwB,KAAKksB,UAAU,KAAiB,eAAG,GAAGlsB,KAAKssC,OAAO,CAAC,OAAOtsC,KAAK4d,MAAM,IAAI,WAAW5d,KAAKksB,UAAUlsB,KAAKkpC,aAAaqD,aAAa,MAAM,IAAI,UAAUvsC,KAAKksB,UAAUlsB,KAAKkpC,aAAasD,YAAYxsC,KAAKssC,QAAO,EAAG,OAAOtsC,KAAKksB,WCAz/qB,IAAIpnB,GAAE,cAAcxG,IAAEkzB,aAAapvB,MAAIrC,YAAYtB,GAAGsG,MAAMtG,GAAGuB,KAAKokB,SAAS,IAAI7gB,KAAEvD,KAAKysC,kBAAkB,KAAKzsC,KAAK0sC,yBAAwB,EAAG1sC,KAAKolC,SAAQ,EAAGplC,KAAK4oC,mBAAkB,EAAG5oC,KAAK4d,KAAK,aAAa5d,KAAKiyB,gBAAgB,KAAK9L,UAAUnmB,KAAKokB,SAASud,YAAY3hC,KAAKysC,kBAAkBjuC,YAAEwB,KAAKysC,mBAAmBzsC,KAAKqzB,KAAK,OAAO,MAAMrzB,KAAKqzB,KAAK,UAAU,MAAqC,kCAAG,OAAM,EAAGsZ,kBAAkB,MAAMluC,EAAEuB,KAAK20B,QAAQnV,SAAS,IAAIze,aAAEf,KAAK20B,WAAWt2B,YAAEI,IAAI,YAAYA,EAAEmf,MAAM,aAAanf,EAAEmf,KAAK5d,KAAKysC,kBAAkBxD,cAAc,KAAKjpC,KAAKysC,kBAAkBxD,cAAcxqC,EAAE0D,QAAQyqC,iBAAiB,GAAG5sC,KAAKokB,SAAS7B,OAAO,2BAA2BviB,KAAK2sC,kBAAkB,IAAI5rC,aAAEf,KAAK20B,SAAS,OAAO,MAAMl2B,EAAEuB,KAAKmpB,MAAM,oBAAoB,MAAK,IAAKnpB,KAAK0sC,yBAAyB1sC,KAAK2sC,qBAAoB,GAAI3sC,KAAKokB,SAASjmB,IAAIM,EAAE,2BAA2BuqC,8BAA8BhpC,KAAKysC,mBAAmBzsC,KAAKysC,kBAAkBzD,8BAA8B6D,4BAA4B7uC,YAAEgC,KAAK20B,WAAW30B,KAAK0sC,yBAAwB,EAAG1sC,KAAK20B,QAAQnV,SAASxf,KAAKysC,kBAAkBnE,eAAenmC,QAAQnC,KAAK0sC,yBAAwB,GAAI/nB,aAAa3kB,KAAKysC,kBAAkB,IAAIpqC,GAAE,CAACk/B,KAAKvhC,OAAOA,KAAKokB,SAASjmB,IAAI,CAAC6B,KAAKysC,kBAAkB3Z,GAAG,WAAWr0B,IAAI,YAAYA,EAAEmf,MAAM5d,KAAK6sC,4BAA4B7sC,KAAK+tB,KAAK,UAAUtvB,MAAMuB,KAAKysC,kBAAkB3Z,GAAG,QAAQr0B,IAAI,SAASA,EAAEmf,MAAM5d,KAAK6sC,4BAA4B7sC,KAAK+tB,KAAK,OAAOtvB,MAAMuB,KAAKysC,kBAAkB3Z,GAAG,cAAcr0B,IAAIuB,KAAK6sC,4BAA4B7sC,KAAK+tB,KAAK,aAAatvB,MAAMuB,KAAKysC,kBAAkB3Z,GAAG,iBAAiBr0B,IAAIuB,KAAK6sC,4BAA4B7sC,KAAK+tB,KAAK,gBAAgBtvB,MAAMuB,KAAKysC,kBAAkB3Z,GAAG,mBAAmBr0B,GAAGuB,KAAK+tB,KAAK,kBAAkBtvB,KAAKmB,YAAEI,KAAK,WAAW,KAAKA,KAAK4sC,oBAAmB,KAAME,aAAazuC,YAAE2B,KAAKiyB,kBAAkBjyB,KAAKiyB,gBAAgBkZ,eAAe7X,aAAa70B,GAAG,aAAaA,EAAEmf,MAAM,WAAWnf,EAAE4V,KAAK,cAAc5V,EAAE4V,KAAKrU,KAAKysC,kBAAkB5D,yBAAyB/T,SAAiB,WAAG,MAAM,CAAC7C,gBAAgBjyB,KAAKiyB,mBAAmBxzB,YAAE,CAACoB,YAAE,CAACiqB,eAAc,EAAG6L,aAAY,KAAM7wB,GAAEkM,UAAU,YAAO,GAAQvS,YAAE,CAACoB,YAAE,CAACiqB,eAAc,KAAMhlB,GAAEkM,UAAU,eAAU,GAAQvS,YAAE,CAACoB,YAAE,CAACiqB,eAAc,EAAG6L,aAAY,KAAM7wB,GAAEkM,UAAU,eAAU,GAAQvS,YAAE,CAACoB,YAAE,CAACiqB,eAAc,EAAG6L,aAAY,KAAM7wB,GAAEkM,UAAU,yBAAoB,GAAQvS,YAAE,CAACoB,YAAE,CAACmqB,UAAS,KAAMllB,GAAEkM,UAAU,YAAO,GAAQvS,YAAE,CAACoB,YAAE,CAACiqB,eAAc,KAAMhlB,GAAEkM,UAAU,uBAAkB,GAAQlM,GAAErG,YAAE,CAACmD,YAAE,+EAA+EkD,I,ICAlyCioC,G,mBAAI,SAASvuC,GAAGA,EAAEwuC,QAAQ,GAAGxuC,EAAEyuC,SAAS,GAAGzuC,EAAE0uC,WAAW,IAAI1uC,EAAE2uC,YAAY,IAAI3uC,EAAE4uC,SAAS,KAAK5uC,EAAE6uC,eAAe,KAAK7uC,EAAE8uC,WAAW,MAA7H,CAAoIP,KAAKA,GAAG,KAAK,MAAMQ,GAAGxtC,YAAYtB,GAAGuB,KAAKmvB,KAAK,KAAKnvB,KAAKokB,SAAS,IAAIpb,KAAEhJ,KAAKwtC,qBAAqB,KAAKxtC,KAAKytC,iBAAiB,KAAKztC,KAAKgsB,OAAO,IAAInsB,IAAEG,KAAK0tC,WAAW,IAAI1tC,KAAK2tC,gBAAgBpS,QAAQv7B,KAAK4tC,SAAS,IAAIpvC,YAAEwB,KAAKwtC,uBAAuB,UAAUxtC,KAAKwtC,qBAAqBre,KAAKnvB,KAAKwtC,qBAAqBK,MAAM,EAAE7tC,KAAKuhC,KAAK9iC,EAAE8iC,KAAKvhC,KAAKmvB,KAAK1wB,EAAE0wB,KAAKnvB,KAAK0jC,oBAAoB1jC,KAAK8tC,kBAAkB9tC,KAAK+tC,6BAA6B5nB,UAAU3nB,YAAEwB,KAAKytC,oBAAoBztC,KAAKytC,iBAAiBO,UAAUzrB,SAASviB,KAAKytC,iBAAiB,MAAMztC,KAAKokB,SAASud,YAAY3hC,KAAKuhC,KAAK/O,aAAajQ,OAAOviB,KAAK2tC,iBAAiB3tC,KAAK2tC,gBAAgB,KAAKM,eAAezvC,GAAGwB,KAAKkuC,wBAAwB1vC,EAAE2vC,QAAQ,MAAM1vC,EAAEH,aAAE,CAACwiB,OAAO,EAAEstB,UAAU3vC,MAAMD,EAAEsiB,OAAOriB,IAAIuB,KAAKkuC,2BAA2BluC,KAAKytC,iBAAiB,IAAIjvC,EAAEwvC,UAAUvvC,GAAGyvC,wBAAwB1vC,YAAEwB,KAAKytC,oBAAoBztC,KAAKytC,iBAAiBO,UAAUzrB,SAASviB,KAAKytC,iBAAiBtnB,UAAUnmB,KAAKytC,iBAAiB,MAAM5Q,mBAAmBr+B,GAAGA,EAAEwB,KAAK2tC,gBAAgB,GAAGjK,oBAAoB1jC,KAAK2tC,gBAAgB3tC,KAAKquC,wBAAwBruC,KAAKuhC,KAAK/O,aAAar0B,IAAI6B,KAAK2tC,iBAAiB,MAAMrvC,EAAE0B,KAAK2tC,gBAAgB9tC,EAAEG,KAAKuhC,KAAKwD,aAAapQ,QAAQt2B,EAAEgM,aAAE/L,GAAG,CAACA,EAAED,EAAEuB,KAAKI,KAAKwtC,qBAAqB,KAAK,MAAMzsC,EAAwvN,SAAYvC,EAAEF,GAAG,MAAMuB,EAAErB,EAAE4qB,cAAcnU,MAAMzW,GAAGA,EAAEy9B,QAAQ39B,EAAE29B,QAAQ,GAAGx9B,YAAEH,EAAEk2B,QAAQ,OAAO,KAAK,MAAMx2B,EAAEM,EAAEk2B,OAAO,MAAM,CAACoQ,aAAa5mC,EAAE4mC,aAAatS,KAAK9zB,IAAI,IAAIC,EAAE,KAAKH,EAAE,KAAK,MAAM,WAAWE,EAAEof,OAAOnf,EAAED,EAAE8vC,SAAShwC,EAAEuB,EAAE0uC,mBAAmBvwC,EAAEQ,GAAG,CAAC8vC,QAAQ7vC,EAAEoE,KAAKvE,MAAMmnC,WAA//N+I,CAAGxuC,KAAKuhC,KAAK1qB,KAAKhX,GAAG,GAAGpB,YAAEsC,GAAG,OAAOf,KAAK8tC,kBAAkB,KAAK,MAAM1rC,EAAE,CAAC+sB,KAAK,OAAOzoB,OAAOrE,YAAE/D,EAAE+6B,gBAAgB0I,MAAM,EAAE0M,WAAWzuC,KAAKuhC,KAAKmN,oBAAoBC,SAAS,EAAEd,MAAM,EAAEe,SAAS,EAAEC,gBAAgB9tC,GAAGf,KAAKwtC,qBAAqBprC,EAAEpC,KAAK8tC,kBAAkB,MAAMxrC,EAAE4K,KAAEzM,MAAMT,KAAKuhC,KAAK1qB,KAAK4W,mBAAmBkT,kBAAkBriC,EAAE+6B,eAAe/2B,GAAGjE,EAAEw/B,KAAK9yB,GAAE/K,KAAKuhC,KAAK1qB,KAAKxK,KAAEiuB,sBAAsBh8B,EAAE+6B,eAAe/2B,KAAKu7B,MAAMp/B,IAAI,MAAMH,EAAE+N,KAAEwc,OAAOpqB,EAAE6hC,OAAOjiC,EAAEqH,GAAEjH,EAAE2hC,YAAY3hC,EAAE4hC,UAAUj+B,EAAEsE,OAAOpI,GAAGsB,EAAEkM,KAAEgjC,mBAAmB1sC,EAAE2/B,MAAM1jC,GAAG+D,EAAEusC,SAAS3wC,aAAEoE,EAAEusC,SAAS/uC,GdAl4H,OcA04HwC,EAAE2/B,MAAM1jC,EAAE,MAAMgE,EAAqjM,SAAY7D,EAAEC,GAAG,MAAMH,EAAEuC,YAAEqM,KAAEzM,MAAMhC,EAAE2hC,YAAY5hC,EAAEkI,QAAQ7G,EAAEgB,YAAEqM,KAAEzM,MAAMhC,EAAE4hC,UAAU7hC,EAAEkI,QAAQ1I,EAAE8G,YAAExG,GAAGsD,EAAEkD,YAAEjF,GAAG,OAAO,IAAI7B,EAAE,EAAE4D,EAAE5D,EAA/qM+wC,CAAG3sC,EAAE3D,GAAGsC,EAAEsB,EAAED,EAAEyrC,MAAM,GAAGzrC,EAAEwsC,SAAS5wC,aAAEoE,EAAEwsC,SAAS7tC,GdAh9H,OcAw9HqB,EAAEyrC,MAAMxrC,EAAErC,KAAKgvC,iBAAiB,SAAS5sC,EAAE+sB,KAAK,CAAC,MAAM7wB,EAAE0B,KAAKmvB,MAAg1M,SAAY3wB,EAAEC,EAAEH,EAAEuB,GAAG,MAAMugC,YAAYpiC,EAAEqiC,UAAUz+B,GAAGpD,EAAEH,EAAE4wC,GAAGjxC,EAAE6B,EAAEqN,KAAEzM,OAAOb,EAAEqvC,GAAGrtC,EAAE/B,EAAEqN,KAAEzM,OAAO,GAAG8C,YAAElF,EAAEuB,GAAGkN,IAAI,OAAO,KAAK,MAAMzK,EAAExB,YAAEqM,KAAEzM,MAAMzC,EAAEM,GAAGyC,EAAEiD,YAAEkJ,KAAEzM,MAAM4B,EAAE5D,GAAG2D,EAAEpE,EAAEsE,EAAE6I,YAAE+B,KAAEzM,MAAM2B,EAAErB,GAAG6B,EAAEqsC,GAAG3wC,EAAEuB,EAAEqN,KAAEzM,OAAOqE,EAAEzG,EAAEyN,EAAEmjC,GAAG3sC,EAAEzC,EAAEqN,KAAEzM,OAAOuI,EAAEnI,YAAEqM,KAAEzM,MAAMqL,EAAEhH,GAAG+C,EAAEhH,YAAEqM,KAAEzM,MAAMpC,EAAEuE,GAAGL,EAAEoL,KAAEuhC,KAAKpqC,EAAEkE,GAAG+C,EAAE4B,KAAEuhC,KAAKtsC,EAAEiF,GAAG,OAAO8F,KAAEgtB,UAAUp4B,EAAE3C,GAAG+N,KAAEgtB,UAAU5uB,EAAEnM,GAAG,SAAS,QAArpNuvC,CAAG1wC,EAAEA,EAAE6hC,MAAMl+B,EAAEsE,OAAO1G,KAAKuhC,KAAK1qB,KAAKyhB,MAAMp5B,QAAQ,GAAGV,YAAEF,GAAG,CAAC,OAAOA,GAAG,IAAI,SAAS0B,KAAKuhC,KAAKxT,KAAK,uBAAuB,CAAC4G,QAAQ90B,EAAEkiC,MAAMngC,aAAEQ,EAAE2/B,SAAS,MAAM,IAAI,QAAQ/hC,KAAKuhC,KAAKxT,KAAK,sBAAsB,CAAC4G,QAAQ90B,EAAEuvC,OAAOhtC,EAAEyrC,MAAMwB,OAAOjtC,EAAEyrC,QAAQzrC,EAAE+sB,KAAK7wB,GAAG,GAAG0B,KAAK8tC,kBAAkBtvC,YAAEqB,EAAE20B,QAAQ,CAAC,MAAMh2B,EAAEqB,EAAE20B,OAAOryB,QAAQ,IAAI1D,EAAE,EAAEH,EAAE,EAAE,OAAO8D,EAAE+sB,MAAM,QAAQ,IAAI,OAAO,MAAM,IAAI,QAAQ7wB,EAAE8D,EAAEyrC,MAAM,MAAM,IAAI,SAASpvC,EAAE2D,EAAE2/B,MAAM/hC,KAAKsvC,gBAAgB9wC,EAAE4D,EAAEysC,gBAAgBpwC,EAAEH,GAAGuB,EAAE20B,OAAOh2B,EAAEwB,KAAK+tC,6BAA6B,OAAOtvC,EAAEy6B,QAAQ,IAAI,QAAQ,IAAI,SAAS,OAAO92B,EAAE+sB,MAAM,IAAI,SAASnvB,KAAKuhC,KAAKxT,KAAK,iBAAiB,CAAC4G,QAAQ90B,EAAEkiC,MAAMngC,aAAEQ,EAAE2/B,SAAS,MAAM,IAAI,QAAQ/hC,KAAKuhC,KAAKxT,KAAK,gBAAgB,CAAC4G,QAAQ90B,EAAEuvC,OAAOhtC,EAAEyrC,MAAMwB,OAAOjtC,EAAEyrC,QAAQ,MAAM,IAAI,MAAM,OAAOzrC,EAAE+sB,MAAM,IAAI,SAASnvB,KAAKuhC,KAAKxT,KAAK,sBAAsB,CAAC4G,QAAQ90B,EAAEkiC,MAAMngC,aAAEQ,EAAE2/B,SAAS,MAAM,IAAI,QAAQ/hC,KAAKuhC,KAAKxT,KAAK,qBAAqB,CAAC4G,QAAQ90B,EAAEuvC,OAAOhtC,EAAEyrC,MAAMwB,OAAOjtC,EAAEyrC,QAAQ,MAAM,QAAQ,IAAI,SAAS,QAAQpvC,EAAEy6B,SAASl5B,KAAKiuC,eAAesB,GAAGvvC,MAAM,IAAIA,KAAKgvC,oBAAoBhvC,KAAKwtC,qBAAqB,KAAKxtC,KAAK8tC,sBAAsBluC,EAAEi+B,KAAKnxB,aAAE7M,IAAIg+B,MAAM,KAAK,GAAGr/B,YAAEwB,KAAKwtC,sBAAsB,CAAC,OAAOxtC,KAAKwtC,qBAAqBre,MAAM,IAAI,OAAO,MAAM,IAAI,SAASnvB,KAAKuhC,KAAKxT,KAAK,sBAAsB,CAAC4G,QAAQ90B,EAAEkiC,MAAMngC,aAAE5B,KAAKwtC,qBAAqBiB,cAAc,MAAM,IAAI,QAAQzuC,KAAKuhC,KAAKxT,KAAK,qBAAqB,CAAC4G,QAAQ90B,EAAEuvC,OAAO,EAAEC,OAAO,IAAIrvC,KAAKiuC,eAAesB,GAAGvvC,MAAM,IAAIA,KAAKgvC,oBAAoBhvC,KAAKwtC,qBAAqB,YAAYxtC,KAAKokB,SAASjmB,IAAIE,GAAG2B,KAAKokB,SAASjmB,IAAI,CAAC6B,KAAK2tC,gBAAgB3hB,OAAO8G,GAAG,iBAAiBt0B,IAAI,UAAUA,EAAE06B,OAAOl5B,KAAKiuC,eAA+3K,SAAYzvC,EAAEC,GAAG,IAAIH,EAAE,EAAEuB,EAAE,KAAK,MAAM7B,EAAE,KAAI,EAAG,MAAM,CAACmwC,MAAM,KAAKtuC,EAAErB,EAAEkvC,WAAWlvC,EAAEkvC,WAAW1vC,EAAEM,EAAE,EAAEG,KAAKqiB,OAAOtiB,IAAIF,GAAGE,GAAGqB,KAAKvB,EdA7mW,IcAinW,EAAE,GAAG6nB,QAAQ,KAAK3nB,EAAEkvC,WAAW7tC,EAAEpB,MAAnhL+wC,CAAGxvC,MAAM,IAAIA,KAAKyvC,+BAA+BzvC,KAAKyvC,+BAA+BzvC,KAAK2tC,gBAAgB3hB,OAAO8G,GAAG,mBAAmBt0B,IAAIA,EAAEunC,qBAAqBl+B,YAAE7H,KAAKuhC,KAAKwD,aAAa,cAAcvmC,GAAGwB,KAAK2tC,gBAAgBlU,UAAUj7B,IAAIwB,KAAKuhC,KAAKwD,aAAajS,GAAG,WAAW,IAAIjuB,GAAE7E,KAAKuhC,KAAK1qB,KAAK7W,KAAK2tC,gBAAgB9tC,OAAOgF,GAAE7E,KAAKuhC,KAAK1qB,KAAK7W,KAAK2tC,gBAAgB9tC,GAAGmvC,iBAAiBhvC,KAAKgsB,OAAO+B,KAAK,iBAAiB/tB,KAAK+tC,6BAA6B0B,4BAA4BzvC,KAAK2tC,gBAAgBxU,mBAAmB4T,GAAGM,eAAertC,KAAK0tC,cAAcI,kBAAkB,GAAG9tC,KAAK2tC,gBAAgBxU,mBAAmB4T,GAAGK,WAAW5uC,YAAEwB,KAAKwtC,uBAAuB,SAASxtC,KAAKwtC,qBAAqBre,OAAO3wB,YAAEwB,KAAKwtC,sBAAsB,OAAOxtC,KAAKwtC,qBAAqBre,MAAM,IAAI,SAASnvB,KAAK2tC,gBAAgBxU,mBAAmB4T,GAAGC,QAAQD,GAAGE,UAAS,GAAIjtC,KAAK2tC,gBAAgBxU,mBAAmB4T,GAAGG,WAAWltC,KAAKwtC,qBAAqBmB,SAAS,GAAG3uC,KAAK2tC,gBAAgBxU,mBAAmB4T,GAAGI,YAAYntC,KAAKwtC,qBAAqBmB,UAAU,GAAG,MAAM,IAAI,QAAQ3uC,KAAK2tC,gBAAgBxU,mBAAmB4T,GAAGG,WAAWH,GAAGI,aAAY,GAAIntC,KAAK2tC,gBAAgBxU,mBAAmB4T,GAAGC,QAAQhtC,KAAKwtC,qBAAqBoB,SAAS,GAAG5uC,KAAK2tC,gBAAgBxU,mBAAmB4T,GAAGE,SAASjtC,KAAKwtC,qBAAqBoB,UAAU,QAAQ5uC,KAAK2tC,gBAAgBxU,mBAAmB4T,GAAGC,QAAQD,GAAGE,SAASF,GAAGG,WAAWH,GAAGI,aAAY,GAAIY,6BAA6B,MAAMvvC,EAAE+D,aAAEkH,KAAEhJ,OAAOhC,EAAEuB,KAAKuhC,KAAKmN,oBAAoB3iC,aAAEvN,EAAEA,EAAEC,EAAEsC,YAAE,EAAE,EAAE,IAAI,MAAMzC,EAAE0B,KAAK4tC,WAAW/tC,EAAEmN,aAAEvD,KAAEhJ,MAAMmC,YAAEsK,KAAEzM,MAAMnC,EAAEA,EAAEA,IAAIN,EAAEuE,aAAEkH,KAAEhJ,OAAOyK,aAAElN,EAAE6B,EAAErB,GAAGwB,KAAK2tC,gBAAgBpL,eAAevkC,EAAEqwC,wBAAwB,MAAM7vC,EAAE,CAACA,EAAEC,EAAEH,KAAK,MAAMuB,EAAE,GAAG7B,EAAEmL,KAAKq0B,KdA36O,KcAo7O/+B,EAAED,IAAI,EAAE2K,KAAKC,KAAK,IAAI,IAAIxH,EAAE,EAAEA,EAAE5D,EAAE,EAAE4D,IAAI,CAAC,MAAMvD,EAAEG,EAAEoD,GAAGnD,EAAED,GAAGR,EAAE6B,EAAE+T,KAAK7S,YAAEzC,EAAE6K,KAAKumC,IAAIrxC,GAAGC,EAAE6K,KAAKwmC,IAAItxC,GAAG,IAAI,OAAOwB,GAAGpB,EAAEA,GAAGD,EAAE,EAAE,EAAE2K,KAAKC,GAAG3K,GAAgDoB,EAAE,CAACrB,EAAEC,IAAI4Q,KAAEugC,4BAAtDpxC,IAAG,CAAC,EAAEA,EAAE,EAAE,GAAG,CAACA,EAAE,EAAE,GAAG,CAACA,EAAE,EAAEkN,KAAK,EAAElN,EAAE,EAAEkN,MAA6CpN,CAAEG,GAAGD,EAAE,GAAG,IAAG,GAAIR,EAAES,EAAEmN,IAAGhK,EAAE/B,EAAE7B,EdA3mP,IcAgnPK,EAAE,CAAC0sC,KAAK,GAAGC,MAAM,IAAIprC,EAAE,GAAG,IAAI,IAAImB,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,MAAMtC,EAAEsC,EAAEoI,KAAKC,GAAGD,KAAKC,GAAG,EAAE9K,EAAE6K,KAAKC,GAAG,EAAEizB,GAAEr+B,EAAES,EAAEH,EAAEsD,EAAEnD,EAAE0K,KAAKC,GAAG,EAAE9K,EAAE+D,EAAE7D,EAAER,EAAE4D,EdA5tPyN,KcAkuPjN,EAAEvC,EAAEwC,EdA1uP,GcA+uPzC,EAAEgU,KAAKvR,GAAGzC,EAAEgU,KAAKpV,EAAER,EAAE4D,EAAEiuC,MAASxxC,EAAE0sC,KAAKn3B,KAAKxR,GAAG/D,EAAE2sC,MAAMp3B,KAAKxR,GAAG,IAAI,IAAI5D,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,MAAMC,EAAE,IAAID,EAAEF,EAAE8N,eAAI,GAAG3N,EAAE,CAACoF,aAAEvF,EAAEA,EAAE,CAAC,GAAG,EAAE,IAAIyN,aAAEzN,EAAEA,GAAGN,EAAE,CAAC,EAAE,EAAE,IAAI,MAAMQ,EAAE2K,KAAKuN,MdA90P,IcAu1PrU,EAAEvB,OAAO,IAAIxC,EAAE,IAAI+D,EAAE7D,GAAG,GAAGF,EAAE,IAAI+D,EAAE7D,GAAG,GAAGF,EAAE,IAAI+D,EAAE7D,GAAG,OAAO,CAACuN,aAAEzN,EAAEA,EAAEsD,EAAE,CAAC,EAAE,EAAE,IAAI,MAAMpD,EAAE2K,KAAKuN,MAAM,IAAOrU,EAAEvB,OAAO,IAAIxC,EAAE,IAAI+D,EAAE7D,GAAG,GAAGF,EAAE,IAAI+D,EAAE7D,GAAG,GAAGF,EAAE,IAAI+D,EAAE7D,GAAG,GAAG,MAAMqB,EAAEwP,KAAE8yB,uBdA3iQ,GcAokQ,EdA/jQ,GAAjC,IcAumQ9yB,KAAE+yB,iBAAiBviC,EAAEvB,IAAIG,EAAEJ,EAAE0sC,KAAK1sC,EAAE2sC,OAAOp3B,KAAK/T,IAAI,MAAMwC,EAAE,GAAG,IAAI,IAAItB,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,MAAMtC,EAAEsC,EAAEoI,KAAKC,GAAGD,KAAKC,GAAG,EAAE9K,EAAE6K,KAAKC,GAAG,EAAE0mC,GAAG9xC,EAAES,EAAEH,EAAEsD,EAAEnD,EAAE0K,KAAKC,GAAG,EAAE9K,EAAED,EAAEG,EAAER,EAAE4D,EdA7uQyN,KcAmvQhN,EAAEuR,KAAK/T,EAAExB,EdAvwQ,IcA6wQ,MAAM+D,EAAE3D,EAAEmN,KAAMtJ,EAAE7D,EAAEmN,KAAMhJ,EAAE/C,EAAEuC,EdA3yQ,GcAgzQvB,EAAEhB,EAAEyC,EdApzQ,GcAyzQwC,EAAErG,EAAEmN,KAAMrI,EAAE9E,EAAEmN,KAAM5H,EAAEnE,EAAEiF,EdAj1Q,GcAs1QqG,EAAEtL,EAAE0D,EdA11Q,GcA+1QuI,EAAE9L,KAAKihC,iBAAiBj4B,EAAEhJ,KAAKihC,eAAe,KAAKp5B,EAAE7H,KAAKihC,eAAe,IAAI1+B,EAAEvC,KAAKihC,eAAe,KAAK,IAAIj0B,EAAE,CAAC,CAACwS,SAAS5d,EAAEoE,SAAS8F,EAAE4vB,UAAUqR,GAAGM,gBAAgB,CAAC7tB,SAAS5d,EAAEoE,SAAS6B,EAAE6zB,UAAU,IAAI17B,KAAKmvB,MAAM,UAAUnvB,KAAKmvB,OAAOniB,EAAEA,EAAE+iC,OAAO,CAAC,CAACvwB,SAASnd,EAAE2D,SAAS8F,EAAE4vB,UAAUqR,GAAGM,eAAeN,GAAGK,UAAU,CAAC5tB,SAAS5c,EAAEoD,SAASgD,EAAE0yB,UAAUqR,GAAGM,eAAeN,GAAGC,SAAS,CAACxtB,SAAS3e,EAAEmF,SAASzD,EAAEm5B,UAAUqR,GAAGM,eAAeN,GAAGC,SAAS,CAACxtB,SAASxb,EAAEgC,SAASgD,EAAE0yB,UAAUqR,GAAGM,eAAeN,GAAGE,UAAU,CAACztB,SAASrU,EAAEnF,SAASzD,EAAEm5B,UAAUqR,GAAGM,eAAeN,GAAGE,aAAajtC,KAAKmvB,MAAM,WAAWnvB,KAAKmvB,OAAOniB,EAAEA,EAAE+iC,OAAO,CAAC,CAACvwB,SAASnhB,EAAE2sC,MAAMhlC,SAAS8F,EAAE4vB,UAAUqR,GAAGM,eAAeN,GAAGK,UAAU,CAAC5tB,SAASnhB,EAAE0sC,KAAK/kC,SAAS8F,EAAE4vB,UAAUqR,GAAGM,eAAeN,GAAGG,YAAY,CAAC1tB,SAASnhB,EAAE2sC,MAAMhlC,SAAS8F,EAAE4vB,UAAUqR,GAAGM,eAAeN,GAAGI,gBAAgB,MAAMjiC,EAAE,CAAClN,KAAK4B,GAAG,OAAO,IAAIyX,GAAE,CAACR,KAAK7W,KAAKuhC,KAAK1qB,KAAKilB,cAAc9uB,EAAEmpB,wBAAuB,EAAGO,eAAc,EAAGpyB,OdA/wS,GcAwxSkyB,gBAAgB,EAAEC,gBAAgB,IAAIhI,cAAcjjB,YAAExL,KAAKuhC,KAAKwD,aAAapQ,SAASqB,cAAc,CAACpY,KAAK,SAASqQ,MAAM/iB,EAAE5C,UAAUvH,YAAE,EAAE,EAAE,MAAMkgC,eAAeziC,EAAE,GAAG,MAAMC,EAAE,IAAIkN,GAAEnN,GAAG,OAAO,IAAIiK,KAAE,CAACjG,MAAM/D,EAAE2E,YAAY,IAAI5E,EAAE4wB,SAAS,EAAEzsB,eAAe,IAAI2sC,gBAAgB7wC,EAAEH,EAAEuB,EAAE7B,GAAGS,EAAEmmC,aAAaxkC,SAAS,CAAC3B,EAAEmD,KAAK,MAAM0sC,QAAQjwC,EAAEwE,KAAKjD,GAAGtB,EAAEsmC,aAAahjC,GAAG,WAAWnD,EAAEmf,OAAOnf,EAAE6vC,SAAS9vC,YAAEH,GAAGA,EAAE,GAAGiE,aAAEzC,GAAGrB,YAAEoB,IAAI,UAAUA,IAAIA,EAAEoB,MAAMhB,KAAKgwC,mBAAmBpwC,EAAEoB,OAAOpB,EAAED,OAAOK,KAAKgwC,mBAAmBpwC,EAAED,QAAQC,EAAEqwC,MAAMjwC,KAAKgwC,mBAAmBpwC,EAAEqwC,OAAOxxC,EAAEuC,MAAMpB,EAAEoB,MAAMhD,EAAES,EAAEwxC,MAAMrwC,EAAEqwC,MAAMjyC,EAAES,EAAEkB,OAAOC,EAAED,OAAO3B,OAAOgyC,mBAAmBxxC,GAAG,OAAOA,GAAGwB,KAAKuhC,KAAK1qB,KAAKyhB,MAAMp5B,OAAOoO,yBAAyBtN,KAAK2tC,gBAAgBtU,gBAAwB,WAAG,MAAM,CAACsU,gBAAgB3tC,KAAK2tC,kBAAuvB,SAASsB,GAAGzwC,EAAEC,EAAEH,GAAG,MAAMuB,EAAEpB,EAAE+P,sBAAsBhQ,EAAEH,aAAE6xC,KAAKlyC,EAAES,EAAEiQ,eAAe7O,EAAEswC,IAAI,OAAOvtC,YAAEtE,EAAEN,EAAE,GAAGA,EAAE,GAAG,GAAG,SAASuxC,GAAG/wC,EAAEC,GAAG,IAAIH,EAAE,KAAKuB,EAAE,EAAE,MAAM7B,EAAE,IAAI6B,EAAE,MAAM,CAACsuC,MAAM,KAAKtuC,EAAErB,EAAEovC,WAAWtvC,EAAEE,EAAEovC,SAASpvC,EAAEovC,SAAS5vC,EAAES,KAAKqiB,OAAOtiB,IAAIqB,KAAKA,EAAE,GAAG,EAAEA,GAAGsJ,KAAK4E,IdAn6V,EcAu6VvP,EAAI,GAAGC,IAAI0K,KAAKyD,IAAI/M,EAAE,GAAG,IAAI,EAAE,GAAGsmB,QAAQ,KAAK3nB,EAAEovC,SAAStvC,EAAEG,MAA+K,MAAMyxC,GAAG9tC,cAAI+tC,GAAGvwC,eCAtiT,IAAImM,GAAE,cAAc1N,IAAEmzB,aAAaxkB,MAAIjN,YAAYvB,GAAGuG,MAAMvG,GAAGwB,KAAKolC,SAAQ,EAAGplC,KAAKowC,gBAAe,EAAGpwC,KAAKqwC,eAAc,EAAGrwC,KAAK4d,KAAK,eAAe5d,KAAKs0B,QAAQ,IAAI/wB,KAAEvD,KAAKswC,YAAY,KAAKtwC,KAAKslC,iBAAiB,IAAIhjC,KAAEqiB,aAAa3kB,KAAK+kC,aAAa,IAAI/gC,GAAE,CAAC2wB,QAAQ30B,KAAK20B,UAAU30B,KAAKuwC,iBAAiB,IAAI/kC,GAAE,CAAC+1B,KAAKvhC,KAAK6W,KAAK7W,KAAK6W,KAAKmb,YAAYhyB,KAAKgyB,YAAYoS,aAAY,EAAGC,iBAAgB,EAAGC,WAAWtkC,KAAKolC,SAASt5B,GAAE9L,KAAK20B,SAASrwB,OAAOkH,GAAE06B,gBAAgBlmC,KAAK20B,QAAQH,UAAUx0B,KAAKuwC,iBAAiB1T,oBAAoBr+B,GAAGwB,KAAKs0B,QAAQn2B,IAAIK,EAAEwtB,OAAO8G,GAAG,mBAAmBt0B,GAAGA,EAAEunC,uBAAuB/lC,KAAKuwC,iBAAiB9hB,cAAcrsB,YAAEpC,KAAK20B,SAAS,MAAMn2B,EAAEwB,KAAK20B,QAAQnV,SAAS,GAAGxf,KAAKuwC,iBAAiB3O,2BAA2B,CAACnjC,EAAEH,EAAEN,EAAE4B,EAAEgC,KAAK/B,YAAErB,IAAI,UAAUA,EAAEof,MAAM,IAAInf,IAAIT,EAAEA,EAAE6/B,KAAK79B,KAAKslC,iBAAiB0B,gCAAgC,CAACC,gBAAgB,IAAIpmC,KAAE,CAAC4tB,cAAcrsB,YAAEpC,KAAK20B,SAAS+R,QAAQ9kC,EAAE4d,SAAS,IAAI1a,KAAE/D,KAAE4lC,aAAanoC,EAAEwB,KAAK6W,KAAKzC,aAAa,SAASwyB,WAAW,IAAIhkC,KAAEikC,eAAe7mC,KAAK20B,UAAU1C,gBAAgBjyB,KAAKiyB,gBAAgBuD,OAAO51B,IAAII,KAAKslC,iBAAiBzH,OAAO7/B,IAAIgC,KAAK+kC,cAAcvmC,IAAI,MAAM06B,OAAOr5B,EAAE80B,QAAQl2B,EAAEg/B,SAASn/B,EAAEq/B,SAAS3/B,GAAGQ,EAAEoB,EAAE,CAAC+0B,QAAQl2B,EAAEg/B,SAASn/B,EAAEq/B,SAAS3/B,GAAG,OAAO6B,GAAG,IAAI,QAAQG,KAAK+tB,KAAK,0BAA0BnuB,GAAG,MAAM,IAAI,SAASI,KAAK+tB,KAAK,oBAAoBnuB,GAAG,MAAM,IAAI,MAAMI,KAAK+tB,KAAK,yBAAyBnuB,OAAOI,KAAKuwC,iBAAiBxO,MAAM/hC,KAAK0uC,oBAAoB1uC,KAAKqwC,eAAerwC,KAAKowC,eAAe,CAAC,MAAM5xC,EAAEwB,KAAKqwC,eAAerwC,KAAKowC,eAAe,KAAKpwC,KAAKqwC,cAAc,QAAQ,SAASrwC,KAAKswC,YAAY,IAAIzsC,GAAE,CAAC09B,KAAKvhC,KAAKmvB,KAAK3wB,IAAIwB,KAAKs0B,QAAQn2B,IAAI6B,KAAKswC,YAAYtkB,OAAO8G,GAAG,iBAAiB,IAAI9yB,KAAKgvC,oBAAoBhvC,KAAKs0B,QAAQn2B,IAAI,CAAC6K,GAAE,CAAC6N,KAAK7W,KAAK6W,KAAK8d,QAAQ30B,KAAK20B,QAAQkI,mBAAmBr+B,GAAGwB,KAAK68B,mBAAmBr+B,GAAG6+B,sBAAsB,IAAIr/B,iBAAMgC,KAAK20B,QAAQxL,MAAM,UAAU,IAAInpB,KAAKwwC,oBAAoBxwC,KAAK+kC,aAAajS,GAAG,WAAW,IAAI9yB,KAAKywC,sBAAsBzwC,KAAK0wC,kCAAkC1wC,KAAK6W,KAAKsS,MAAM,SAAS,IAAInpB,KAAKwwC,sBAAsBxwC,KAAKs0B,QAAQn2B,IAAI6B,KAAK6W,KAAK+d,kBAAkB50B,KAAK+kC,eAAe/kC,KAAKywC,oBAAoB5T,mBAAmBr+B,GAAGwB,KAAKuwC,iBAAiB1T,mBAAmBr+B,GAAGqB,YAAEG,KAAKswC,cAActwC,KAAKswC,YAAYzT,mBAAmBr+B,GAAGkyC,kCAAkC,OAAO1wC,KAAK+kC,aAAa5b,MAAM,cAAc3qB,IAAIwB,KAAK68B,oBAAoBh9B,GAAGA,EAAE45B,UAAUj7B,IAAIwB,KAAKuwC,iBAAiBpM,cAAc1K,UAAUj7B,GAAGwB,KAAKolC,SAASt5B,GAAE9L,KAAK20B,YAAYxO,UAAUnmB,KAAKs0B,QAAQnO,UAAUnmB,KAAKuwC,iBAAiBpqB,UAAUnmB,KAAKswC,YAAY7xC,YAAEuB,KAAKswC,aAAatwC,KAAKqzB,KAAK,OAAO,MAAMrzB,KAAKqzB,KAAK,UAAU,MAAqB,gBAAC70B,GAAGwB,KAAKuwC,mBAAmBvwC,KAAKuwC,iBAAiBve,YAAYxzB,GAAGwB,KAAKqzB,KAAK,cAAc70B,GAA0B,0BAAG,MAAMA,EAAEwB,KAAK20B,QAAQH,OAAO,GAAGh2B,EAAE,CAAC,MAAMqB,EAAErB,EAAEomC,aAAa3vB,MAAMzW,GAAG,WAAWA,EAAEof,OAAOnf,EAAEoB,GAAGA,EAAEyuC,SAAS,EAAE,OAAOjsC,cAAG5D,GAAG,OAAO,EAAEq2B,SAAS6b,WAAW9wC,YAAEG,KAAKswC,cAActwC,KAAKswC,YAAYpC,wBAAwB0C,SAAS/wC,YAAEG,KAAKswC,cAActwC,KAAKswC,YAAYpC,wBAAwBc,iBAAiB,GAAG1wC,YAAE0B,KAAKswC,aAAa,OAAO,MAAM9xC,EAAEwB,KAAKswC,YAAY1C,WAAW5tC,KAAKuwC,iBAAiBjO,aAAa9jC,EAAEgyC,kBAAkB,UAAUxwC,KAAK6W,KAAKzC,aAAapU,KAAK6W,KAAKg3B,MfAhxJ,IeAwxJ7tC,KAAKuwC,iBAAiBxO,MAAM/hC,KAAK0uC,oBAAoB1uC,KAAKuwC,iBAAiBxO,MAAM,EAAE0O,oBAAoB5oC,GAAE7H,KAAK6W,KAAK7W,KAAKuwC,iBAAiBvwC,KAAK20B,SAAiB,WAAG,MAAM,CAAC8O,gBAAgBzjC,KAAKuwC,iBAAiBtM,eAAe4M,KAAKpN,gBAAgBkK,gBAAgB9tC,YAAEG,KAAKswC,aAAatwC,KAAKswC,YAAYO,KAAKlD,gBAAgB,KAAKnL,kBAAkBxiC,KAAKuwC,iBAAiBrM,mBAAmB2M,KAAKrO,qBAAqBhkC,YAAE,CAACoB,YAAE,CAACkqB,eAAc,EAAG6L,aAAY,KAAM5pB,GAAEiF,UAAU,YAAO,GAAQxS,YAAE,CAACoB,YAAE,CAACkqB,eAAc,EAAG6L,aAAY,KAAM5pB,GAAEiF,UAAU,eAAU,GAAQxS,YAAE,CAACoB,YAAE,CAACkqB,eAAc,EAAG6L,aAAY,KAAM5pB,GAAEiF,UAAU,eAAU,GAAQxS,YAAE,CAACoB,eAAKmM,GAAEiF,UAAU,sBAAiB,GAAQxS,YAAE,CAACoB,eAAKmM,GAAEiF,UAAU,qBAAgB,GAAQxS,YAAE,CAACoB,YAAE,CAACg2B,OAAM,KAAM7pB,GAAEiF,UAAU,cAAc,MAAMxS,YAAE,CAACoB,YAAE,CAACkqB,eAAc,KAAM/d,GAAEiF,UAAU,uBAAkB,GAAQxS,YAAE,CAACoB,YAAE,CAACoqB,UAAS,KAAMje,GAAEiF,UAAU,YAAO,GAAQjF,GAAEvN,YAAE,CAACoD,YAAE,mFAAmFmK,I,+DCA11J,MAAM1B,WAAUzI,KAAE7B,YAAYtB,EAAED,GAAGuG,MAAMtG,EAAED,GAAGwB,KAAKwD,eAAe,KAAKxD,KAAK8wC,mBAAmB,KAAK9wC,KAAKilB,yBAAyBxmB,EAAEwmB,yBAAyB1L,kBAAkB9a,GAAG,MAAMD,EAAE6L,GAAEsK,OAAOlU,MAAMZ,EAAEG,KAAKwZ,cAAcnb,EAAEG,EAAEib,MAAM,CAAC1E,OAAOlV,EAAEkV,OAAOg8B,eAAelxC,EAAEmxC,aAAap3B,kBAAkB/Z,EAAE+Z,kBAAkBC,wBAAuB,EAAGC,+BAA8B,EAAGm3B,eAAepxC,EAAEoxC,eAAeC,uBAAuBrxC,EAAEqxC,uBAAuBC,qBAAoB,EAAGC,6BAA6BvxC,EAAEuxC,+BAA+B,OAAO,IAAIxxC,KAAEnB,EAAEiZ,KAAKrZ,EAAEgc,eAAe,UAAUhc,EAAEgc,eAAe,YAAY9W,MAAGpD,UAAU4E,MAAM5E,UAAUH,KAAKilB,yBAAyB3jB,QAAQtB,KAAKwD,gBAAgBxD,KAAKwD,eAAe,KAAKxD,KAAK8wC,mBAAmB,KAAKp2B,SAASjc,EAAEJ,EAAEuD,GAAG,GAAGb,KAAE4Z,qBAAqB3a,KAAK4a,QAAQhZ,EAAE1C,OAAOC,kBAAkBa,KAAKwD,iBAAiBnF,EAAEmF,eAAe,CAAC,MAAM/E,EAAEJ,EAAEmF,eAAexD,KAAK8wC,mBAAmB9wC,KAAKilB,yBAAyBzjB,KAAKxB,KAAKwD,eAAe/E,GAAGuB,KAAKwD,eAAe/E,EAAE,GAAGuB,KAAKwZ,cAAcy3B,eAAe,CAAC,MAAMpxC,EAAErB,YAAEwB,KAAK8wC,oBAAoB9wC,KAAK8wC,mBAAmBryC,EAAE,GAAGmD,EAAE1C,OAAOoL,WAAW,EAAEtK,KAAK4a,QAAQhc,aAAa,wBAAwB,GAAGoB,KAAK4a,QAAQlb,aAAa,6BAA6B,EAAEG,GAAGG,KAAK4a,QAAQy2B,aAAa,aAAazvC,EAAE1C,OAAOoP,aAAa,GAAG,EAAE1M,EAAE1C,OAAOoP,aAAa,GAAG,GAAG,GAAGtO,KAAK4a,QAAQK,cAAc,gBAAgB5c,EAAEmE,OAAOxC,KAAK4a,QAAQlb,aAAa,gBAAgByJ,KAAK4E,IAAI,EAAE1P,EAAE2C,MAAMY,EAAE1C,OAAOoL,aAAatK,KAAKwZ,cAAc03B,uBAAuB,CAAC,MAAMzyC,EAAEoB,YAAExB,EAAEoF,iBAAiBzD,KAAK4a,QAAQkJ,aAAa,kBAAkBrlB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAEqC,OAAO,EAAErC,EAAE,GAAG,GAAG,IAAIuB,KAAKwZ,cAAczE,QAAQ/Q,KAAEkX,oBAAoBzc,EAAEuB,KAAK4a,QAAQhZ,GAAGuZ,SAAS1c,GAAGsC,KAAEqa,SAASpb,KAAK4a,QAAQnc,GAAGqG,KAAE0W,uBAAuBxb,KAAK4a,QAAQ5a,KAAKwZ,cAAc/a,GAAGyd,qBAAqB,MAAMzd,EAAEuB,KAAKwZ,cAAchb,EAAEF,aAAE,IAAI,EAAE,IAAI,KAAKuB,EAAE,CAACrB,EAAEqB,EAAE,KAAKxB,EAAE,OAAOwC,aAAE,CAAC6a,SAAS7b,EAAE8b,UAAUrZ,KAAEuZ,WAAWxd,EAAE0d,WAAWnZ,KAAE0uC,aAAa7yC,EAAE8yC,iBAAiBhvC,KAAE,KAAKivC,YAAY/yC,EAAE8yC,iBAAiB/yC,EAAEuM,KAAEsE,KAAE,OAAO,OAAO,IAAI5Q,EAAEsW,QAAQ/U,KAAKyxC,uBAAuB5xC,GAAE,EAAGpB,EAAE2E,aAAa3E,EAAEwyC,eAAezyC,EAAE,KAAK4D,MAAGvC,GAAE,EAAGpB,EAAE2E,aAAa3E,EAAEwyC,eAAezyC,EAAE,KAAK4D,OAAIvC,GAAE,GAAqB,oBAAG,OAAO,EAAEohB,iBAAiBxiB,GAAG,OAAOA,EAAEuB,KAAKyxC,uBAAuBzxC,KAAK4pB,UAAUvf,GAAEsK,OAAO,IAAItW,KAAEsP,MAAG,IAAI,mCAAiC,MAAMX,WAAUhP,KAAE+B,cAAcgF,SAASuK,WAAWtP,KAAK+U,OAAO,EAAE/U,KAAK4Z,mBAAkB,EAAG5Z,KAAKgxC,cAAa,EAAGhxC,KAAKoD,aAAY,EAAGpD,KAAKixC,gBAAe,EAAGjxC,KAAKkxC,wBAAuB,EAAGlxC,KAAKoxC,8BAA6B,EAAGpxC,KAAKuxC,kBAAiB,GAAI9yC,YAAE,CAAC4D,aAAE,CAAC2F,MAAM,KAAKgF,GAAEgE,UAAU,cAAS,GAAQvS,YAAE,CAAC4D,gBAAK2K,GAAEgE,UAAU,yBAAoB,GAAQvS,YAAE,CAAC4D,gBAAK2K,GAAEgE,UAAU,oBAAe,GAAQvS,YAAE,CAAC4D,gBAAK2K,GAAEgE,UAAU,mBAAc,GAAQvS,YAAE,CAAC4D,gBAAK2K,GAAEgE,UAAU,sBAAiB,GAAQvS,YAAE,CAAC4D,gBAAK2K,GAAEgE,UAAU,8BAAyB,GAAQvS,YAAE,CAAC4D,gBAAK2K,GAAEgE,UAAU,oCAA+B,GAAQvS,YAAE,CAAC4D,gBAAK2K,GAAEgE,UAAU,wBAAmB,GCAjxF,MAAM9D,GAAEtL,IAAEsT,UAAU,2DAA2D,MAAMpI,WAAUjI,KAAE9E,YAAYtB,GAAGsG,MAAMtG,EAAE4L,IAAGrK,KAAKuvB,gBAAgB,IAAIpkB,GAAEiR,mBAAmB5d,GAAGwB,KAAKuvB,gBAAgBxa,OAAOvW,EAAEwB,KAAKuvB,gBAAgB3V,kBAAkB5Z,KAAKsc,OAAO1C,kBAAkB5Z,KAAKuvB,gBAAgByhB,aAAahxC,KAAKsc,OAAO00B,aAAahxC,KAAKuvB,gBAAgBnsB,YAAYpD,KAAKsc,OAAO9Z,MAAM,GAAG,GAAGxC,KAAKsc,OAAOtb,MAAM,EAAE,MAAMY,EAAEnD,YAAEuB,KAAKsc,OAAO9Y,gBAAgB,OAAOxD,KAAKuvB,gBAAgB0hB,eAAervC,EAAE5B,KAAKuvB,gBAAgB2hB,uBAAuBtvC,GAAGnD,YAAEuB,KAAKsc,OAAO7Y,iBAAiBzD,KAAKuvB,gBAAgB6hB,6BAA6BxvC,GAAG5B,KAAKsc,OAAOsR,sBAAsB5tB,KAAKuvB,gBAAgBgiB,iBAAiBvxC,KAAKsc,OAAOi1B,iBAAiBvxC,KAAKuvB,gBAAgBE,oBAAoB,OAAOzvB,KAAKsc,OAAO8L,UAAU3pB,EAAED,EAAEoD,EAAEvD,EAAEwB,EAAED,EAAE5B,EAAEM,EAAEyC,GAAGA,EAAEiM,aAAEvO,EAAEJ,EAAEuB,EAAE,EAAE5B,GAAGgC,KAAK0xC,sBAAsBjzC,EAAED,EAAEoD,EAAEvD,EAAEL,GAAG0zC,sBAAsBjzC,EAAED,EAAEoD,EAAEvD,EAAEwB,GAAG,IAAIxB,EAAE2qB,QAAQqW,eAAe7zB,aAAEhN,GAAG,OAAO,IAAI6Q,aAAEzN,GAAG,YAAYsL,GAAEiJ,MAAM,kDAAkD,MAAM/T,EAAE3D,EAAE+I,iBAAiB/G,IAAI,YAAYsF,KAAKxD,EAAElE,EAAEa,OAAOmP,EAAE5E,GAAEzF,aAAEqK,EAAEhQ,EAAE0gC,OAAiBn/B,YAAE+L,GAAE,GAAG0C,EAAE,GAAX,EAAgBA,EAAE,GAAlB,EAAuB,GAAGzO,YAAE+L,GAAE,GAAG0C,EAAE,GAAnC,EAAwCA,EAAE,GAA1C,EAA+C,GAAGzO,YAAE+L,GAAE,GAAG0C,EAAE,GAA3D,EAAgEA,EAAE,GAAlE,EAAuE,GAAGzO,YAAE+L,GAAE,GAAG0C,EAAE,GAAnF,EAAwFA,EAAE,GAA1F,EAA+F,GAAG,IAAI,IAAIzO,EAAE,EAAEA,EAAE,EAAEA,IAAI,IAAI2C,EAAEsM,0BAA0BlD,GAAE/L,GAAG8F,GAAE9F,IAAI,OAAOgD,KAAEs3B,WAAW33B,EAAEqI,IAAIlF,GAAE,GAAGA,GAAE,GAAGqH,IAAGnK,KAAEs3B,WAAW33B,EAAEqI,IAAIlF,GAAE,GAAGA,GAAE,GAAG+I,IAAG7L,KAAEs3B,WAAW33B,EAAEqI,IAAIlF,GAAE,GAAGA,GAAE,GAAGy0B,IAAGv3B,KAAEs3B,WAAW33B,EAAEqI,IAAIlF,GAAE,GAAGA,GAAE,GAAGkG,IAAG,IAAI/G,EAAEi7B,OAAOC,UAAU,IAAI,IAAIngC,EAAE,EAAEA,EAAEwC,EAAEtB,OAAO,EAAElB,GAAG,EAAE,CAAC,GAAGkM,GAAE,GAAG1J,EAAExC,GAAGgC,EAAE,IAAIkK,GAAE,GAAG1J,EAAExC,EAAE,GAAGgC,EAAE,IAAIkK,GAAE,GAAG1J,EAAExC,EAAE,GAAGgC,EAAE,IAAI8K,GAAE,GAAGtK,EAAExC,EAAE,GAAGgC,EAAE,IAAI8K,GAAE,GAAGtK,EAAExC,EAAE,GAAGgC,EAAE,IAAI8K,GAAE,GAAGtK,EAAExC,EAAE,GAAGgC,EAAE,IAAIgB,KAAE+uC,eAAe5kC,GAAEjB,IAAG,GAAGlJ,KAAE+uC,eAAe5kC,GAAEL,IAAG,GAAG9J,KAAE+uC,eAAeljC,GAAE3C,IAAG,GAAGlJ,KAAE+uC,eAAeljC,GAAE/B,IAAG,GAAG9J,KAAE+uC,eAAexX,GAAEruB,IAAG,GAAGlJ,KAAE+uC,eAAexX,GAAEztB,IAAG,GAAG9J,KAAE+uC,eAAe/lC,GAAEE,IAAG,GAAGlJ,KAAE+uC,eAAe/lC,GAAEc,IAAG,EAAE,SAAS,GAAGnK,EAAEiM,sBAAsB1C,GAAEJ,IAAGnJ,EAAEiM,sBAAsB9B,GAAEqC,IAAGrD,GAAE,GAAG,GAAGqD,GAAE,GAAG,EAAE,CAAC/Q,YAAEkM,GAAE4B,GAAEY,IAAG,MAAMjO,EAAE8D,EAAEqvC,QAAQpzC,GAAGoE,KAAE+uC,eAAelzC,EAAE,GAAGqN,IAAGxN,YAAE4L,GAAEtH,KAAEimB,OAAOpqB,EAAE,KAAKsC,YAAEmJ,GAAEA,GAAE1L,GAAGqC,YAAEiL,GAAEA,GAAE5B,IAAG3H,EAAEiM,sBAAsB1C,GAAEJ,SAAQ,GAAGA,GAAE,GAAG,GAAGqD,GAAE,GAAG,EAAE,CAAC/Q,YAAEkM,GAAEwC,GAAEZ,IAAG,MAAMrN,EAAE8D,EAAEqvC,QAAQpzC,GAAGoE,KAAE+uC,eAAelzC,EAAE,GAAGiO,IAAGpO,YAAE4L,GAAEtH,KAAEimB,OAAOpqB,EAAE,KAAKsC,YAAEmJ,GAAEA,GAAE1L,GAAGqC,YAAE6L,GAAEA,GAAExC,IAAG3H,EAAEiM,sBAAsB9B,GAAEqC,SAAQ,GAAGrD,GAAE,GAAG,GAAGqD,GAAE,GAAG,EAAE,SAASrD,GAAE,GAAG,EAAEqD,GAAE,GAAG,EAAE,MAAMtQ,EAAE6D,KAAEq4B,UAAUr4B,KAAE43B,WAAWxuB,GAAEqD,GAAE1C,IAAGgC,GAAG5P,EAAEoG,IAAIA,EAAEpG,EAAE4D,YAAEiH,GAAEwC,IAAGzJ,YAAE+J,GAAEM,KAAI,MAAM3B,EAAE1M,EAAEwzC,cAAchqC,EAAExJ,EAAEyzC,YAAY,GAAGjtC,EAAEmI,EAAI,CAAC,IAAIvO,EAAEqhC,OAAOC,UAAU,GAAGz9B,KAAEyvC,wBAAwBzvC,KAAE43B,WAAW5wB,GAAE8C,GAAEC,IAAG/J,KAAE43B,WAAWnvB,EAAElD,EAAE5C,IAAGiG,IAAG,CAAClN,YAAEkN,GAAEA,GAAEH,GAAG,MAAMvM,EAAE+E,YAAE2H,IAAGnK,YAAEmK,GAAEA,GAAE,EAAE1M,GAAGC,EAAED,EAAEsG,YAAEiG,EAAElD,GAAGhI,EAAEpB,EAAEyM,KAAI5D,wBAAwB7I,EAAED,GAAG,MAAMoD,EAAEnD,EAAE+I,iBAAiB,IAAI5F,EAAE,OAAM,EAAG,MAAMvD,EAAEuD,EAAEnB,IAAI,YAAY,OAAO8B,YAAElE,EAAE,MAAK,EAAGG,GAAG4f,qBAAqB,MAAM3f,EAAEuB,KAAKsc,OAAO00B,aAAavoC,KAAE4O,KAAE,OAAO7Y,YAAEwB,KAAKsc,OAAO9Y,gBAAgB,IAAIK,KAAEpF,GAAG,IAAIsN,GAAEtN,EAAE0D,QAAQ0tB,MAAM,YAAYra,cAAc/W,GAAG,OAAO,IAAIA,EAAEsW,QAAQ,IAAItW,EAAEsW,OAAO,IAAIpH,GAAElP,QAAG,GAAQ,MAAMkP,WAAUU,KAAEtO,YAAYtB,GAAGsG,MAAMtG,GAAGuB,KAAKiW,mBAAmBA,mBAAmBjW,KAAK8T,UAAU9T,KAAK8V,aAAaxB,0BAA0BtL,GAAEhJ,KAAKgG,SAASoW,mBAAmBpc,KAAK+U,QAAQ/U,KAAK8T,WAAWuI,UAAU5d,GAAG,OAAO,IAAIA,EAAEuzC,qBAAqBvzC,GAAGA,EAAE4Z,eAAerY,KAAKgG,SAASsW,OAAOi1B,mBAAmBvxC,KAAKgG,SAAS7C,mBAAmB,CAACouC,iBAAiB9yC,EAAE4Z,eAAerY,KAAKiW,oBAAoB8G,iBAAiBte,GAAG,IAAIuB,KAAK+U,QAAQ/U,KAAKgyC,qBAAqBvzC,GAAGkC,KAAKlC,EAAED,GAAGC,EAAEue,YAAYhd,KAAK8T,UAAU8G,SAAS5a,KAAK8T,UAAU4G,SAASjc,EAAEuB,KAAKgG,SAASypB,oBAAoBjxB,GAAGyiB,iBAAiBxiB,EAAED,GAAG,OAAOwB,KAAK8T,UAAUmN,iBAAiBziB,IAAI,MAAMuN,GAAEhM,YAAYtB,GAAGuB,KAAK2e,mBAAmBlgB,EAAEqxB,SAASrxB,GAAG,OAAOuB,KAAK2e,mBAAmBoR,aAAatxB,GAAGygB,aAAazgB,GAAG,OAAOA,EAAE8I,QAAQ9G,IAAI,YAAYK,OAAOkf,MAAMvhB,EAAED,EAAEoD,EAAEvD,GAAGwJ,aAAErJ,EAAEwB,KAAK2e,mBAAmBlgB,EAAEkI,eAAelI,EAAEwhB,wBAAwBre,EAAEvD,GAAG2B,KAAKiyC,aAAaxzC,EAAED,EAAEoD,EAAEvD,GAAG4zC,aAAaxzC,EAAED,EAAEoD,EAAEvD,GAAG,MAAMwB,EAAE+B,EAAEquB,SAAS,UAAU7tB,MAAGxC,EAAEpB,EAAE+I,QAAQ9G,IAAI,YAAYzC,EAAEQ,EAAEgJ,iBAAiB/G,IAAI,YAAYsF,KAAKzH,EAAEG,EAAEkI,eAAe5F,EAAElB,EAAEqyC,kBAAkBrxC,EAAEhB,EAAEsyC,YAAY9zC,GAAG0C,EAAE,IAAI,IAAIsB,EAAE,EAAEA,EAAEzC,EAAEkB,OAAOuB,GAAG,EAAE,CAAC,MAAM5D,EAAE,EAAEmB,EAAEyC,GAAG7D,EAAER,EAAES,GAAGmD,EAAE5D,EAAES,EAAE,GAAGoB,EAAE7B,EAAES,EAAE,GAAG8E,EAAEjF,EAAE,GAAGE,EAAEF,EAAE,GAAGsD,EAAEtD,EAAE,GAAGuB,EAAEvB,EAAE,IAAIwG,EAAExG,EAAE,GAAGE,EAAEF,EAAE,GAAGsD,EAAEtD,EAAE,GAAGuB,EAAEvB,EAAE,IAAI0F,EAAE1F,EAAE,GAAGE,EAAEF,EAAE,GAAGsD,EAAEtD,EAAE,IAAIuB,EAAEvB,EAAE,IAAI,IAAI,IAAIsB,EAAE,EAAEA,EAAE,IAAIA,EAAEiB,EAAExC,GAAGkF,EAAE1C,EAAExC,EAAE,GAAGyG,EAAEjE,EAAExC,EAAE,GAAG2F,EAAE3F,GAAG0C,IAAI,MAAMsJ,GAAE,CAAC7H,MAAM,CAAC,EAAE,EAAE,EAAE,GAAGwuC,cAAa,EAAGp3B,mBAAkB,EAAG5Y,MAAM,EAAEwC,eAAe,KAAKoqB,uBAAsB,EAAGnqB,gBAAgB,KAAK8tC,kBAAiB,KAAMxmC,MAAGe,GAAEjM,cAAI6M,GAAE7M,cAAIqK,GAAErK,cAAIqL,GAAErL,cAAI6L,GAAErN,eAAI0Q,GAAE1Q,eAAIiL,GAAEzJ,cAAIuM,GAAEvM,cAAIwM,GAAE/J,KAAE6H,SAASlF,GAAE3C,KAAE6H,SAASV,GAAE5J,cAAI8L,GAAE,CAACtN,eAAIA,eAAIA,eAAIA,gBAAKqH,GAAE,CAAC7F,cAAIA,cAAIA,cAAIA,eAAKkN,GAAEnK,KAAEuH,SAASsE,GAAE7L,KAAEuH,SAASgwB,GAAEv3B,KAAEuH,SAASyB,GAAEhJ,KAAEuH,SCA12JrF,KAAotIzC,eCA3tJrE,YAAE,OAAyEmL,KAAKumC,IAAIlxC,aAAE,KAAO2K,KAAKumC,IAAIlxC,aAAE,IDA2mJ,MCAvlJoB,GAAE,CAAC,EAAE,GAAG,GAAgDgD,GAAE,IAAIhD,GAAE,GAAG0C,GAAE,CAAC,EAAE,EAAE,EAAE,GAAG4I,GAAE,CAAC,EAAE,GAAG,GAAG,GAAGmD,GAAE,CAAC,EAAE,IAAI,IAAI,GAAGxN,GAAE,IAAIjB,GAAE,GAAGoN,GAAE,IAAIpN,GAAE,G,cCA0K,MAAMkF,WAAUrG,KAAE8a,kBAAkBlb,GAAG,MAAMI,EAAEqG,GAAE6P,OAAOlU,MAAMgZ,QAAQ,OAAO,IAAIzb,KAAEK,EAAEqZ,KAAKjZ,EAAE4b,eAAe,UAAU5b,EAAE4b,eAAe,YAAYxa,MAAG6a,SAASrc,EAAEI,EAAEoB,GAAG+B,KAAE+Y,qBAAqB3a,KAAK4a,QAAQ/a,EAAEX,OAAOC,kBAAkBa,KAAK4a,QAAQK,cAAc,kBAAkBxc,EAAE2zC,iBAAiBpyC,KAAK4a,QAAQK,cAAc,YAAYxc,EAAE4zC,WAAWryC,KAAK4a,QAAQlb,aAAa,YAAYjB,EAAE6zC,WAAWn3B,SAAS9c,GAAGuD,KAAEwZ,SAASpb,KAAK4a,QAAQvc,GAAG6d,qBAAqB,OAAO1d,aAAE,CAACkd,SAASpd,aAAE,EAAE,EAAE,IAAI,KAAKqd,UAAU,CAACC,KAAK,KAAKG,WAAWnc,QAAKkF,GAAE6P,OAAO,IAAItW,KAAEgE,MAAG,IAAI,mCCA7kBrE,KAA6K,MAAM+C,WAAUtC,KAAEsB,YAAY1B,GAAG0G,MAAM1G,GAAG2B,KAAK8T,UAAU,IAAIjT,GAAEb,KAAK8V,aAAay8B,oBAAoB,MAAMvyC,KAAKiW,mBAAmBA,oBAAoBoG,UAAUhe,GAAG,OAAO,IAAIA,EAAEsC,KAAKtC,EAAEG,GAAGH,EAAE2e,YAAYhd,KAAK8T,UAAU8G,SAAS5a,KAAK8T,UAAU4G,SAASrc,EAAE2B,KAAKgG,SAASsW,OAAO9d,IAAIH,YAAE,CAACG,gBAAKuC,GAAEiQ,UAAU,iBAAY,GAAgFpP,KCAtqBtD,K,wBCAiwB,MAAMkN,WAAUnN,KAAEkb,kBAAkB9a,GAAG,MAAMD,EAAEgN,GAAEmJ,OAAOlU,MAAMpC,EAAE2B,KAAKwZ,cAAc3Z,EAAErB,EAAEib,MAAM,CAAC1E,OAAO1W,EAAE0W,OAAO6E,kBAAkBvb,EAAEub,kBAAkBC,wBAAuB,EAAGC,+BAA8B,EAAGJ,WAAW,IAAIrb,EAAEsb,qBAAqBQ,wBAAwB9b,EAAE8b,wBAAwBC,gBAAgB/b,EAAE+b,kBAAkB,OAAO,IAAIpc,KAAES,EAAEiZ,KAAK7X,EAAEwa,eAAe,UAAUxa,EAAEwa,eAAe,YAAY/b,MAAGoc,SAASjc,EAAED,EAAEH,GAAGwC,KAAE8Z,qBAAqB3a,KAAK4a,QAAQvc,EAAEa,OAAOC,kBAAkBa,KAAK4a,QAAQlb,aAAa,UAAUlB,EAAEg0C,SAASn0C,EAAE8b,0BAA0Bna,KAAK4a,QAAQrb,cAAc,gBAAgBlB,EAAEa,OAAOM,SAASQ,KAAK4a,QAAQrb,cAAc,kBAAkBlB,EAAEwc,iBAAiBvY,aAAEtC,KAAK4a,QAAQnc,EAAEJ,IAAI8c,SAAS1c,GAAGoC,KAAEua,SAASpb,KAAK4a,QAAQnc,GAAGmE,KAAE4Y,uBAAuBxb,KAAK4a,QAAQ5a,KAAKwZ,cAAc/a,GAAGgd,iBAAiBhd,EAAED,GAAG,MAAMH,EAAE2B,KAAKwZ,cAAc3Z,EAAE,IAAIpB,EAAEmD,EAAE,IAAInD,EAA+C,OAAOmB,aAAE,CAAC8b,SAAS,IAAIrd,EAAE0W,QAAQ,IAAI1W,EAAE0W,SAAS1W,EAAE+E,YAAY,KAAKvD,EAAEmJ,GAAE5G,aAAE3D,GAAGwwB,QAAvHxwB,IAAG,IAAIA,GAAG,CAACywB,KAAK,IAAIzwB,EAAE,KAAK,KAAK0wB,KAAK,MAA0F7wB,CAAED,EAAE+wB,UAAUzT,UAAU,CAACC,KAAK9W,aAAErG,IAAIod,WAAWhc,EAAExB,EAAEyd,YAAYzZ,KAAE2B,aAAEvF,GAAGsd,WAAWxY,KAAE+tC,aAAajzC,EAAEkzC,iBAAiB1pC,KAAE,KAAK2pC,YAAYnzC,EAAEkzC,iBAAiB/yC,EAAE6Q,KAAEhF,KAAE,KAAK2R,cAAcnc,GAAG+B,EAAE,KAAKW,aAAElE,EAAE4d,gBAAgBC,qBAAqB,OAAOlc,KAAKyxC,uBAAuBzxC,KAAKyb,iBAAiBzb,KAAKwZ,cAAcG,sBAAqB,GAAI3Z,KAAKyb,iBAAiBzb,KAAKwZ,cAAcG,sBAAqB,GAAIsH,iBAAiBxiB,GAAG,OAAOA,EAAEuB,KAAKyxC,uBAAuBzxC,KAAK4pB,UAAUpe,GAAEmJ,OAAO,IAAInW,KAAEwO,MAAG,IAAI,mCAAoC,MAAMhE,GAAEjI,aAAE,EAAE,KAAK,MAAM8C,WAAUhE,KAAEE,cAAcgF,SAASuK,WAAWtP,KAAK+U,OAAO,EAAE/U,KAAKovB,SAAS,EAAEpvB,KAAK4Z,mBAAkB,EAAG5Z,KAAKoD,aAAY,EAAGpD,KAAKic,cAAa,EAAGjc,KAAK8b,YAAW,EAAG9b,KAAKuxC,kBAAiB,EAAGvxC,KAAK2Z,qBAAqB,EAAE3Z,KAAKma,yBAAwB,EAAGna,KAAKoa,iBAAgB,GAAI3b,YAAE,CAACmD,aAAE,CAACoG,MAAM,KAAKnE,GAAEmN,UAAU,cAAS,GAAQvS,YAAE,CAACmD,aAAE,CAACoG,MAAM,KAAKnE,GAAEmN,UAAU,gBAAW,GAAQvS,YAAE,CAACmD,gBAAKiC,GAAEmN,UAAU,yBAAoB,GAAQvS,YAAE,CAACmD,gBAAKiC,GAAEmN,UAAU,mBAAc,GAAQvS,YAAE,CAACmD,gBAAKiC,GAAEmN,UAAU,oBAAe,GAAQvS,YAAE,CAACmD,gBAAKiC,GAAEmN,UAAU,kBAAa,GAAQvS,YAAE,CAACmD,gBAAKiC,GAAEmN,UAAU,wBAAmB,GAAQvS,YAAE,CAACmD,aAAE,CAACoG,MAAM,KAAKnE,GAAEmN,UAAU,4BAAuB,GAAQvS,YAAE,CAACmD,gBAAKiC,GAAEmN,UAAU,+BAA0B,GAAQvS,YAAE,CAACmD,gBAAKiC,GAAEmN,UAAU,uBAAkB,GCAr4F,MAAMjQ,WAAUlB,KAAEE,YAAYtB,GAAGsG,MAAMtG,EAAET,IAAGgC,KAAKsvB,eAAc,EAAGtvB,KAAKuvB,gBAAgB,IAAI1uB,GAAEub,mBAAmB3d,EAAED,GAAG,OAAOwB,KAAKuvB,gBAAgBxa,OAAOtW,EAAEuB,KAAKuvB,gBAAgBH,SAASpvB,KAAKsc,OAAO8S,SAASpvB,KAAKuvB,gBAAgB3V,kBAAkB5Z,KAAKsc,OAAO1C,kBAAkB5Z,KAAKuvB,gBAAgBnsB,YAAYpD,KAAKsc,OAAOlZ,YAAYpD,KAAKuvB,gBAAgBzT,WAAW9b,KAAKsc,OAAOR,WAAW9b,KAAKuvB,gBAAgBgiB,iBAAiBvxC,KAAKsc,OAAOi1B,iBAAiBvxC,KAAKuvB,gBAAgB5V,qBAAqBnb,EAAEA,EAAEmb,qBAAqB,EAAE3Z,KAAKuvB,gBAAgBtT,cAAczd,GAAGA,EAAEU,OAAOqL,kBAAkB3I,KAAE5B,KAAKuvB,gBAAgBpV,0BAA0B3b,GAAGA,EAAE2b,wBAAwBna,KAAKuvB,gBAAgBnV,iBAAiB5b,GAAGA,EAAE4b,gBAAgBpa,KAAKuvB,gBAAgBnH,UAAU3pB,EAAEoB,EAAEvB,EAAEsD,EAAEvD,EAAEuB,EAAEiB,GAAGrC,aAAEC,EAAEoB,EAAE+B,EAAEvD,EAAEuB,OAAE,EAAOiB,GAAG2U,cAAc/W,GAAG,OAAO,IAAIA,EAAEsW,QAAQ,IAAItW,EAAEsW,QAAQ,IAAItW,EAAEsW,OAAO,IAAI1S,GAAE5D,QAAG,EAAO2f,qBAAqB,OAAO,IAAI/f,KAAEuB,OAAI,MAAMyC,WAAU5D,KAAEsB,YAAYtB,GAAGsG,MAAM,IAAItG,KAAKA,EAAEuH,SAASsW,SAAStc,KAAKiW,mBAAmBA,iBAAiBxX,GAAG,MAAMD,EAAEwB,KAAKgG,SAASsW,OAAOtc,KAAKyyC,cAAcj0C,EAAEk0C,WAAW1yC,KAAK8T,UAAU9T,KAAK8V,aAAaxB,0BAA0BlS,GAAEpC,KAAKgG,SAASoW,mBAAmBpc,KAAK+U,OAAOtW,GAAGuB,KAAK8T,WAAWuI,UAAU5d,GAAG,OAAG,IAAIuB,KAAK+U,OAAc,IAAItW,EAASA,KAAKuB,KAAK8T,UAAU0F,cAAcpW,YAAYpD,KAAK8T,UAAU0F,cAAcsC,WAAW,EAAE,EAAE,GAAGk2B,qBAAqBvzC,GAAGA,EAAE4Z,eAAerY,KAAKgG,SAASsW,OAAOi1B,mBAAmBvxC,KAAKgG,SAAS7C,mBAAmB,CAACouC,iBAAiB9yC,EAAE4Z,eAAerY,KAAKiW,iBAAiBxX,IAAIse,iBAAiBte,GAAG,IAAIuB,KAAK+U,QAAQ,IAAI/U,KAAK+U,QAAQ/U,KAAKgyC,qBAAqBvzC,GAAGuB,KAAKiW,iBAAiBxX,GAAGkC,KAAKlC,EAAED,GAAGC,EAAEue,YAAYhd,KAAK8T,UAAU8G,SAAS5a,KAAKlB,YAAYL,EAAEuB,KAAK8T,UAAU8G,SAAS5a,KAAK2yC,iBAAiBl0C,EAAEuB,KAAK8T,UAAU8G,SAAS5a,KAAK8T,UAAU4G,SAASjc,EAAEuB,KAAKgG,SAASsW,OAAO9d,GAAGyiB,iBAAiBxiB,EAAED,GAAG,OAAOwB,KAAK8T,UAAUmN,iBAAiBziB,IAAI,MAAMR,GAAE,CAACoF,aAAY,EAAG0Y,YAAW,EAAGlC,mBAAkB,EAAGwV,SAAS,EAAEmiB,kBAAiB,EAAGiB,QAAQ,EAAEE,UAAU,KAAKE,wBAAuB,KAAMt0C,M,ICAjuD+D,G,qCAAE,IAAItB,GAAEsB,GAAE,cAAc/D,KAAEyB,YAAYvB,GAAGuG,MAAMvG,GAAGwB,KAAK4d,KAAK,QAAQ5d,KAAKkI,SAAS,KAAKlI,KAAKsuC,QAAQ,EAAEtuC,KAAK6yC,KAAK,EAAE7yC,KAAKgB,MAAM,GAAGhB,KAAKL,OAAO,GAAGwC,QAAQ,OAAO,IAAIE,GAAE,CAAC6F,SAASlK,aAAEgC,KAAKkI,UAAUomC,QAAQtuC,KAAKsuC,QAAQuE,KAAK7yC,KAAK6yC,KAAK7xC,MAAMhB,KAAKgB,MAAMrB,OAAOK,KAAKL,SAAS8M,OAAOjO,GAAG,OAAOwB,KAAKsuC,UAAU9vC,EAAE8vC,SAAStuC,KAAK6yC,OAAOr0C,EAAEq0C,MAAMp0C,YAAEuB,KAAKkI,WAAWzJ,YAAED,EAAE0J,WAAWlI,KAAKkI,SAASuE,OAAOjO,EAAE0J,WAAWlI,KAAKgB,QAAQxC,EAAEwC,OAAOhB,KAAKL,SAASnB,EAAEmB,SAASnB,YAAE,CAACH,YAAE,CAAC2rB,UAAS,EAAG8oB,KAAK,CAACC,MAAK,EAAG/yB,OAAM,MAAOjf,GAAEiQ,UAAU,YAAO,GAAQxS,YAAE,CAACH,YAAE,CAACuf,KAAKhe,OAAIwC,gBAAKrB,GAAEiQ,UAAU,gBAAW,GAAQxS,YAAE,CAACH,YAAE,CAACuf,KAAKkiB,OAAOnK,aAAY,EAAGrN,MAAM,CAACva,IAAI,EAAEd,IAAI,OAAO7K,eAAIR,cAAGpD,GAAGsG,KAAEkuC,UAAUnzC,YAAErB,GAAG,GAAE,MAAOuC,GAAEiQ,UAAU,eAAU,GAAQxS,YAAE,CAACH,YAAE,CAACuf,KAAKkiB,OAAOnK,aAAY,EAAGrN,MAAM,CAACva,IAAI,EAAEd,IAAI,OAAO7K,eAAIR,cAAGpD,GAAGsG,KAAEkuC,UAAUnzC,YAAErB,GAAG,GAAE,MAAOuC,GAAEiQ,UAAU,YAAO,GAAQxS,YAAE,CAACH,YAAE,CAACuf,KAAKkiB,OAAOnK,aAAY,IAAKvzB,gBAAKrB,GAAEiQ,UAAU,aAAQ,GAAQxS,YAAE,CAACH,YAAE,CAACuf,KAAKkiB,OAAOnK,aAAY,IAAKvzB,gBAAKrB,GAAEiQ,UAAU,cAAS,GAAQjQ,GAAEsB,GAAE7D,YAAE,CAAC+E,YAAE,kCAAkCxC,ICA+rCa,IAAEsT,UAAU,gEAAg1G,SAAS+9B,GAAGx0C,EAAED,GAAG,OAAOA,GAAG,KAAK,EAAE,MAAM,CAAC00C,MAAMz0C,EAAE00C,OAAO7qC,UAAU,EAAEJ,SAAS3F,YAAEkG,KAAEhI,MAAMhC,EAAEiI,OAAOjI,EAAE00C,QAAQ7vC,KAAK9E,GAAG,KAAK,EAAE,MAAM,CAAC00C,MAAMz0C,EAAE20C,OAAO9qC,UAAU,EAAEJ,SAAS3F,YAAEkG,KAAEhI,MAAMhC,EAAEiI,OAAOjI,EAAE20C,QAAQ9vC,KAAK9E,GAAG,KAAK,EAAE,MAAM,CAAC00C,MAAMz0C,EAAE00C,OAAO7qC,WAAW,EAAEJ,SAASrE,YAAE4E,KAAEhI,MAAMhC,EAAEiI,OAAOjI,EAAE00C,QAAQ7vC,KAAK9E,GAAG,KAAK,EAAE,MAAM,CAAC00C,MAAMz0C,EAAE20C,OAAO9qC,WAAW,EAAEJ,SAASrE,YAAE4E,KAAEhI,MAAMhC,EAAEiI,OAAOjI,EAAE20C,QAAQ9vC,KAAK9E,IAA0J,SAAS60C,GAAG50C,GAAG,MAAMD,EAAE4D,YAAE3D,EAAE00C,QAAQtzC,EAAEuC,YAAE3D,EAAE20C,QAAQ,MPAv5M,GOAg6MjqC,KAAK4E,IAAIvP,EAAEqB,GAAG,SAASyzC,GAAG70C,GAAG,OAAO40C,GAAG50C,GAAG,SAAS80C,GAAG90C,GAAG,OAAO,IAAIA,EAAE6J,UAAU,IAAI,IAAI7J,EAAE6J,UAAU,GAAG,SAASkrC,GAAG/0C,EAAED,EAAE,GAAG,MAAMqB,EAAE,IAAIrB,EPA/jN,GOAmkN,EAAEoD,EAAE,CAACkD,YAAEjF,EAAE,GAAE,IAAOiF,YAAEjF,EAAE,EAAE4zC,KAAOz1C,EAAkuI,SAAYS,EAAED,GAAG,MAAMqB,EAAEgE,YAAExB,cAAI5D,EAAEA,EAAEqC,OAAO,GAAGrC,EAAEA,EAAEqC,OAAO,IAAI,GAAGkD,YAAEnE,EAAEA,GAAG+C,YAAE/C,EAAEA,EPAx2V,IOA82V0C,YAAE1C,EAAEA,EAAEpB,EAAEA,EAAEqC,OAAO,IAAItC,EAAE,CAAC,MAAMA,EAAEqF,YAAExB,cAAI5D,EAAE,GAAGA,EAAE,IAAI,OAAOuF,YAAExF,EAAEA,GAAGoE,YAAEpE,EAAEA,EPAj7V,IOAu7V+D,YAAE/D,EAAEA,EAAEC,EAAE,IAAI,CAACD,KAAKC,EAAEoB,GAAG,MAAM,IAAIpB,EAAEoB,GAA55I6zC,CAAG9xC,GAAE,GAAIvD,EAAE,CAACI,EAAED,IAA8wF,SAAYC,EAAEoB,EAAE+B,GAAG,MAAM5D,EAAEA,IAAI,MAAMK,GAAGL,EAAE6B,EAAEpB,GAAGoD,MAAM,GAAGjC,EAAEiE,YAAE4E,KAAEhI,MAAMpC,EAAE,GAAGA,EAAE,IAAI2F,YAAEpE,EAAEA,GAAG,MAAMtB,EAAEuF,YAAE4E,KAAEhI,MAAMpC,EAAEA,EAAEyC,OAAO,GAAGzC,EAAEA,EAAEyC,OAAO,IAAI,GAAGkD,YAAE1F,EAAEA,GAAGsD,EAAEuL,QAAQ,EAAE,CAAC,MAAM1O,EAAEmE,YAAEP,cAAI/D,GAAGsD,EAAEuL,SAAS,GAAG9O,EAAEA,EAAEyC,OAAO,GAAGyB,YAAE9D,EAAEA,EAAEJ,EAAEA,EAAEyC,OAAO,IAAIc,EAAE+xC,SAAS,CAAC,MAAMl1C,EAAEmE,YAAEP,cAAIzC,GAAGgC,EAAEuL,SAAS9O,EAAE,GAAGkE,YAAE9D,EAAEA,EAAEJ,EAAE,KAAK,MAAM0C,EAAE/C,EAAE4D,EAAEgyC,mBAAmB,EAAEtxC,EAAEV,EAAEiyC,WAAWjyC,EAAEkyC,eAAe/yC,EAAE,GAAGF,EAAEe,EAAEmyC,UAAUhzC,EAAEwC,EAAE2H,aAAElC,KAAEvI,OAAO,GAAGmB,EAAEuL,QAAQ,EAAE,CAAC,MAAM1O,EAAE6D,EAAE,EAAE9D,EAAEgN,YAAE/C,KAAEhI,MAAM,EAAEhC,EAAE,GAAGoB,EAAE,EAAE+B,EAAEuL,QAAQ1O,EAAEsN,aAAExI,EAAEA,EAAE/E,GAAG6Q,aAAE9L,EAAEA,EAAEiI,YAAE/C,KAAEhI,MAAMZ,EAAEA,EAAEA,IAAIkM,aAAExI,EAAEA,EAAEX,YAAEpE,EAAEA,GAAG,EAAEqB,IAAI,MAAMuC,EAAE8I,aAAEb,gBAAKxC,EAAE/C,YAAE,EAAE,EAAE,GAAGgH,EAAEY,aAAErC,eAAI6C,aAAES,KAAElN,MAAMoH,EAAEvJ,IAAIwN,EAAE,IAAIzN,EAAEA,EAAEyC,OAAO,GAAG,GAAGgL,EAAE,IAAIzN,EAAEA,EAAEyC,OAAO,GAAG,GAAGgL,EAAE,IAAIzN,EAAEA,EAAEyC,OAAO,GAAG,GAAGkM,aAAElB,EAAEA,EAAEvI,GAAG,MAAM8T,EAAE,CAAC,CAAC28B,KAAK,OAAOx0B,SAASy0B,GAAGryC,EAAEsyC,YAAYl2C,EAAE4D,EAAEuyC,oBAAoB,GAAGvyC,EAAEuL,QAAQvL,EAAEwyC,KAAK/1C,GAAG09B,UAAU35B,IAAI,IAAIqH,EAAEiC,EAAE,GAAGlN,YAAEoD,EAAEwyC,MAAM3qC,EAAE/D,KAAEy8B,uBAAuB7/B,EAAEzB,EAAEA,EAAEe,EAAEwyC,KAAKC,YAAY5qC,EAAE/D,KAAEm+B,mBAAmBvhC,EAAEzB,EAAE,IAAG,GAAG,GAAG,GAAI6K,EAAEhG,KAAEm+B,mBAAmBvhC,EAAEzB,EAAE,IAAG,GAAG,GAAG,IAAKwW,EAAEzD,KAAK,CAACogC,KAAK,MAAMx0B,SAAS/V,EAAEsyB,UAAUjwB,IAAIJ,GAAG2L,EAAEzD,KAAK,CAACogC,KAAK,MAAMx0B,SAAS9T,EAAEqwB,UAAUjwB,IAAIlK,EAAE+xC,SAAS,CAAC,MAAMl1C,EAAEiO,aAAErC,eAAI6C,aAAES,KAAElN,MAAMoH,EAAEjI,IAAInB,EAAE,IAAIJ,EAAE,GAAG,GAAGI,EAAE,IAAIJ,EAAE,GAAG,GAAGI,EAAE,IAAIJ,EAAE,GAAG,GAAG2O,aAAEvO,EAAEA,EAAE8E,GAAG8T,EAAEzD,KAAK,CAACogC,KAAK,MAAMx0B,SAAS/V,EAAEsyB,UAAUt9B,IAAIiN,GAAG2L,EAAEzD,KAAK,CAACogC,KAAK,MAAMx0B,SAAS9T,EAAEqwB,UAAUt9B,IAAI,OAAO4Y,GAAG,MAAM,CAACwR,OAAO7qB,GAAE,GAAIu9B,QAAQv9B,GAAE,IAA17Hs2C,CAAG1yC,EAAEA,EAAE,CAACsyC,WPA9oN,EOA4pNH,UPAxpN,GOAqqNF,UPAhqN,KOA6qNM,oBPA74N,KOAo6NP,mBPA75N,KOAm7NzmC,QAAQ1O,EAAEk1C,UAAS,EAAGS,KAAK,KAAKN,gBAAe,EAAGS,OAAO/1C,IAAIoB,EAAEvB,EAAE,GAAE,GAAIC,EAAED,EPAlxN,MOAuxN,GAAI0C,EAAE,IAAI+L,KAAE,CAACtK,MAAMmJ,GAAEyjB,SAAS,EAAEzsB,eAAe,KAAKN,EAAE,IAAIyK,KAAE,CAACtK,MAAMoJ,GAAEwjB,SAAS,EAAEzsB,eAAe,KAAKC,EAAE,IAAIkK,KAAE,CAACtK,MAAM+lB,GAAE6G,SAAS,EAAEzsB,eAAe,KAAKL,EAAE,IAAIwK,KAAE,CAACtK,MAAM4J,GAAEhJ,aAAY,EAAG0Y,YAAW,EAAGsT,SAAS,EAAEzsB,eAAe,IAAI9B,EAAE6E,KAAE8uC,uBAAuB,CAAC,CAAC30C,EAAE,EAAE,GAAG,CAACA,EPAtiO,GOA0iO,EAAE,KAAK0D,EAAEmC,KAAE8uC,uBAAuB,CAAC,CAAC30C,EAAE,EAAE,GAAG,CAACA,EPAtlO,GOA0lO,EAAE,KAAKmE,EAAE,IAAImH,GAAE,CAAC3I,MAAMs3B,GAAGn3B,eAAe,IAAI,OAAO,IAAIoM,GAAE,CAAC8H,KAAKpY,EAAEq9B,cAAc,IAAIl8B,EAAEipB,OAAOyJ,KAAK,EAAE0hB,KAAKv1C,EAAE+gB,SAAShhB,EAAEu9B,UAAUl8B,MAA9B,CAAqC2f,SAAShhB,EAAEwH,SAAS,QAAQvH,EAAEsC,EAAE,QAAQtC,EAAE4D,EAAEO,EAAEm5B,UAAUl8B,EAAE67B,UAAU,EAAEqR,UAAUzuC,EAAEuqB,OAAOyJ,KAAK,EAAE9S,SAAS/gB,EAAEs9B,UAAUv9B,MAAvB,CAA8BghB,SAAS/gB,EAAEuH,SAAS1D,EAAEy5B,UAAUv9B,EAAEk9B,UAAU,EAAEqR,OAAO,CAACvtB,SAAS3e,EAAEmF,SAAShC,EAAE03B,UAAU,EAAEqR,GAAGQ,OAAO3tC,EAAE27B,QAAQjJ,KAAK,EAAE0hB,KAAKv1C,EAAE+gB,SAAShhB,EAAEu9B,UAAUl8B,MAA9B,CAAqC2f,SAAShhB,EAAEwH,SAAS,QAAQvH,EAAEsC,EAAE,QAAQtC,EAAE4D,EAAEO,EAAEm5B,UAAUl8B,EAAE67B,UAAU,EAAEqR,UAAUzuC,EAAEi9B,QAAQjJ,KAAK,EAAE9S,SAAS/gB,EAAEs9B,UAAUv9B,MAAvB,CAA8BghB,SAAS/gB,EAAEuH,SAAS1D,EAAEy5B,UAAUv9B,EAAEk9B,UAAU,EAAEqR,OAAO,CAACvtB,SAASjc,EAAEyC,SAAShC,EAAE03B,UAAU,EAAEqR,GAAGQ,KAAKpX,wBAAuB,EAAGH,cAAc,CAACpY,KAAK,OAAOqQ,MAAM,CAACjwB,IAAIi4B,kBAAkB,EAAE3xB,OPA/yP,GOAyzPg0B,MAAMyU,KAA+iC,SAAS0H,GAAGh2C,EAAED,GAAG,MAAMqB,EAAE0zC,GAAG/0C,GAAGoD,EAAE/B,EAAE,CAACiF,YAAE,EAAE,EAAE,GAAGA,YAAE,EAAE,EAAE,GAAGA,YAAE,EAAE,EAAE,IAAI,CAACA,YAAE,EAAE,EAAE,GAAGA,aAAG,EAAE,EAAE,IAAI9G,EAAE0H,KAAE8uC,uBAAuB5yC,GAAGvD,EAAE,IAAIq2C,GAAG,GAA0F3zC,EAAElB,EPAziS,EAAI,EOA6iSwC,EPA7yS,EOA+yStB,EAAUuB,EAAE7D,GAAGA,EAAE,EAAlHA,IAAG,IAAI6K,IAAE,CAAC9G,MAAMnE,EAAE2C,MAAMvC,EAAEkE,eAAe,IAA2E/C,CAAEnB,GAAnE,IAAI0M,GAAE,CAAC3I,MAAMnE,EAAEsE,eAAe,IAA4C9B,EAAE,CAAC,CAAC2e,SAASxhB,EAAEgI,SAAS1D,EAAEvB,GAAG26B,UAAU,EAAEqT,IAAI,CAACvvB,SAASxhB,EAAEgI,SAAS1D,EAAED,GAAGq5B,UAAU,EAAEqT,IAAI,CAACvvB,SAASxhB,EAAEgI,SAAS1D,EPAvrS,GOA4rSo5B,UAAUwU,KAAK3sC,EAAE,IAAIwL,GAAE,CAAC8H,KAAKpY,EAAEq9B,cAAcj7B,EAAEm1B,cAAc,CAACpY,KAAK,OAAOqQ,MAAM,CAACrsB,IAAIu0B,wBAAuB,EAAGoN,YAAW,EAAGj/B,OAAOzE,EPAvzS,EAAI,EOA2zSg2B,OAAOh2B,EAAE,EAAE,IAAI,OAAO0D,EAAE+0B,MAAMyW,GAAGxrC,EAAurC,SAAS0wC,GAAGx1C,EAAEoB,EAAE+B,GAAG,MAAM5D,EAAE,GAAG,GAAGQ,YAAEqB,GAAG7B,EAAE4V,KAAK,CAACnV,EAAEoB,EAAEw0C,UAAU,GAAG,EAAE51C,EAAEoB,EAAEw0C,UAAU,GAAG,EAAE51C,GAAGoB,EAAEw0C,UAAU,GAAG,CAAC51C,GAAGoB,EAAEw0C,UAAU,QAAQ,CAAC,MAAM71C,EAAE,GAAG,IAAI,IAAIqB,EAAE,EAAEA,EAAErB,EAAEqB,IAAI,CAAC,MAAM+B,EAAE/B,EAAErB,EAAE,EAAE2K,KAAKC,GAAGpL,EAAE4V,KAAK,CAACzK,KAAKumC,IAAI9tC,GAAGnD,EAAE0K,KAAKwmC,IAAI/tC,GAAGnD,KAAK,OAAOiH,KAAEkqC,4BAA4B5xC,EAAE4D,EAAE,GAAG,IAAG,GAAkgB,SAAS+yC,GAAGl2C,EAAED,GAAG,OAAOiL,aAAEjL,EAAEC,EAAE20C,OAAO30C,EAAE00C,QAAQ3E,GAA0oC,MAAMzB,GAAG,GAAGQ,GAAG,GAAiBiB,IAAXniC,KAAElC,SAAYhB,KAAKC,GAAG,GAAE2lC,GAAG,GAAGmB,GAAG,GCAvtZ,MAAMtuC,GAAE7B,cAAcC,KAAKyiC,cAAc,KAAKziC,KAAK69B,KAAK,IAAIv/B,KAAE0B,KAAK0iC,UAAS,EAAc,cAAG,OAAO1iC,KAAK0iC,SAAoB,YAACpkC,GAAG,GAAG0B,KAAK0iC,WAAWpkC,GAAGE,YAAEwB,KAAKyiC,eAAe,CAAC,MAAMjkC,EAAE,IAAIwB,KAAKyiC,cAAcvJ,OAAO,UAAU56B,GAAG0B,KAAK40C,mBAAmBp2C,GAAGwB,KAAK69B,KAAKgD,QAAQriC,GAAGwB,KAAK0iC,SAASpkC,EAAEwkC,8BAA8B,OAAO9iC,KAAKyiC,cAAc,KAAKjkC,IAAIwB,KAAKyiC,cAAc,QAAQjkC,EAAE06B,OAAO,IAAI16B,GAAG,KAAKwB,KAAK0iC,UAAU1iC,KAAK40C,mBAAmBp2C,GAAGA,GAAGo2C,mBAAmBp2C,GAAG,MAAMF,EAAEG,GAAED,EAAEsqC,QAAQ3/B,KAAK8D,IAAI9D,KAAKyD,IAAIpO,EAAEq2C,SAAS1rC,KAAKyD,IAAIpO,EAAEs2C,UAAU,IAAIt2C,EAAEsqC,OAAOxgC,UAAU,GAAGa,KAAKyD,IAAIpO,EAAEs2C,SAAS3rC,KAAKyD,IAAIpO,EAAEq2C,SAASr2C,EAAEq2C,QAAQr2C,EAAEq2C,QAAQ,GAAGv2C,EAAEA,EAAEE,EAAEs2C,QAAQt2C,EAAEs2C,QAAQ,GAAGx2C,EAAEA,EAAU,WAAG,MAAM,CAACs2C,mBAAmBp2C,GAAGwB,KAAK40C,mBAAmBp2C,K,4CCAvT,SAASwO,GAAEpL,EAAE5D,GAAG,OAAOkN,GAAEtJ,EAAE5D,GAAE,GAAI,SAAS6G,GAAEjD,EAAE5D,GAAG,OAAOkN,GAAEtJ,EAAE5D,GAAE,GAAI,SAASkN,GAAEtJ,EAAE5D,EAAE6B,GAAG,GAAG+B,aAAamJ,KAAE,CAAC,GAAGnJ,EAAEmzC,qBAAqB3yC,KAAE,OAAwJ,SAAWpE,EAAEQ,EAAEoB,GAAE,GAAI,MAAMvB,EAAEuB,GAAG,EAAE,EAAEtB,EAAEsD,YAAEvD,EAAEL,EAAEinC,GAAG5mC,EAAEL,EAAEknC,GAAG7mC,EAAEL,EAAEg3C,IAAIn1C,YAAErB,EAAEkI,OAAOlI,EAAEkI,OAAOpI,GAAnOmL,CAAE7H,EAAEmzC,UAAU/2C,EAAE6B,IAAG,EAAG,GAAG+B,EAAEmzC,qBAAqB1yC,KAAE,OAAoL,SAAWT,EAAE/B,EAAED,GAAE,GAAI,MAAMvB,EAAEuB,GAAGgC,EAAEmgC,MAAMngC,EAAEmgC,MAAMvjC,YAAEqB,EAAEszC,OAAOtzC,EAAEszC,OAAOn1C,IAAEK,GAAGG,YAAEqB,EAAEuzC,OAAOvzC,EAAEuzC,OAAOp1C,IAAEK,GAA5QuN,CAAEhK,EAAEmzC,UAAU/2C,EAAE6B,IAAG,EAAG,GAAG+B,EAAEmzC,qBAAqBhpC,KAAE,OAA6N,SAAWnK,EAAE5D,EAAE6B,GAAE,GAAI,MAAMrB,EAAEqB,EAAE,EAAE+B,EAAEizC,QAAQjzC,EAAEizC,QAAQx2C,EAAEwB,EAAE,EAAE+B,EAAEkzC,QAAQlzC,EAAEkzC,QAAQl1C,YAAE5B,EAAEm1C,OAAOn1C,EAAEm1C,OAAO30C,GAAGoB,YAAE5B,EAAEo1C,OAAOp1C,EAAEo1C,OAAO/0C,GAAGgR,GAAErR,EAAE0I,OAAO9E,EAAE8E,OAAO9E,EAAEqzC,MAAMz2C,GAAG6Q,GAAErR,EAAE0I,OAAO9E,EAAE8E,OAAO9E,EAAEszC,MAAM72C,GAA9Y+N,CAAExK,EAAEmzC,UAAU/2C,EAAE6B,IAAG,EAAG,OAAM,EAAqX,SAASwP,GAAEzN,EAAE5D,EAAE6B,EAAErB,GAAG,MAAMoB,EAAE+N,KAAElN,MAAMpC,EAAE2F,aAAEpE,EAAEgC,EAAE5D,GAAGM,EAAEiF,aAAE3D,EAAEC,EAAEgB,aAAEhB,EAAExB,IAAIyG,aAAElD,EAAEA,EAAEtD,EAAEE,EAAE,GCAqpE,IAAI22C,GAAG,cAAc5xC,IAAEiuB,aAAa5lB,MAAI7L,YAAYvB,GAAGuG,MAAMvG,GAAGwB,KAAKolC,SAAQ,EAAGplC,KAAKowC,gBAAe,EAAGpwC,KAAKqwC,eAAc,EAAGrwC,KAAKo1C,qBAAqB,IAAI5F,GAAGxvC,KAAK88B,UAAS,EAAG98B,KAAKq1C,WAAW,KAAKr1C,KAAK4d,KAAK,eAAe5d,KAAKs0B,QAAQ,IAAItrB,KAAEhJ,KAAKs1C,iBAAiB,KAAKt1C,KAAKu1C,mBAAmB,KAAKv1C,KAAKw1C,kBAAkB,KAAKx1C,KAAKo9B,iBAAiB,KAAKp9B,KAAKy1C,qBAAqB,KAAKz1C,KAAK01C,UAAUrmC,KAAElF,SAASnK,KAAK21C,eAAetmC,KAAElF,SAASnK,KAAK41C,cAAcvmC,KAAElF,SAASnK,KAAK61C,mBAAmBxmC,KAAElF,SAASnK,KAAK81C,yBAAyB,EAAE91C,KAAK+1C,cAAc,CAAC,CAACztC,UAAU,CAAC,EAAE,IAAI,CAACA,UAAU,CAAC,EAAE,IAAI,CAACA,UAAU,CAAC,EAAE,IAAI,CAACA,UAAU,EAAE,EAAE,IAAI,CAACA,UAAU,EAAE,EAAE,IAAI,CAACA,UAAU,EAAE,GAAG,IAAI,CAACA,UAAU,CAAC,GAAG,IAAI,CAACA,UAAU,CAAC,GAAG,KAAKqc,aAAa3kB,KAAK+kC,aAAa,IAAIoK,GAAG,CAACxa,QAAQ30B,KAAK20B,UAAU,MAAMn2B,EAAEwB,KAAK20B,QAAQnV,SAASxf,KAAKg2C,cAAc,IAAIzG,GAAGl4B,KAAEsvB,aAAanoC,EAAEwB,KAAK6W,KAAKzC,aAAa5V,EAAEof,MAAM5d,KAAKi2C,wBAAwB,IAAIzH,GAAG,CAACjN,KAAKvhC,KAAK6W,KAAK7W,KAAK6W,KAAKkuB,aAAa/kC,KAAK+kC,eAAe/kC,KAAKs0B,QAAQn2B,IAAI6B,KAAKk2C,oCAAoCl2C,KAAKs1C,iBAAiBvoC,GAAE/M,KAAK6W,KAAK,GAAG7W,KAAKs1C,iBAAiBhd,OAAO7pB,GAAEzO,KAAKs0B,QAAQn2B,IAAI6B,KAAKmpB,MAAM,WAAW,IAAInpB,KAAKm2C,8BAA8Bn2C,KAAKs1C,iBAAiB,MAAMt1C,KAAKs0B,QAAQn2B,IAAI6B,KAAKo2C,4BAA4Bp2C,KAAKwyB,aAAar0B,IAAI6B,KAAKs1C,kBAAkBt1C,KAAKu1C,mBAAmBv1C,KAAK+1C,cAAczjB,KAAK9zB,IAAI,MAAMC,EAAE07B,GAAEn6B,KAAK6W,KAAKrY,GAAG,OAAOwB,KAAKs0B,QAAQn2B,IAAI6B,KAAKmpB,MAAM,iBAAiB,IAAInpB,KAAKm2C,8BAA8B13C,EAAE,MAAMA,EAAEutB,OAAO8G,GAAG,gBAAgBt0B,GAAGwB,KAAKq2C,cAAc73C,KAAKwB,KAAKs0B,QAAQn2B,IAAI6B,KAAKs2C,0BAA0B73C,EAAED,IAAIC,KAAKuB,KAAKwyB,aAAa+jB,QAAQv2C,KAAKu1C,oBAAoBv1C,KAAKw2C,yBAAyB,IAAIjuB,KCA7lK,6nFDAkmK,CAACvnB,MAAM,GAAGrB,OAAO,GAAG82C,QAAO,EAAGC,kBAAiB,IAAK12C,KAAK6W,KAAKC,QAAQ9W,KAAK6W,KAAKC,OAAO3Y,IAAI6B,KAAKw2C,0BAA0Bx2C,KAAKw1C,kBHA+8F,SAAY/2C,EAAED,GAAG,MAAMqB,EAAE,IAAI82C,GAAG,CAACvzC,aAAY,EAAG0Y,YAAW,EAAG42B,UAAUl0C,EAAEyS,GAAGtO,eAAe,KAAKf,EPA92P,GOAw3PvD,EPAn3P,GAAzQ,IOAmoQuB,EAAEnB,IAAI,MAAMD,EAAE,IAAI2rB,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,OAAO,IAAIpf,KAAE,CAAC,CAAC,WAAW,CAAClI,KAAK,EAAEkD,KAAK,CAACnE,EAAEnD,GAAGA,EAAE,EAAEmD,EAAEnD,GAAGA,EAAE,EAAEmD,EAAEnD,EAAEA,EAAE,EAAEmD,EAAEnD,EAAEA,EAAE,GAAG6Y,WAAU,IAAK,CAAC,MAAM,CAACzU,KAAK,EAAEkD,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC,WAAWvH,GAAG,CAAC,MAAMA,MAAMF,EAAEoH,KAAE8uC,uBAAuB,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC5yC,GAAI,EAAE,KAAKb,EAAE2E,KAAE8uC,uBAAuB,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC5yC,EAAEvD,EAAE,EAAE,KAAKgE,EAAE,IAAI8I,GAAE,CAAC3I,MAAMo2B,GAAGj2B,eAAe,IAAImC,EAAE,CAAC,CAAC0a,SAAS5f,EPAztQ,IOA8tQoG,SAASnG,EAAE67B,UAAU,EAAEqR,IAAI,CAACvtB,SAASlhB,EAAE0H,SAAS3D,EAAEq5B,UAAU,EAAEqR,IAAI,CAACvtB,SAAS5f,EAAEvB,GAAG2H,SAASnG,EAAE67B,UAAU,EAAEqR,IAAI,CAACvtB,SAASze,EAAEiF,SAAS3D,EAAEq5B,UAAU,EAAEqR,KAAK,OAAO,IAAIh+B,GAAE,CAAC8H,KAAKpY,EAAEq9B,cAAch3B,EAAEqxB,wBAAuB,EAAGH,cAAc,CAACpY,KAAK,OAAOtV,UAAU,CAAC,EAAE,EAAE,GAAG+mB,OAAO,CAACztB,EAAE,EAAE,IAAIq0B,kBAAkB,EAAE3xB,OAAOtG,KAAIs6B,MAAMyU,KGAxsH9nC,CAAEjF,KAAK6W,KAAK7W,KAAKw2C,0BAA0Bx2C,KAAKs0B,QAAQn2B,IAAI6B,KAAKmpB,MAAM,kBAAkB,IAAInpB,KAAKm2C,8BAA8Bn2C,KAAKw1C,kBAAkB,MAAMx1C,KAAKw1C,kBAAkBxpB,OAAO8G,GAAG,gBAAgBt0B,IAAIwB,KAAK42C,cAAcp4C,MAAMwB,KAAKs0B,QAAQn2B,IAAI6B,KAAK62C,0BAA0B72C,KAAKw1C,oBAAoBx1C,KAAKwyB,aAAar0B,IAAI6B,KAAKw1C,mBAAmBx1C,KAAKouB,qBAAqBpuB,KAAK82C,oBAAoB92C,KAAK01C,WAAW,MAAM71C,EAAEkvC,GAAG,CAACl4B,KAAK7W,KAAK6W,KAAK8d,QAAQ30B,KAAK20B,QAAQkI,mBAAmBr+B,GAAGwB,KAAK68B,mBAAmBr+B,GAAG6+B,sBAAsB,IAAIh/B,iBAAM2B,KAAKy1C,qBAAqB51C,EAAEk9B,yBAAyBoT,GAAGtwC,EAAEk9B,cAAc,KAAKt+B,YAAEuB,KAAKy1C,uBAAuBz1C,KAAKs0B,QAAQn2B,IAAI6B,KAAKy1C,qBAAqBzpB,OAAO8G,GAAG,6BAA6B,IAAI9yB,KAAK82C,oBAAoB92C,KAAK01C,cAAc11C,KAAKs0B,QAAQn2B,IAAI0B,GAAGG,KAAKs0B,QAAQn2B,IAAI,CAAC6B,KAAK+kC,aAAajS,GAAG,WAAW,IAAI9yB,KAAKywC,sBAAsBzwC,KAAK+kC,aAAa5b,MAAM,cAAc,IAAInpB,KAAK+2C,qCAAqCx0C,YAAEvC,KAAK+kC,aAAa,YAAY,IAAI/kC,KAAKg3C,yBAAyBh3C,KAAK6W,KAAK+d,kBAAkB50B,KAAK+kC,gBAAgB,MAAMzmC,EAAE0B,KAAK6W,KAAKogC,iBAAiB34C,GAAG0B,KAAKs0B,QAAQn2B,IAAIG,EAAE44C,MAAM/tB,MAAM,YAAY,IAAInpB,KAAK82C,oBAAoB92C,KAAK01C,cAAc,MAAM9zC,EAAEpD,IAAIwB,KAAKs0B,QAAQn2B,IAAIK,EAAEwtB,OAAO8G,GAAG,gBAAgB,KAAK9yB,KAAK88B,SAASt+B,EAAEs+B,SAAS98B,KAAK+2C,wCAAwC/2C,KAAK68B,mBAAmBj7B,GAAG5B,KAAKi2C,wBAAwBpZ,mBAAmBj7B,GAAG,MAAM5D,EAAE,CAACQ,EAAEC,KAAKuB,KAAKs0B,QAAQn2B,IAAIK,EAAEwtB,OAAO8G,GAAG,mBAAmBt0B,IAAI,IAAIC,GAAGuB,KAAK+tB,KAAK,kBAAkB,IAAIvvB,EAAEm2B,QAAQ30B,KAAK20B,UAAUn2B,EAAEunC,uBAAuB/lC,KAAK68B,mBAAmB7+B,GAAGgC,KAAKi2C,wBAAwBpZ,mBAAmB7+B,GAAGgC,KAAKywC,oBAAoBzwC,KAAK+2C,mCAAmCC,uBAAuBh3C,KAAKs0B,QAAQ/R,OAAO40B,IAAIn3C,KAAK82C,oBAAoB92C,KAAK01C,WAAW11C,KAAK+kC,aAAa5oB,UAAUnc,KAAKs0B,QAAQn2B,IAAI6B,KAAK6W,KAAK0X,kBAAkBuE,GAAG,oBAAoBt0B,IAAIC,YAAEuB,KAAKo9B,mBAAmBryB,aAAEvM,EAAE4T,OAAOpS,KAAKo9B,iBAAiBryB,EAAE/K,KAAKo9B,iBAAiBv1B,IAAI7H,KAAK82C,oBAAoB92C,KAAK01C,cAAcyB,IAAIJ,mCAAmC/2C,KAAK68B,oBAAoB,CAACr+B,EAAEC,IAAIuB,KAAKm2C,8BAA8B33C,EAAEC,KAAK03C,8BAA8B33C,EAAEC,GAAG,MAAMoB,EAAEG,KAAK+kC,aAAaxT,WAAWjzB,EAAE0B,KAAK88B,WAAWt+B,EAAEs+B,SAASt+B,EAAEq2B,aAAav2B,EAAE,MAAMsD,EAAE5B,KAAKolC,SAAS/2B,GAAErO,KAAK20B,SAAS,OAAOl2B,GAAG,KAAK,EAAED,EAAEi7B,UAAU55B,GAAGG,KAAKowC,eAAe,MAAM,KAAK,EAAE5xC,EAAEi7B,UAAU55B,IAAIG,KAAKqwC,eAAerwC,KAAKowC,gBAAgBxuC,GAAGpD,EAAEq2B,aAAav2B,GAAG0B,KAAKqwC,cAAc7xC,EAAE85B,MAAMt4B,KAAKqwC,cAAchU,GAAEsY,GAAG,MAAM,KAAK,EAAEn2C,EAAEi7B,UAAU55B,GAAG+B,EAAE,MAAM,QAAQpD,EAAEi7B,UAAU55B,GAAGg9B,mBAAmBr+B,GAAGwB,KAAKu1C,mBAAmBn1C,SAAS3B,GAAGD,EAAEC,EAAE,KAAKD,EAAEwB,KAAKw1C,kBAAkB,GAAGh3C,EAAEwB,KAAKs1C,iBAAiB,GAAGnvB,UAAUnmB,KAAK6W,KAAKC,QAAQ9W,KAAK6W,KAAKC,OAAOyL,OAAOviB,KAAKw2C,0BAA0Bx2C,KAAKs0B,QAAQnO,UAAUnmB,KAAKi2C,wBAAwB9vB,UAAUnmB,KAAKg2C,cAAc7vB,UAAUnmB,KAAKqzB,KAAK,OAAO,MAAMrzB,KAAKqzB,KAAK,UAAU,MAA6B,0BAAG,OAAOrzB,KAAKo1C,qBAAqB/R,QAA+B,wBAAC7kC,GAAGwB,KAAKo1C,qBAAqB/R,QAAQ7kC,EAAEwB,KAAKqzB,KAAK,sBAAsB70B,GAAGs2B,SAAS6b,WAAW3wC,KAAK01C,UAAU,KAAK11C,KAAK41C,cAAc,KAAKnF,oBAAoBzwC,KAAK82C,oBAAoB92C,KAAK01C,WAAWtnB,qBAAqB,MAAM5vB,EAAEwB,KAAK20B,QAAQnV,SAAS/gB,EAAEuB,KAAKg2C,cAAc9M,aAAa5qC,EAAEG,EAAE0qC,WAAW,GAAGE,MAAM,GAAGznC,EAAE4J,aAAEtB,KAAEzJ,MAAMnC,EAAEysC,KAAKnB,IAAItrC,EAAE0sC,MAAMpB,KAAK79B,aAAEnK,EAAEA,GAAG,MAAMvD,EAAEwB,YAAEkP,GAAE/O,KAAK6W,KAAK7W,KAAK20B,SAASn2B,EAAE4T,OAAOvH,QAAQ,IAAI7M,EAAEo5C,GAAGp3C,KAAK6W,KAAKwgC,YAAYh5C,GAAG,MAAMuB,EAAEI,KAAK6W,KAAKO,iBAAiBxX,IAAIpB,EAAE4Y,mBAAmBpZ,GAAG8O,aAAElN,GAAGkN,aAAEtO,EAAE4Y,mBDAx2O,SAAWxV,EAAE5D,EAAE6B,EAAErB,GAAGA,IAAIA,EAAE8K,KAAEa,UAAU,MAAMvK,EAAEgD,aAAE+K,KAAElN,MAAMmB,EAAE,IAAIA,EAAE,IAAIvD,EAAEuE,aAAE+K,KAAElN,MAAMq/B,OAAOwX,kBAAkBxX,OAAOwX,mBAAmBh5C,EAAEsE,aAAE+K,KAAElN,MAAMq/B,OAAOyX,kBAAkBzX,OAAOyX,mBAAmB94C,EAAEkP,KAAElN,MAAMzC,EAAEmrC,WAAW/oC,SAASpC,GAAGA,EAAE4yB,SAASxwB,SAASpC,IAAI,MAAM6B,EAAE7B,EAAE4rC,IAAIhnC,aAAEnE,EAAEoC,aAAEe,EAAE/B,GAAGgB,aAAEjB,EAAEC,IAAIwM,aAAEhO,EAAEA,EAAEI,GAAGsQ,aAAEzQ,EAAEA,EAAEG,QAAQ,MAAMsC,EAAE,KAAKuB,EAAEM,aAAE+K,KAAElN,MAAMnC,EAAE,GAAGD,EAAE,GAAG0C,EAAElB,EAAE,EAAE,EAAEvB,EAAE,GAAGD,EAAE,GAAG0C,EAAElB,EAAE,EAAE,GAAUmE,aAAE3F,EAAEA,EAAEiE,GAAGkJ,aAAElN,EAAEA,EAAEgE,GAAGiB,aAAE/E,EAAE20C,OAAOvxC,GAAGtD,EAAE,GAAGD,EAAE,IAAI,GAAGkF,aAAE/E,EAAE40C,OAAOxzC,GAAGtB,EAAE,GAAGD,EAAE,IAAI,GAAGuE,aAAEpE,EAAEkI,OAAOrI,EAAE,GAAGuD,EAAE,GAAGvD,EAAE,GAAGuB,EAAE,GAAGvB,EAAE,GAAGuD,EAAE,GAAGvD,EAAE,GAAGuB,EAAE,IAAI4L,aAAEhN,EAAEkI,OAAOlI,EAAEkI,OAAOlI,EAAE20C,QAAQ3nC,aAAEhN,EAAEkI,OAAOlI,EAAEkI,OAAOlI,EAAE40C,QCA+0NlD,CAAGtuC,EAAEnD,EAAET,EAAEgC,KAAK01C,WAAWoB,oBAAoBt4C,GAAG,MAAMF,EAAE0B,KAAK20B,QAAQnV,SAAS5d,EAAEnD,YAAEuB,KAAKy1C,wBAAwBz1C,KAAK+kC,aAAa5oB,UAAU1d,YAAEuB,KAAKy1C,qBAAqBrY,kBAAkBp9B,KAAKy1C,qBAAqBrY,iBAAiBruB,GAAE/O,KAAK6W,KAAK7W,KAAK20B,SAAS30B,KAAKo9B,iBAAiBv9B,YAAE+B,EAAEtD,EAAE8T,OAAOvH,QAAQ,MAAMxM,EAAEI,YAAEmD,GAAGA,EAAE8D,EAAE2E,aAAE7L,EAAEkI,OAAO1G,KAAK6W,KAAK0X,kBAAkBrjB,IAAEsjB,kBAAkB7gB,YAAE3N,KAAK20B,UAAU30B,KAAK6W,KAAK4W,oBAAoBzvB,EAAEqR,KAAE/C,KAAK9N,GAAGqC,YAAE7C,EAAE0I,OAAOlI,EAAEkI,OAAO,GAAGlI,EAAEkI,OAAO,GAAGrI,GDAxxO,SAAWuD,EAAE5D,EAAEQ,EAAEwF,EAAE,EAAET,GAAGA,IAAIA,EAAE+F,KAAEa,UAAUnM,EAAE06B,eAAe92B,EAAE8E,OAAOlI,EAAE+E,EAAEmD,QAAQ,MAAM7F,EAAEwJ,KAAE5J,MAAMZ,YAAEgB,EAAEe,EAAE8E,OAAO9E,EAAEuxC,QAAQtzC,YAAEgB,EAAEA,EAAEe,EAAEwxC,QAAQp1C,EAAE06B,eAAe73B,EAAErC,EAAEqC,GAAG,MAAMiE,EAAEuF,KAAE5J,MAAMZ,YAAEiF,EAAElD,EAAE8E,OAAO9E,EAAEuxC,QAAQ90C,YAAEyG,EAAEA,EAAElD,EAAEwxC,QAAQp1C,EAAE06B,eAAe5zB,EAAEtG,EAAEsG,GAAG,MAAMlC,EAAEyH,KAAE5J,MAAMpC,YAAEuE,EAAEhB,EAAE8E,OAAO9E,EAAEuxC,QAAQ90C,YAAEuE,EAAEA,EAAEhB,EAAEwxC,QAAQp1C,EAAE06B,eAAe91B,EAAEpE,EAAEoE,GAAG,MAAMyJ,EAAEhC,KAAE5J,MAAMpC,YAAEgO,EAAEzK,EAAE8E,OAAO9E,EAAEuxC,QAAQtzC,YAAEwM,EAAEA,EAAEzK,EAAEwxC,QAAQp1C,EAAE06B,eAAersB,EAAE7N,EAAE6N,GAAG,MAAM0C,EAAEzQ,YAAE+L,KAAE5J,MAAMI,EAAEiE,EAAE,IAAIzG,YAAE0Q,EAAEA,EAAExL,EAAEmD,QAAQ,MAAM8E,EAAElN,YAAE+L,KAAE5J,MAAMmC,EAAEyJ,EAAE,IAAIhO,YAAEmN,EAAEjI,EAAEmD,OAAO8E,GAAGlN,YAAEiF,EAAE4vC,OAAOpkC,EAAEvD,EAAE,IAAI,MAAMmC,EAAErP,YAAE+L,KAAE5J,MAAM4L,EAAExL,EAAE,IAAIxC,YAAEsP,EAAEA,EAAEpK,EAAEmD,QAAQ,MAAMqE,EAAEzM,YAAE+L,KAAE5J,MAAMqE,EAAElC,EAAE,IAAIvE,YAAE0M,EAAExH,EAAEmD,OAAOqE,GAAGzM,YAAEiF,EAAE6vC,OAAOzlC,EAAE5C,EAAE,IAAI,MAAM3I,EAAE3D,YAAE4L,KAAE5J,MAAM8C,EAAE4vC,OAAO5vC,EAAE6vC,QAAQ/wC,EAAE5D,YAAE2D,EAAEA,EAAEmB,EAAE4vC,QAAepyC,YAAEsB,EAAEA,GAAGzC,YAAE2D,EAAE6vC,OAAO/wC,EAAEC,YAAEiB,EAAE6vC,OAAO/wC,IAAIzC,YAAE2D,EAAE4vC,OAAO5vC,EAAE4vC,OAAO,EAAEnvC,EAAEzB,YAAEgB,EAAE4vC,SAASvzC,YAAE2D,EAAE6vC,OAAO7vC,EAAE6vC,OAAO,EAAEpvC,EAAEzB,YAAEgB,EAAE6vC,SAAS9pC,KAAEkuC,qBAAqBj0C,GCA+/M0rC,CAAGjxC,EAAEgC,KAAK6W,KAAK4W,mBAAmBnvB,EAAE8Y,iBAAiBpX,KAAKy3C,sBAAsBz3C,KAAK41C,eAAe51C,KAAK03C,qBAAqBD,sBAAsB,MAAMj5C,EAAEwB,KAAK6W,KAAKogC,iBAAiBx4C,EAAED,EAAEA,EAAE04C,MAAMre,SAAS74B,KAAKg2C,cAAcx2B,SAASpN,OAAOvH,OAAO,OAAO8sC,GAAG33C,KAAK6W,KAAKwgC,YAAY54C,GAAGy3C,mCAAmC,OAAOl2C,KAAKi2C,wBAAwBpU,oBAAoB,CAACrjC,EAAEC,EAAEoB,IAAIG,KAAK43C,sBAAsBn5C,EAAEoB,KAAKu2C,2BAA2B,MAAM53C,EAAEwB,KAAK6W,KAAKpY,EAAEuB,KAAKg2C,cAAcx2B,SAASpI,iBAAiB,OAAOvS,aAAE7E,KAAKs1C,kBAAkB,CAACz1C,EAAEvB,EAAEsD,KAAK,MAAMvD,EAAE0C,YAAElB,EAAEw5B,gBAAgBr7B,EAAEM,EAAEu/B,KAAKxxB,GAAE7N,EAAEH,EAAEI,IAAIo/B,KAAKv0B,gBAAKtJ,KAAK43C,sBAAsB55C,EAAE4D,MAAMg2C,sBAAsBp5C,EAAEqB,GAAG,MAAMvB,EAAEE,EAAEq/B,MAAMr/B,IAAI,UAAUA,EAAE06B,SAASl5B,KAAKq1C,WAAW,CAACz3B,KAAK,QAAQvO,KAAE/C,KAAKtM,KAAK01C,UAAU11C,KAAK21C,gBAAgB31C,KAAK+tB,KAAK,0BAA0B,CAAC4G,QAAQ30B,KAAK20B,QAAQ8I,SAASj/B,EAAEk/B,aAAaC,SAASn/B,EAAEo/B,gBAAgBp/B,KAAKq/B,KAAKlyB,gBAAKkyB,KAAK79B,KAAK63C,2BAA2Bha,MAAMr/B,IAAI,MAAMC,EAAE,CAACk2B,QAAQ30B,KAAK20B,QAAQ8I,SAASj/B,EAAEk/B,aAAaC,SAASn/B,EAAEo/B,cAAc,OAAOp/B,EAAE06B,QAAQ,IAAI,QAAQ,IAAI,UAAU16B,EAAEkiC,OAAO31B,EAAEvM,EAAEiiC,SAAS11B,GAAGvM,EAAEkiC,OAAO74B,EAAErJ,EAAEiiC,SAAS54B,GAAGrJ,EAAEkiC,OAAOh7B,EAAElH,EAAEiiC,SAAS/6B,IAAI1F,KAAK+tB,KAAK,oBAAoBtvB,GAAG,MAAM,IAAI,MAAMuB,KAAKq1C,WAAW,KAAKr1C,KAAK+tB,KAAK,yBAAyBtvB,GAAG,OAAOD,KAAK,OAAOqB,EAAEg+B,MAAM,KAAKp/B,YAAEuB,KAAKq1C,aAAar1C,KAAK+tB,KAAK,yBAAyB,CAAC4G,QAAQ30B,KAAK20B,QAAQ8I,SAAS,EAAEE,SAAS,IAAI39B,KAAKw1B,YAAYl3B,EAAEu5C,0BAA0B,OAAOr5C,IAAI,GAAGF,YAAE0B,KAAKq1C,aAAa,SAASr1C,KAAKq1C,WAAWz3B,KAAK,OAAOpf,EAAE,MAAMC,EAAE,GAAG,IAAI,MAAMH,KAAK0B,KAAKg2C,cAAc9M,aAAaC,WAAW1qC,EAAEmV,QAAQtV,EAAEsyB,UAAU,MAAM/wB,EAAE,UAAUrB,EAAE06B,OAAO,EAAE,EAA6E,OAAO4e,GAAhF93C,KAAKg2C,cAAcxM,aAAa/qC,EAAED,EAAEirC,UAAUjrC,EAAEkrC,UAAUlrC,EAAEmrC,UAAU9pC,GAAeG,KAAK01C,WAAW11C,KAAK20B,QAAQnV,SAASxf,KAAKg2C,cAAcx2B,SAAShhB,GAAG63C,cAAc73C,GAAG,GAAG,UAAUA,EAAE06B,OAAO,OAAO,MAAMz6B,EAAEuB,KAAK+3C,kBAAkBv5C,EAAEw5C,aAAatyC,KAAE+0B,aAAaz6B,KAAK41C,cAActV,MAAM7hC,EAAEiN,KAAEjL,SAAS4O,KAAE/C,KAAKtM,KAAK41C,cAAc51C,KAAK61C,oBAAoBxmC,KAAE/C,KAAKtM,KAAK01C,UAAU11C,KAAK21C,gBAAgB31C,KAAK81C,yBAAyB91C,KAAKy3C,sBAAsBz3C,KAAKq1C,WAAW,CAACz3B,KAAK,WAAW04B,0BAA0B93C,EAAEqB,GAAG,OAAOgF,aAAErG,GAAG,CAACA,EAAEoD,EAAEvD,KAAKC,YAAE0B,KAAKq1C,cAAczzC,EAAEi8B,MAAMr/B,IAAI,UAAUA,EAAE06B,QAAQl5B,KAAK+tB,KAAK,sBAAsB,CAAC4G,QAAQ30B,KAAK20B,QAAQya,OAAO,EAAEC,OAAO,IAAI7wC,KAAKq/B,KAAKp1B,GAAEzI,KAAK6W,KAAK7W,KAAK61C,mBAAmBvV,QAAQzC,MAAMr/B,IAAC,IAAOA,EAAEsqC,OAAOjpC,MAAMg+B,KAAK79B,KAAKi4C,mCAAmCpa,KAAK79B,KAAKo1C,qBAAqBtS,8BAA8B9iC,KAAKo1C,qBAAqBvX,MAAMA,KAAK79B,KAAKk4C,6BAA6Bra,MAAMr/B,IAAI,MAAMC,EAAE,CAACk2B,QAAQ30B,KAAK20B,QAAQya,OAAO5wC,EAAEq2C,QAAQxF,OAAO7wC,EAAEs2C,SAAS,OAAOt2C,EAAE06B,QAAQ,IAAI,QAAQ,IAAI,SAASl5B,KAAK+tB,KAAK,gBAAgBtvB,GAAG,MAAM,IAAI,MAAMuB,KAAKq1C,WAAW,KAAKr1C,KAAK+tB,KAAK,qBAAqBtvB,GAAG,OAAOD,KAAKH,EAAEw/B,MAAM,KAAKp/B,YAAEuB,KAAKq1C,aAAar1C,KAAK+tB,KAAK,qBAAqB,CAAC4G,QAAQ30B,KAAK20B,QAAQya,OAAO,EAAEC,OAAO,IAAIrvC,KAAKw1B,gBAAgByiB,kCAAkC,OAAOz5C,IAAI,MAAMC,EAAEuB,KAAK61C,mBAAmBh2C,EAAErB,EAAEsqC,OAAOxgC,UAAUhK,EAAE0B,KAAKy3C,sBAAsB71C,EAAE5B,KAAK81C,yBAAyBz3C,EAAEyG,YAAE4G,KAAEjL,MAAMhC,EAAEiI,QAAQpE,YAAEjE,EAAEA,EAAEI,EAAE00C,QAAQtzC,EAAE,IAAIyC,YAAEjE,EAAEA,EAAEI,EAAE20C,QAAQvzC,EAAE,IAAI,MAAM7B,EAAE6J,YAAE6D,KAAEjL,MAAMjC,EAAE6hC,UAAUhiC,GAAGuB,EAAEiI,YAAE6D,KAAEjL,MAAMjC,EAAE4hC,YAAY/hC,GAAGkF,EAAEssC,GAAGrxC,EAAEsqC,QAAQ1mC,EAAE+1C,GAAG15C,GAAG4D,EAAE81C,GAAGn4C,KAAK41C,eAAexzC,EAAErB,EAAE,CAACvC,EAAEC,KAAK,GAAG,IAAID,EAAE,OAAO,EAAE,IAAIqB,EAAEmE,YAAEvF,GAAGJ,EAAE,GAAGG,EAAEsN,YAAErN,EAAET,GAAG6B,EAAE,MAAMuC,EAAE/D,EAAE,GAAG,EAAE,EAAKkF,IAAGlF,IAAIwB,EAAE,GAAGrB,EAAEsN,YAAErN,EAAEmB,GAAGC,GAAGuC,EAAEC,GAAE,MAAMtB,EAAElB,EAAE,IAAI+B,EAAE,EAAEw2C,GAAG,OAAOv4C,EAAEsJ,KAAK8D,IAAIpN,EAAE+B,EAAEw2C,IAAIh2C,EAAE,IAAI/D,GAAGC,GAAG8D,EAAE+G,KAAK8D,IAAI7K,GAAG/D,EAAEwB,GAAGkB,IAAI,MAAM,IAAIvC,EAAEq2C,QAAQ9zC,EAAElB,EAAE,GAAGpB,EAAE00C,QAAQ2B,QAAQ/zC,EAAElB,EAAE,GAAGpB,EAAE20C,UAAU8E,4BAA4B,OAAO15C,IAAI,MAAMC,EAAEqG,YAAElC,cAAI5C,KAAK21C,eAAejvC,QAAQpE,YAAE7D,EAAEA,EAAEuB,KAAK21C,eAAexC,QAAQ30C,EAAEsqC,OAAOxgC,UAAU,IAAIhG,YAAE7D,EAAEA,EAAEuB,KAAK21C,eAAevC,QAAQ50C,EAAEsqC,OAAOxgC,UAAU,IAAI,MAAMzI,EAAEuM,aAAEjB,eAAInL,KAAK21C,eAAexC,OAAO,GAAGnzC,KAAK21C,eAAexC,OAAO,IAAIpnC,aAAElM,EAAEA,GAAG,MAAMvB,EAAE,GAAG,IAAI,MAAMN,KAAKgC,KAAKg2C,cAAc9M,aAAaC,WAAW7qC,EAAEsV,QAAQ5V,EAAE4yB,UAAU,MAAMhvB,EAAE,UAAUpD,EAAE06B,OAAO,EAAE,EAAE76B,EAAE2B,KAAKg2C,cAAcqC,cAAc/5C,EAAE0B,KAAKg2C,cAAc9M,aAAarV,iBAAiBykB,QAAQ75C,GAAGoB,EAAErB,EAAEq2C,QAAQr2C,EAAEs2C,QAAQlzC,EAAE,GAAG,OAAOyN,KAAE/C,KAAKtM,KAAK21C,eAAe31C,KAAK01C,WAAWoC,GAAGz5C,EAAE2B,KAAK01C,WAAW11C,KAAK20B,QAAQnV,SAASxf,KAAKg2C,cAAcx2B,SAAShhB,GAAGo4C,cAAcp4C,GAAG,GAAG,UAAUA,EAAE06B,OAAO,OAAO,MAAMz6B,EHA3sR,SAAYA,EAAED,EAAEqB,EAAE+B,GAAG,MAAM5D,EAAEQ,EAAEmiC,kBAAkBliC,EAAEiI,OAAO+B,KAAEhI,OAAOpC,EAAEoK,KAAEhI,MAAM,OAAOZ,GAAG,KAAK,EAAEyC,YAAEjE,EAAEL,GAAG,MAAM,KAAK,EAAEsE,YAAEjE,EAAEI,EAAE00C,QAAQ,OAAOznC,KAAE4uB,sBAAsB77B,EAAEiI,OAAOrI,EAAEuD,GGAmiR22C,CAAGv4C,KAAK41C,cAAc51C,KAAK6W,KAAK4W,mBAAmB,EAAE/nB,KAAEyE,UAAUtK,EAAEG,KAAK+3C,kBAAkBv5C,EAAEw5C,aAAatyC,KAAE+0B,aAAah8B,EAAEoB,EAAE6L,KAAEjL,SAAS4O,KAAE/C,KAAKtM,KAAK41C,cAAc51C,KAAK61C,oBAAoBxmC,KAAE/C,KAAKtM,KAAK01C,UAAU11C,KAAK21C,gBAAgB31C,KAAKq1C,WAAW,CAACz3B,KAAK,SAAS46B,YAAY/5C,IAAIo4C,0BAA0Br4C,GAAG,OAAOqG,aAAErG,GAAG,CAACA,EAAEqB,EAAE+B,KAAK,MAAMvD,EAAE2B,KAAKq1C,WAAW/2C,YAAED,KAAKwB,EAAEg+B,MAAMr/B,IAAI,UAAUA,EAAE06B,QAAQl5B,KAAK+tB,KAAK,uBAAuB,CAAC4G,QAAQ30B,KAAK20B,QAAQoN,MAAM,IAAIvjC,KAAKq/B,KAAKp1B,GAAEzI,KAAK6W,KAAKxY,EAAEm6C,cAAc3a,KAAK79B,KAAKy4C,+BAA+Bp6C,IAAIw/B,KAAK79B,KAAK04C,6BAA6B7a,MAAMr/B,IAAI,MAAMC,EAAE,CAACk2B,QAAQ30B,KAAK20B,QAAQoN,MAAM3/B,aAAE5D,EAAEm6C,cAAc,OAAOn6C,EAAE06B,QAAQ,IAAI,QAAQ,IAAI,SAASl5B,KAAK+tB,KAAK,iBAAiBtvB,GAAG,MAAM,IAAI,MAAMuB,KAAKq1C,WAAW,KAAKr1C,KAAK+tB,KAAK,sBAAsBtvB,GAAG,OAAOD,KAAKoD,EAAEi8B,MAAM,KAAKp/B,YAAEuB,KAAKq1C,aAAar1C,KAAK+tB,KAAK,sBAAsB,CAAC4G,QAAQ30B,KAAK20B,QAAQoN,MAAM,IAAI/hC,KAAKw1B,gBAAgBijB,+BAA+Bj6C,GAAG,OAAOC,IAAI,MAAMoB,EAAE6F,KAAEmjB,OAAOrqB,EAAEg6C,aAAal6C,EAAEmL,GAAEhL,EAAE2hC,YAAY3hC,EAAE4hC,UAAUrgC,KAAK41C,cAAclvC,OAAO7G,GAAG,MAAM,IAAIpB,EAAEm6C,WAAW/4C,EAAE84C,YAAYr6C,IAAIo6C,4BAA4B,OAAOl6C,IAAI,MAAMC,EAAEqG,YAAElC,cAAI5C,KAAK21C,eAAejvC,QAAQ7G,EAAE,GAAG,IAAI,MAAMxB,KAAK2B,KAAKg2C,cAAc9M,aAAaC,WAAWtpC,EAAE+T,QAAQvV,EAAEuyB,UAAU,MAAMtyB,EAAE,UAAUE,EAAE06B,OAAO,EAAE,EAAEt3B,EAAE5B,KAAKg2C,cAAc6C,eAAeh5C,EAAEG,KAAKg2C,cAAc9M,aAAarV,iBAAiBykB,QAAQ75C,GAAGD,EAAEm6C,YAAYr6C,EAAE,GAAG,OAAO+Q,KAAE/C,KAAKtM,KAAK21C,eAAe31C,KAAK01C,WAAWoC,GAAGl2C,EAAE5B,KAAK01C,WAAW11C,KAAK20B,QAAQnV,SAASxf,KAAKg2C,cAAcx2B,SAAShhB,GAAGu5C,kBAAkBv5C,GAAG,MAAMC,EAAEiO,KAAEvC,SAAStK,EAAEwC,aAAE7D,GAAG,OAAOkO,KAAEqtB,WAAW/5B,KAAK6W,KAAKyhB,MAAMp5B,OAAOW,EAAEpB,GAAGuO,YAAEvO,EAAE6J,UAAU7J,EAAE6J,WAAW7J,EAAEi5C,qBAAqB,IAAI13C,KAAKuG,QAAQ,OAAO,MAAM/H,EHA96U,SAAYC,EAAED,GAAG,OAAO6P,GAAE5P,EAAE00C,OAAO10C,EAAE20C,OAAO30C,EAAEiI,OAAOlI,GGA23UsxC,CAAG9vC,KAAK41C,cAAc1oC,KAAEzM,QHAhlS,SAAYhC,EAAED,EAAEqB,EAAE+B,GAAG,MAAM5D,EAAE4D,EAAE++B,kBAAkB9gC,EAAE6G,OAAO+B,KAAEhI,OAAOpC,EAAE40C,GAAGpzC,EAAE,GAAGD,EAAEsL,aAAElC,KAAEvI,OAAOqL,aAAElM,EAAEA,EAAEvB,EAAEiF,KAAK6F,KAAKC,GAAG,GAAGiO,aAAEzX,EAAEA,GAAG+0C,GAAG90C,EAAE7B,IAAIgP,aAAEpN,EAAEpB,EAAEoB,GAAGA,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAEnB,EAAE8jC,eAAe3iC,EAAEnB,EAAE46B,eAAeh7B,EAAE6J,UGA84R6kC,CAAG/sC,KAAKw1C,kBAAkBh3C,EAAEwB,KAAK41C,cAAc51C,KAAK6W,KAAK4W,oBAAoBztB,KAAK84C,kBAAkB94C,KAAKs1C,iBAAiB92C,GAAGwB,KAAKu1C,mBAAmBn1C,SAAS,CAAC3B,EAAEoB,MHAzxT,SAAYpB,EAAED,EAAEqB,EAAE+B,GAAG,MAAM5D,EAAEoE,YAAER,EAAEuxC,QAAQ90C,EAAE+D,YAAER,EAAEwxC,QAAQxzC,EAAEyzC,GAAGzxC,GAAGtD,EAAEg1C,GAAG1xC,GAAGb,EAAEyK,YAAE/C,KAAEhI,MAAM,EAAE,EAAE,GAAG8B,YAAExB,EAAE6B,YAAE6F,KAAEhI,MAAMmB,EAAEuxC,OAAO30C,EAAE8J,UAAU,IAAI1F,YAAE6F,KAAEhI,MAAMmB,EAAEwxC,OAAO50C,EAAE8J,UAAU,KAAK/F,YAAExB,EAAEa,EAAE8E,OAAO3F,GAAG,IAAIsB,EAAE,EAAEyC,EAAE,EAAE,GAAGyuC,GAAG/0C,GAAG,IAAIA,EAAE8J,UAAU,KAAK,IAAI9J,EAAE8J,UAAU,GAAGjG,EAAEmsC,GAAG,IAAIhwC,EAAE8J,UAAU,IAAI,IAAI9J,EAAE8J,UAAU,GAAGjG,EAAE8G,KAAKC,IAAI,IAAI5K,EAAE8J,UAAU,IAAI,IAAI9J,EAAE8J,UAAU,KAAKjG,EAAE,EAAE8G,KAAKC,GAAG,GAAGtE,EAAExG,MAAM,CAAC,MAAMG,EAAE,IAAID,EAAE8J,UAAU,GAAG,EAAE,EAAEjG,EAAE,IAAI5D,EAAE+vC,GAAG,EAAE1pC,GAAG,IAAIrG,EAAEJ,EAAEL,GAAG4B,EAAE,MAAM0C,EAAE4I,aAAElC,KAAEvI,OAAOqL,aAAExJ,EAAEA,EAAED,GAAGgN,aAAE/M,EAAEA,EAAEkJ,YAAE/C,KAAEhI,MAAMqE,EAAEA,EAAEA,IAAIkI,aAAE1K,EAAEzC,EAAEyC,GAAGA,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAE7D,EAAE8jC,eAAejgC,EAAE7D,EAAE46B,eAAet4B,EGA+vSg4C,CAAGt6C,EAAEuB,KAAK+1C,cAAcl2C,GAAGrB,EAAEwB,KAAK41C,kBAAkBkD,kBAAkBt6C,EAAEC,GAAG,MAAMoB,EAAEG,KAAK41C,cAAct3C,EAAE,CAAC40C,MAAMrzC,EAAEszC,OAAO7qC,WAAW,EAAEJ,SAASL,YAAE6D,KAAEjL,MAAMZ,EAAE6G,OAAO7G,EAAEszC,QAAQ7vC,KAAK,GAAG1B,EAAEsL,KAAEzM,MAAMoD,aAAEjC,EAAEnD,EAAEH,EAAEgF,KAAK6F,KAAKC,GAAG,GAAGxH,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAEpD,EAAE+jC,eAAe3gC,EAAEpD,EAAE66B,eAAe/6B,EAAE4J,SAASstB,SAAS,MAAMh3B,EAAEwB,KAAKg2C,cAAc9M,aAAa8P,cAAc16C,YAAEE,KAAKwB,KAAKg2C,cAAc9gB,OAAOl1B,KAAK20B,QAAQnV,SAASxf,KAAKg2C,cAAcx2B,SAASy5B,GAAGz6C,EAAEwB,KAAK01C,WAAW11C,KAAK82C,oBAAoB92C,KAAK01C,WAAW11C,KAAKq1C,WAAW,MAAMpgB,UAAU,OAAOj1B,KAAKg2C,cAAc/gB,QAAQC,OAAO,GAAGz2B,YAAEuB,KAAKq1C,YAAYr1C,KAAK6W,KAAKqiC,WAAW,UAAU,GAAGl5C,KAAKi1B,UAAU,CAAC,MAAMz2B,EAAEwB,KAAKg2C,cAAc9gB,OAAOl1B,KAAK20B,QAAQnV,SAASxf,KAAKg2C,cAAcx2B,SAASy5B,GAAGr3C,YAAEpD,GAAGwB,KAAK01C,WAAW11C,KAAK82C,oBAAoB92C,KAAK01C,YAAY3gB,UAAU,OAAO/0B,KAAKg2C,cAAcjhB,QAAQC,OAAO,GAAGh1B,KAAK+0B,UAAU,CAAC,MAAMv2B,EAAEwB,KAAKg2C,cAAchhB,OAAOh1B,KAAK20B,QAAQnV,SAASxf,KAAKg2C,cAAcx2B,SAASs4B,GAAGl2C,YAAEpD,GAAGwB,KAAK01C,WAAW11C,KAAK82C,oBAAoB92C,KAAK01C,cAAcl3C,YAAE,CAACR,YAAE,CAAC8rB,eAAc,EAAG6L,aAAY,KAAMwf,GAAGnkC,UAAU,YAAO,GAAQxS,YAAE,CAACR,YAAE,CAAC8rB,eAAc,EAAG6L,aAAY,KAAMwf,GAAGnkC,UAAU,eAAU,GAAQxS,YAAE,CAACR,YAAE,CAAC8rB,eAAc,EAAG6L,aAAY,KAAMwf,GAAGnkC,UAAU,eAAU,GAAQxS,YAAE,CAACR,eAAKm3C,GAAGnkC,UAAU,sBAAiB,GAAQxS,YAAE,CAACR,eAAKm3C,GAAGnkC,UAAU,qBAAgB,GAAQxS,YAAE,CAACR,eAAKm3C,GAAGnkC,UAAU,sBAAsB,MAAMxS,YAAE,CAACR,eAAKm3C,GAAGnkC,UAAU,gBAAW,GAAQxS,YAAE,CAACR,eAAKm3C,GAAGnkC,UAAU,kBAAa,GAAQxS,YAAE,CAACR,YAAE,CAACgsB,UAAS,KAAMmrB,GAAGnkC,UAAU,YAAO,GAAQmkC,GAAG32C,YAAE,CAACoB,YAAE,kFAAkFu1C,IAAI,MAAMgC,GAAG,2BAA2BQ,GAAG,GAAGP,GAAG,GAAGgB,GAAG,M,iCEA5thB,SAAS35C,EAAEA,EAAED,EAAEH,GAAG,MAAMwB,EAAErB,GAAGA,EAAEsC,OAAOD,EAAEhB,EAAErB,EAAE,GAAGH,EAAEI,EAAEqC,OAAO,IAAI9C,EAAE4B,EAAEnB,EAAE,EAAEoC,EAAExC,GAAE,GAAI,MAAMgE,EAAE,IAAIsF,MAAM,IAAI3J,GAAGA,EAAE6/B,OAAO7/B,EAAEm7C,KAAK,OAAO92C,EAAE,IAAIwF,EAAEtE,EAAExC,EAAEiM,EAAEpL,EAAE,GAAG/B,IAAI7B,EAAEgG,EAAEvF,EAAED,EAAER,EAAEK,IAAII,EAAEqC,OAAO,GAAGzC,EAAE,CAACwJ,EAAE9G,EAAEtC,EAAE,GAAG8E,EAAEyJ,EAAEvO,EAAE,GAAG,IAAI,IAAImB,EAAEvB,EAAEuB,EAAEiB,EAAEjB,GAAGvB,EAAE,CAAC,MAAMG,EAAEC,EAAEmB,GAAGmL,EAAEtM,EAAEmB,EAAE,GAAGiI,EAAEsB,KAAK4E,IAAIlG,EAAErJ,GAAG+E,EAAE4F,KAAK4E,IAAIxK,EAAEwH,GAAGhK,EAAEoI,KAAK8D,IAAIlM,EAAEvC,GAAGwO,EAAE7D,KAAK8D,IAAID,EAAEjC,GAAGnJ,EAAEuH,KAAK8D,IAAIlM,EAAE8G,EAAEmF,EAAEzJ,GAAG3B,EAAE,IAAIA,EAAE,EAAEA,EAAE,EAAE,OAAOmJ,EAAE/M,EAAEqE,EAAEhE,EAAEwJ,EAAEtE,EAAE3B,GAAGS,EAAE,SAASzC,EAAEnB,EAAEmB,EAAEpB,EAAEuM,EAAE1M,GAAG,IAAIwB,EAAE,GAAGxB,IAAIC,EAAEG,EAAEmB,EAAEpB,EAAEuM,GAAG,EAAE,IAAI,IAAI/M,EAAE4B,EAAE5B,EAAEQ,EAAER,GAAG+M,EAAElL,EAAEgB,EAAE7C,EAAES,EAAET,GAAGS,EAAET,EAAE,GAAG6B,QAAQ,IAAI,IAAI7B,EAAEQ,EAAEuM,EAAE/M,GAAG4B,EAAE5B,GAAG+M,EAAElL,EAAEgB,EAAE7C,EAAES,EAAET,GAAGS,EAAET,EAAE,GAAG6B,GAAG,OAAOA,GAAG6F,EAAE7F,EAAEA,EAAEg+B,QAAQ7/B,EAAE6B,GAAGA,EAAEA,EAAEg+B,MAAMh+B,EAAE,SAASrB,EAAEC,EAAEmB,EAAEnB,GAAG,IAAIA,EAAE,OAAOA,EAAE,IAAID,EAAEuM,EAAEtM,EAAE,GAAG,GAAGD,GAAE,EAAGuM,EAAEquC,UAAU1zC,EAAEqF,EAAEA,EAAE8yB,OAAO,IAAIz7B,EAAE2I,EAAEouC,KAAKpuC,EAAEA,EAAE8yB,MAAM9yB,EAAEA,EAAE8yB,SAAS,CAAC,GAAG7/B,EAAE+M,GAAGA,EAAEnL,EAAEmL,EAAEouC,KAAKpuC,IAAIA,EAAE8yB,KAAK,MAAMr/B,GAAE,SAAUA,GAAGuM,IAAInL,GAAG,OAAOA,EAAE,SAASmL,EAAEtM,EAAEmB,EAAEiB,EAAEwB,EAAE2B,EAAE6D,EAAEtE,EAAE,GAAG,IAAI9E,EAAE,QAAQ8E,GAAGsE,IAAIpJ,EAAEsC,EAAEtC,EAAE4D,EAAE2B,EAAE6D,IAAI,IAAImF,EAAEvO,EAAE,KAAKA,EAAE06C,OAAO16C,EAAEo/B,MAAM,CAAC,MAAM98B,EAAEtC,EAAE06C,KAAKv3C,EAAEnD,EAAEo/B,KAAK,GAAGh2B,EAAEhI,EAAEpB,EAAE4D,EAAE2B,EAAE6D,GAAGxJ,EAAEI,GAAGmB,EAAEgU,KAAK7S,EAAE+G,MAAMjH,GAAGjB,EAAEgU,KAAKnV,EAAEqJ,MAAMjH,GAAGjB,EAAEgU,KAAKhS,EAAEkG,MAAMjH,GAAG7C,EAAES,GAAGA,EAAEmD,EAAEi8B,KAAK7wB,EAAEpL,EAAEi8B,UAAU,IAAIp/B,EAAEmD,KAAKoL,EAAE,CAACzJ,EAAE,IAAIA,EAAEwH,EAAEtM,EAAEqG,EAAErG,EAAEmB,EAAEiB,GAAGjB,EAAEiB,EAAEwB,EAAE2B,EAAE6D,EAAE,GAAG,IAAItE,GAAG2H,EAAEzM,EAAEmB,EAAEiB,EAAEwB,EAAE2B,EAAE6D,GAAGkD,EAAEvM,EAAEC,GAAGmB,EAAEiB,EAAEwB,EAAE2B,EAAE6D,EAAE,GAAG,QAAQ,SAASxJ,EAAEI,GAAG,MAAMmB,EAAEnB,EAAE06C,KAAK36C,EAAEC,EAAEsM,EAAEtM,EAAEo/B,KAAK,GAAGz7B,EAAExC,EAAEpB,EAAEuM,IAAI,EAAE,OAAM,EAAG,IAAI1M,EAAEI,EAAEo/B,KAAKA,KAAK,MAAMh+B,EAAExB,EAAE,IAAIwC,EAAE,EAAE,KAAKxC,IAAII,EAAE06C,OAAO,IAAIt4C,GAAGxC,IAAIwB,IAAI,CAAC,GAAGgB,IAAIgD,EAAEjE,EAAEmL,EAAEnL,EAAEiI,EAAErJ,EAAEuM,EAAEvM,EAAEqJ,EAAEkD,EAAEA,EAAEA,EAAElD,EAAExJ,EAAE0M,EAAE1M,EAAEwJ,IAAIzF,EAAE/D,EAAE86C,KAAK96C,EAAEA,EAAEw/B,OAAO,EAAE,OAAM,EAAGx/B,EAAEA,EAAEw/B,KAAK,OAAM,EAAG,SAASh+B,EAAEpB,EAAEmB,EAAEpB,EAAEuM,GAAG,MAAM1M,EAAEI,EAAE06C,KAAKt5C,EAAEpB,EAAEoC,EAAEpC,EAAEo/B,KAAK,GAAGz7B,EAAE/D,EAAEwB,EAAEgB,IAAI,EAAE,OAAM,EAAG,MAAM7C,EAAEK,EAAE0M,EAAElL,EAAEkL,EAAE1M,EAAE0M,EAAElK,EAAEkK,EAAE1M,EAAE0M,EAAElK,EAAEkK,EAAElL,EAAEkL,EAAElK,EAAEkK,EAAElL,EAAEkL,EAAElK,EAAEkK,EAAE1I,EAAEhE,EAAEwJ,EAAEhI,EAAEgI,EAAExJ,EAAEwJ,EAAEhH,EAAEgH,EAAExJ,EAAEwJ,EAAEhH,EAAEgH,EAAEhI,EAAEgI,EAAEhH,EAAEgH,EAAEhI,EAAEgI,EAAEhH,EAAEgH,EAAE7D,EAAE3F,EAAE0M,EAAElL,EAAEkL,EAAE1M,EAAE0M,EAAElK,EAAEkK,EAAE1M,EAAE0M,EAAElK,EAAEkK,EAAElL,EAAEkL,EAAElK,EAAEkK,EAAElL,EAAEkL,EAAElK,EAAEkK,EAAElD,EAAExJ,EAAEwJ,EAAEhI,EAAEgI,EAAExJ,EAAEwJ,EAAEhH,EAAEgH,EAAExJ,EAAEwJ,EAAEhH,EAAEgH,EAAEhI,EAAEgI,EAAEhH,EAAEgH,EAAEhI,EAAEgI,EAAEhH,EAAEgH,EAAEtE,EAAEuI,EAAE9N,EAAEqE,EAAEzC,EAAEpB,EAAEuM,GAAGhK,EAAE+K,EAAE9H,EAAE6D,EAAEjI,EAAEpB,EAAEuM,GAAG,IAAIiC,EAAEvO,EAAE46C,MAAMz3C,EAAEnD,EAAE66C,MAAM,KAAKtsC,GAAGA,EAAEtH,GAAGnC,GAAG3B,GAAGA,EAAE8D,GAAG3E,GAAG,CAAC,GAAGiM,IAAIvO,EAAE06C,MAAMnsC,IAAIvO,EAAEo/B,MAAMh6B,EAAExF,EAAE0M,EAAE1M,EAAEwJ,EAAEhI,EAAEkL,EAAElL,EAAEgI,EAAEhH,EAAEkK,EAAElK,EAAEgH,EAAEmF,EAAEjC,EAAEiC,EAAEnF,IAAIzF,EAAE4K,EAAEmsC,KAAKnsC,EAAEA,EAAE6wB,OAAO,EAAE,OAAM,EAAG,GAAG7wB,EAAEA,EAAEqsC,MAAMz3C,IAAInD,EAAE06C,MAAMv3C,IAAInD,EAAEo/B,MAAMh6B,EAAExF,EAAE0M,EAAE1M,EAAEwJ,EAAEhI,EAAEkL,EAAElL,EAAEgI,EAAEhH,EAAEkK,EAAElK,EAAEgH,EAAEjG,EAAEmJ,EAAEnJ,EAAEiG,IAAIzF,EAAER,EAAEu3C,KAAKv3C,EAAEA,EAAEi8B,OAAO,EAAE,OAAM,EAAGj8B,EAAEA,EAAE03C,MAAM,KAAKtsC,GAAGA,EAAEtH,GAAGnC,GAAG,CAAC,GAAGyJ,IAAIvO,EAAE06C,MAAMnsC,IAAIvO,EAAEo/B,MAAMh6B,EAAExF,EAAE0M,EAAE1M,EAAEwJ,EAAEhI,EAAEkL,EAAElL,EAAEgI,EAAEhH,EAAEkK,EAAElK,EAAEgH,EAAEmF,EAAEjC,EAAEiC,EAAEnF,IAAIzF,EAAE4K,EAAEmsC,KAAKnsC,EAAEA,EAAE6wB,OAAO,EAAE,OAAM,EAAG7wB,EAAEA,EAAEqsC,MAAM,KAAKz3C,GAAGA,EAAE8D,GAAG3E,GAAG,CAAC,GAAGa,IAAInD,EAAE06C,MAAMv3C,IAAInD,EAAEo/B,MAAMh6B,EAAExF,EAAE0M,EAAE1M,EAAEwJ,EAAEhI,EAAEkL,EAAElL,EAAEgI,EAAEhH,EAAEkK,EAAElK,EAAEgH,EAAEjG,EAAEmJ,EAAEnJ,EAAEiG,IAAIzF,EAAER,EAAEu3C,KAAKv3C,EAAEA,EAAEi8B,OAAO,EAAE,OAAM,EAAGj8B,EAAEA,EAAE03C,MAAM,OAAM,EAAG,SAASz4C,EAAEpC,EAAEmB,EAAEpB,EAAEuM,GAAG,MAAM1M,EAAE,IAAIyO,EAAErO,EAAEmB,EAAEpB,GAAG,OAAOuM,GAAG1M,EAAEw/B,KAAK9yB,EAAE8yB,KAAKx/B,EAAE86C,KAAKpuC,EAAEA,EAAE8yB,KAAKsb,KAAK96C,EAAE0M,EAAE8yB,KAAKx/B,IAAIA,EAAE86C,KAAK96C,EAAEA,EAAEw/B,KAAKx/B,GAAGA,EAAE,SAASL,EAAES,GAAGA,EAAEo/B,KAAKsb,KAAK16C,EAAE06C,KAAK16C,EAAE06C,KAAKtb,KAAKp/B,EAAEo/B,KAAKp/B,EAAE46C,QAAQ56C,EAAE46C,MAAMC,MAAM76C,EAAE66C,OAAO76C,EAAE66C,QAAQ76C,EAAE66C,MAAMD,MAAM56C,EAAE46C,OAAO,SAASh3C,EAAE5D,GAAG,IAAImB,EAAEnB,EAAED,EAAEC,EAAE,IAAImB,EAAEmL,EAAEvM,EAAEuM,GAAGnL,EAAEmL,IAAIvM,EAAEuM,GAAGnL,EAAEiI,EAAErJ,EAAEqJ,KAAKrJ,EAAEoB,GAAGA,EAAEA,EAAEi+B,WAAWj+B,IAAInB,GAAG,OAAOD,EAAE,SAASwF,EAAEvF,EAAEsM,EAAE1M,EAAEwB,GAAG,MAAMgB,EAAE,IAAI8G,MAAM,IAAI,IAAInJ,EAAE,EAAER,EAAE+M,EAAEjK,OAAOtC,EAAER,EAAEQ,IAAI,CAAC,MAAMH,EAAEuB,EAAEnB,EAAEsM,EAAEvM,GAAGqB,EAAErB,EAAER,EAAE,EAAE+M,EAAEvM,EAAE,GAAGqB,EAAEpB,EAAEqC,OAAOjB,GAAE,GAAIxB,IAAIA,EAAEw/B,OAAOx/B,EAAE+6C,SAAQ,GAAIv4C,EAAE+S,KAAKvR,EAAEhE,IAAIwC,EAAE8f,KAAKpe,GAAG,IAAI,MAAM3C,KAAKiB,EAAEgH,EAAEjI,EAAEvB,GAAGA,EAAEG,EAAEH,EAAEA,EAAEw/B,MAAM,OAAOx/B,EAAE,SAASwJ,EAAEpJ,EAAEmB,GAAG,GAAGA,EAAsC,SAAWnB,EAAEmB,GAAG,IAAIpB,EAAEoB,EAAE,MAAMmL,EAAEtM,EAAEsM,EAAE1M,EAAEI,EAAEoJ,EAAE,IAAIhI,EAAEgB,GAAE,IAAK,EAAE,CAAC,GAAGxC,GAAGG,EAAEqJ,GAAGxJ,GAAGG,EAAEq/B,KAAKh2B,GAAGrJ,EAAEq/B,KAAKh2B,IAAIrJ,EAAEqJ,EAAE,CAAC,MAAMpJ,EAAED,EAAEuM,GAAG1M,EAAEG,EAAEqJ,IAAIrJ,EAAEq/B,KAAK9yB,EAAEvM,EAAEuM,IAAIvM,EAAEq/B,KAAKh2B,EAAErJ,EAAEqJ,GAAG,GAAGpJ,GAAGsM,GAAGtM,EAAEoC,EAAE,CAAC,GAAGA,EAAEpC,EAAEA,IAAIsM,EAAE,CAAC,GAAG1M,IAAIG,EAAEqJ,EAAE,OAAOrJ,EAAE,GAAGH,IAAIG,EAAEq/B,KAAKh2B,EAAE,OAAOrJ,EAAEq/B,KAAKh+B,EAAErB,EAAEuM,EAAEvM,EAAEq/B,KAAK9yB,EAAEvM,EAAEA,EAAEq/B,MAAMr/B,EAAEA,EAAEq/B,WAAWr/B,IAAIoB,GAAG,IAAIC,EAAE,OAAO,KAAK,GAAGkL,IAAIlK,EAAE,OAAOhB,EAAEs5C,KAAK,MAAMn7C,EAAE6B,EAAEwC,EAAExC,EAAEkL,EAAE/G,EAAEnE,EAAEgI,EAAE,IAAIA,EAAEtE,EAAE,IAAI,IAAI/E,EAAEqB,EAAEg+B,KAAKr/B,IAAIR,GAAG+M,GAAGvM,EAAEuM,GAAGvM,EAAEuM,GAAG1I,GAAG0I,IAAIvM,EAAEuM,GAAGlH,EAAExF,EAAE2F,EAAE+G,EAAElK,EAAExC,EAAEgE,EAAE2B,EAAE3F,EAAE2F,EAAEnD,EAAEkK,EAAE1M,EAAEG,EAAEuM,EAAEvM,EAAEqJ,KAAKA,EAAEsB,KAAKyD,IAAIvO,EAAEG,EAAEqJ,IAAIkD,EAAEvM,EAAEuM,IAAIlD,EAAEtE,GAAGsE,IAAItE,GAAG/E,EAAEuM,EAAElL,EAAEkL,IAAIzI,EAAE9D,EAAEC,KAAKoB,EAAErB,EAAE+E,EAAEsE,IAAIrJ,EAAEA,EAAEq/B,KAAK,OAAOh+B,EAAtiB0D,CAAE9E,EAAEmB,GAAG,CAAC,MAAMmL,EAAEsD,EAAEzO,EAAEnB,GAAGD,EAAEuM,EAAEA,EAAE8yB,OAA2gB,SAAS98B,EAAEtC,EAAEmB,EAAEpB,EAAEuM,GAAG,IAAI,IAAI1M,EAAEA,IAAII,EAAEJ,EAAEA,EAAEw/B,KAAK,CAAC,GAAGx/B,EAAEA,GAAGI,EAAE,OAAOJ,EAAEqH,IAAIrH,EAAEqH,EAAEoG,EAAEzN,EAAE0M,EAAE1M,EAAEwJ,EAAEjI,EAAEpB,EAAEuM,IAAI1M,EAAE86C,KAAKtb,OAAOx/B,GAAGA,EAAEw/B,KAAKsb,OAAO96C,EAAE,OAAOA,EAAE86C,KAAKtb,KAAKx/B,EAAEA,EAAEw/B,KAAKsb,KAAK96C,EAAE0C,EAAEtC,EAAEmB,EAAEpB,EAAEuM,GAAG1M,EAAEg7C,MAAMh7C,EAAE86C,KAAK96C,EAAEi7C,MAAMj7C,EAAEw/B,KAAK,OAAOp/B,EAAE46C,MAAMC,MAAM,KAAK76C,EAAE46C,MAAM,KAAU,SAAW56C,GAAG,IAAImB,EAAEpB,EAAE,EAAE,OAAO,CAAC,IAAIuM,EAAE1M,EAAEI,EAAEA,EAAE,KAAKmB,EAAE,KAAK,IAAIC,EAAE,EAAE,KAAKxB,GAAG,CAACwB,IAAIkL,EAAE1M,EAAE,IAAIwC,EAAE,EAAE,KAAKA,EAAErC,GAAGuM,EAAElK,IAAIkK,EAAEA,EAAEuuC,MAAM,IAAIt7C,EAAEQ,EAAE,KAAKqC,EAAE,GAAG7C,EAAE,GAAG+M,GAAG,CAAC,IAAIvM,EAAE,IAAIqC,GAAGrC,EAAEuM,EAAEA,EAAEA,EAAEuuC,MAAMt7C,KAAK,IAAIA,GAAG+M,EAAE1M,EAAEqH,GAAGqF,EAAErF,GAAGlH,EAAEH,EAAEA,EAAEA,EAAEi7C,MAAMz4C,MAAMrC,EAAEuM,EAAEA,EAAEA,EAAEuuC,MAAMt7C,MAAMQ,EAAEH,EAAEA,EAAEA,EAAEi7C,MAAMz4C,KAAKjB,EAAEA,EAAE05C,MAAM96C,EAAEC,EAAED,EAAEA,EAAE66C,MAAMz5C,EAAEA,EAAEpB,EAAEH,EAAE0M,EAAE,GAAGnL,EAAE05C,MAAM,KAAK96C,GAAG,EAAEqB,EAAE,EAAE,OAAOpB,GAAnUuO,CAAEvO,GAAoU,SAASmD,EAAEnD,EAAEmB,EAAEpB,EAAEuM,GAAG,MAAM1M,EAAEuB,GAAGA,EAAEkB,OAAOjB,EAAExB,EAAEuB,EAAE,GAAGpB,EAAEC,EAAEqC,OAAO,IAAID,EAAEsI,KAAKyD,IAAItO,EAAEG,EAAE,EAAEoB,EAAErB,IAAI,GAAGH,EAAE,IAAI,IAAIgE,EAAE,EAAE2B,EAAEpE,EAAEkB,OAAOuB,EAAE2B,EAAE3B,IAAI,CAAC,MAAM0I,EAAEnL,EAAEyC,GAAG7D,EAAEH,EAAEgE,EAAE2B,EAAE,EAAEpE,EAAEyC,EAAE,GAAG7D,EAAEC,EAAEqC,OAAOD,GAAGsI,KAAKyD,IAAItO,EAAEG,EAAEsM,EAAE1M,EAAEG,IAAI,IAAIR,EAAE,EAAE,IAAI,IAAIqE,EAAE,EAAEA,EAAE0I,EAAEjK,OAAOuB,GAAG,EAAE,CAAC,MAAMzC,EAAEmL,EAAE1I,GAAG7D,EAAEH,EAAE0M,EAAE1I,EAAE,GAAG7D,EAAEqB,EAAEkL,EAAE1I,EAAE,GAAG7D,EAAER,GAAGmL,KAAKyD,KAAKnO,EAAEmB,GAAGnB,EAAEoB,KAAKpB,EAAEJ,EAAE,GAAGI,EAAEmB,EAAE,KAAKnB,EAAEmB,GAAGnB,EAAEJ,KAAKI,EAAEoB,EAAE,GAAGpB,EAAEmB,EAAE,KAAK,OAAO,IAAIiB,GAAG,IAAI7C,EAAE,EAAEmL,KAAKyD,KAAK5O,EAAE6C,GAAGA,GAAG,SAASuB,EAAE3D,EAAEmB,EAAEpB,GAAG,OAAOoB,EAAEiI,EAAEpJ,EAAEoJ,IAAIrJ,EAAEuM,EAAEnL,EAAEmL,IAAInL,EAAEmL,EAAEtM,EAAEsM,IAAIvM,EAAEqJ,EAAEjI,EAAEiI,GAAG,SAASjF,EAAEnE,EAAEmB,EAAEpB,EAAEuM,GAAG,SAASrF,EAAEjH,EAAEmB,IAAI8F,EAAElH,EAAEuM,IAAIrF,EAAEjH,EAAEsM,IAAIrF,EAAElH,EAAEoB,KAAKwC,EAAE3D,EAAEmB,EAAEpB,GAAG,GAAG4D,EAAE3D,EAAEmB,EAAEmL,GAAG,GAAG3I,EAAE5D,EAAEuM,EAAEtM,GAAG,GAAG2D,EAAE5D,EAAEuM,EAAEnL,GAAG,EAA8K,SAAStB,EAAEG,EAAEmB,EAAEpB,EAAEuM,GAAG,IAAI1M,EAAE,EAAE,IAAI,IAAIwB,EAAED,EAAEiB,EAAErC,EAAEuM,EAAElL,EAAErB,EAAEqB,GAAGkL,EAAE1M,IAAII,EAAEoC,GAAGpC,EAAEoB,KAAKpB,EAAEoB,EAAE,GAAGpB,EAAEoC,EAAE,IAAIA,EAAEhB,EAAE,OAAOxB,EAAE,SAASwF,EAAEpF,EAAEmB,EAAEpB,EAAEuM,EAAE1M,EAAEwB,EAAEgB,EAAE7C,GAAG,OAAOK,EAAEwC,IAAIjB,EAAE5B,IAAIS,EAAEoC,IAAIhB,EAAE7B,IAAI,IAAIS,EAAEoC,IAAIkK,EAAE/M,IAAIQ,EAAEqC,IAAIjB,EAAE5B,IAAI,IAAIQ,EAAEqC,IAAIhB,EAAE7B,IAAIK,EAAEwC,IAAIkK,EAAE/M,IAAI,EAAE,SAASsE,EAAE7D,EAAEmB,GAAG,OAAOwC,EAAE3D,EAAE06C,KAAK16C,EAAEA,EAAEo/B,MAAM,EAAEz7B,EAAE3D,EAAEmB,EAAEnB,EAAEo/B,OAAO,GAAGz7B,EAAE3D,EAAEA,EAAE06C,KAAKv5C,IAAI,EAAEwC,EAAE3D,EAAEmB,EAAEnB,EAAE06C,MAAM,GAAG/2C,EAAE3D,EAAEA,EAAEo/B,KAAKj+B,GAAG,EAAE,SAASkM,EAAErN,EAAEmB,EAAEpB,EAAEuM,EAAE1M,GAAG,OAAOI,EAAE,aAAaA,EAAE,YAAYA,EAAE,YAAYA,EAAE,WAAWA,EAAE,OAAOA,EAAED,GAAGH,GAAGI,GAAG,IAAIA,GAAG,IAAIA,GAAG,IAAIA,GAAG,KAAKmB,EAAE,aAAaA,EAAE,YAAYA,EAAE,YAAYA,EAAE,WAAWA,EAAE,OAAOA,EAAEmL,GAAG1M,GAAGuB,GAAG,IAAIA,GAAG,IAAIA,GAAG,IAAIA,GAAG,KAAK,EAAE,SAAS8F,EAAEjH,EAAEmB,GAAG,OAAOnB,EAAEsM,IAAInL,EAAEmL,GAAGtM,EAAEoJ,IAAIjI,EAAEiI,EAAE,SAAStF,EAAE9D,EAAEmB,GAAG,OAAOnB,EAAEsM,EAAEnL,EAAEmL,EAAE,SAASjG,EAAErG,EAAEmB,EAAEpB,GAAG,IAAIuM,EAAEtM,EAAE,EAAE,CAAC,MAAMJ,EAAE0M,EAAEouC,KAAKt5C,EAAEkL,EAAE8yB,KAAKA,MAAMn4B,EAAErH,EAAEwB,IAAI+C,EAAEvE,EAAE0M,EAAEA,EAAE8yB,KAAKh+B,IAAIyC,EAAEjE,EAAEwB,IAAIyC,EAAEzC,EAAExB,KAAKuB,EAAEgU,KAAKvV,EAAEyJ,MAAMtJ,GAAGoB,EAAEgU,KAAK7I,EAAEjD,MAAMtJ,GAAGoB,EAAEgU,KAAK/T,EAAEiI,MAAMtJ,GAAGR,EAAE+M,GAAG/M,EAAE+M,EAAE8yB,MAAM9yB,EAAEtM,EAAEoB,GAAGkL,EAAEA,EAAE8yB,WAAW9yB,IAAItM,GAAG,OAAOsM,EAAE,SAASG,EAAEzM,EAAEmB,EAAEvB,EAAEwB,EAAEgB,EAAE7C,GAAG,IAAIqE,EAAE5D,EAAE,EAAE,CAAC,IAAIA,EAAE4D,EAAEw7B,KAAKA,KAAK,KAAKp/B,IAAI4D,EAAE82C,MAAM,CAAC,GAAG92C,EAAEyF,QAAQrJ,EAAEqJ,OAAOoF,EAAE7K,EAAE5D,GAAG,CAAC,IAAIuF,EAAEqK,EAAEhM,EAAE5D,GAAG,OAAO4D,EAAE7D,EAAE6D,EAAEA,EAAEw7B,MAAM75B,EAAExF,EAAEwF,EAAEA,EAAE65B,MAAM9yB,EAAE1I,EAAEzC,EAAEvB,EAAEwB,EAAEgB,EAAE7C,QAAQ+M,EAAE/G,EAAEpE,EAAEvB,EAAEwB,EAAEgB,EAAE7C,GAAGS,EAAEA,EAAEo/B,KAAKx7B,EAAEA,EAAEw7B,WAAWx7B,IAAI5D,GAAG,SAASyO,EAAEzO,EAAEmB,GAAG,OAAOnB,EAAEo/B,KAAK/1B,QAAQlI,EAAEkI,OAAOrJ,EAAE06C,KAAKrxC,QAAQlI,EAAEkI,QAAjxC,SAAWrJ,EAAEmB,GAAG,IAAIpB,EAAEC,EAAE,EAAE,CAAC,GAAGD,EAAEsJ,QAAQrJ,EAAEqJ,OAAOtJ,EAAEq/B,KAAK/1B,QAAQrJ,EAAEqJ,OAAOtJ,EAAEsJ,QAAQlI,EAAEkI,OAAOtJ,EAAEq/B,KAAK/1B,QAAQlI,EAAEkI,OAAOlF,EAAEpE,EAAEA,EAAEq/B,KAAKp/B,EAAEmB,GAAG,OAAM,EAAGpB,EAAEA,EAAEq/B,WAAWr/B,IAAIC,GAAG,OAAM,EAAgnC8pB,CAAE9pB,EAAEmB,IAAI0C,EAAE7D,EAAEmB,IAAI0C,EAAE1C,EAAEnB,IAAW,SAAWA,EAAEmB,GAAG,IAAIpB,EAAEC,EAAEsM,GAAE,EAAG,MAAM1M,GAAGI,EAAEsM,EAAEnL,EAAEmL,GAAG,EAAElL,GAAGpB,EAAEoJ,EAAEjI,EAAEiI,GAAG,EAAE,GAAGrJ,EAAEqJ,EAAEhI,GAAGrB,EAAEq/B,KAAKh2B,EAAEhI,GAAGrB,EAAEq/B,KAAKh2B,IAAIrJ,EAAEqJ,GAAGxJ,GAAGG,EAAEq/B,KAAK9yB,EAAEvM,EAAEuM,IAAIlL,EAAErB,EAAEqJ,IAAIrJ,EAAEq/B,KAAKh2B,EAAErJ,EAAEqJ,GAAGrJ,EAAEuM,IAAIA,GAAGA,GAAGvM,EAAEA,EAAEq/B,WAAWr/B,IAAIC,GAAG,OAAOsM,EAA7LS,CAAE/M,EAAEmB,GAA2L,SAASyO,EAAE5P,EAAEmB,GAAG,MAAMpB,EAAE,IAAIsO,EAAErO,EAAEqJ,MAAMrJ,EAAEsM,EAAEtM,EAAEoJ,GAAGkD,EAAE,IAAI+B,EAAElN,EAAEkI,MAAMlI,EAAEmL,EAAEnL,EAAEiI,GAAGxJ,EAAEI,EAAEo/B,KAAKh+B,EAAED,EAAEu5C,KAAK,OAAO16C,EAAEo/B,KAAKj+B,EAAEA,EAAEu5C,KAAK16C,EAAED,EAAEq/B,KAAKx/B,EAAEA,EAAE86C,KAAK36C,EAAEuM,EAAE8yB,KAAKr/B,EAAEA,EAAE26C,KAAKpuC,EAAElL,EAAEg+B,KAAK9yB,EAAEA,EAAEouC,KAAKt5C,EAAEkL,EAJ/1L,oEAIi2L,MAAM+B,EAAE/M,YAAYtB,EAAEmB,EAAEpB,GAAGwB,KAAK8H,MAAMrJ,EAAEuB,KAAK+K,EAAEnL,EAAEI,KAAK6H,EAAErJ,EAAEwB,KAAKm5C,KAAK,KAAKn5C,KAAK69B,KAAK,KAAK79B,KAAK0F,EAAE,KAAK1F,KAAKq5C,MAAM,KAAKr5C,KAAKs5C,MAAM,KAAKt5C,KAAKo5C,SAAQ,K,iCCJl/L,sCAkEe36C,EAlEf,iBAI+H,SAASD,EAAEA,GAAGA,EAAEP,SAASM,QAAQD,KAAGE,EAAEP,SAASC,SAASC,IAAI,gBAAgB,aAAaK,EAAEP,SAASC,SAASC,IAAI,gBAAgB,OAAOK,EAAEP,SAASC,SAASC,IAAI,qBAAqB,QAAQK,EAAEP,SAASC,SAASC,IAAI,mBAAmB,OAAO,GAAGK,EAAEP,SAASC,SAASC,IAAI,oBAAoB,SAASK,EAAEP,SAASG,KAAKD,IAAIM,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA8D7aA,EAA2SD,IAAIA,EAAE,KAA5DG,aAAlP,SAAWF,EAAEH,EAAEE,GAAGF,EAAEse,uBAAuBte,EAAEuZ,UAAUlX,KAAKlC,EAAED,GAAGF,EAAEuZ,UAAUuD,SAAS3c,EAAEH,EAAEoI,UAAuKjI,EAAE86C,qBAAhK,SAAW96C,EAAEH,EAAEE,GAAGF,EAAEse,sBAAsBte,EAAEuZ,UAAUuD,SAAS3c,EAAED,IAAsHC,EAAE2c,SAArH,SAAW3c,EAAEH,GAAGA,EAAEse,sBAAsBte,EAAEuZ,UAAUuD,SAAS3c,EAAEH,EAAEoI,U,iCC9D1P,SAAS7G,EAAEA,GAAG,OAAOA,GAAG,gBAAgBA,GAAG,aAAaA,EAJxD,mC,iCCAA,8CAIsD,SAASvB,EAAEA,EAAED,GAAG,IAAIA,EAAE0W,QAAQ1W,EAAE0b,gBAAgBzb,EAAEk7C,SAASr7C,IAAI,cAAc,SAASG,EAAE+E,OAAOjF,KAAKD,IAAIM,GAAE;;QAExJ,IAAIJ,EAAE0W,QAAQ,IAAI1W,EAAE0W,QAAQzW,EAAEk7C,SAASr7C,IAAI,cAAc,SAASG,EAAE+E,OAAOnF,SAASC,IAAI,gBAAgB,QAAQG,EAAE+E,OAAOjF,KAAKD,IAAIM,GAAE;;;;QAIpIH,EAAE+E,OAAOjF,KAAKD,IAAIM,GAAE;;0CCV5B,qMAIiqC,MAAM+M,EAAE5J,IAAEsT,UAAU,6CAA6C,IAAIrQ,EAAE,cAAcvG,IAAEyB,YAAYtB,GAAGsG,MAAMtG,GAAGuB,KAAKi8B,MAAM,KAAKj8B,KAAK60B,aAAY,EAAG70B,KAAKk3B,YAAW,EAAGl3B,KAAKm3B,WAAU,EAAGn3B,KAAKs3B,UAAS,EAAGt3B,KAAKo3B,OAAO,KAAKp3B,KAAKgsB,OAAO,IAAIpsB,IAAE+3B,aAAa33B,KAAKy5C,sBAAsB,KAAKz5C,KAAK05C,4BAA4B,KAAK15C,KAAK25C,gBAAgB,KAAgB,YAACl7C,GAAG,SAASD,YAAEC,EAAE+gB,SAAS,SAASxf,KAAKy5C,sBAAsB,KAAKz5C,KAAK25C,gBAAgBl7C,EAAE+1B,OAAOx0B,KAAKqzB,KAAK,UAAU50B,GAAGuB,KAAK45C,uBAAuBpuC,EAAE2K,MAAM,qCAAsD,oBAAG,MAAM1X,EAAE,kBAAkBuB,KAAK20B,QAAQsH,OAAOj8B,KAAK20B,QAAQsH,MAAMxN,cAAcjwB,EAAEwO,YAAEhN,KAAK20B,SAAS32B,EAAES,EAAEA,EAAE4wB,OAAO,EAAE,OAAO,IAAI9sB,IAAE,CAAC4sB,KAAK3wB,EAAE6wB,OAAOrxB,IAAqB,kBAACS,GAAGA,IAAIuB,KAAK65C,KAAK,mBAAmB75C,KAAKqzB,KAAK,gBAAgB50B,GAAGuB,KAAK85C,uBAAuB95C,KAAKy5C,sBAAsB,MAAMzgB,oBAAoB,OAAM,EAAe,aAACv6B,GAAGA,IAAIuB,KAAK65C,KAAK,cAAc75C,KAAKqzB,KAAK,WAAW50B,GAAGuB,KAAK85C,wBAAoC,aAACr7C,GAAGA,IAAIuB,KAAK65C,KAAK,cAAc75C,KAAKqzB,KAAK,WAAW50B,GAAGuB,KAAK85C,wBAAoC,aAACr7C,GAAGA,IAAIuB,KAAK65C,KAAK,cAAc75C,KAAKqzB,KAAK,WAAW50B,GAAGuB,KAAK85C,uBAAuB95C,KAAKgsB,OAAO+B,KAAK,iBAAiB,CAACmL,OAAOz6B,EAAE,SAAS,cAA0B,eAAG,OAAOuB,KAAK65C,KAAK,aAAa75C,KAAK65C,KAAK,YAAY1zB,UAAUnmB,KAAK+5C,sBAAsB/5C,KAAKg6C,sBAAsBh6C,KAAKqzB,KAAK,OAAO,MAAMmG,qBAAqB/6B,GAAG,MAAMD,EAAEwB,KAAK20B,QAAQ,IAAG,IAAKn2B,EAAE+H,QAAQ,OAAO,KAAK,MAAM3E,EAAEpD,EAAEghB,SAAS,GAAGxhB,YAAE4D,GAAG,OAAO,KAAK,MAAMvD,EAAE2B,KAAK65C,KAAK,iBAAiBx3C,EAAExC,YAAExB,GAAGA,EAAEG,EAAEg2B,OAAO,MAAM,OAAOx0B,KAAK6W,KAAK+G,KAAK5d,KAAKi6C,qBAAqBj6C,KAAK6W,KAAKpY,EAAEmD,EAAES,GAAGrC,KAAKk6C,qBAAqBl6C,KAAK6W,KAAKpY,EAAED,GAAGo8B,SAAS56B,KAAK45C,sBAAsB/5C,YAAEG,KAAKi8B,QAAQj8B,KAAKi8B,MAAM99B,IAAI6B,KAAK20B,SAASuG,SAASl7B,KAAK+5C,sBAAsB/5C,KAAKg6C,sBAAsBn6C,YAAEG,KAAKi8B,QAAQj8B,KAAKi8B,MAAM1Z,OAAOviB,KAAK20B,SAASilB,sBAAsB55C,KAAK+5C,sBAAsB/5C,KAAK05C,4BAA4B15C,KAAK20B,QAAQxL,MAAM,UAAU1qB,IAAIoB,YAAEpB,IAAIA,IAAIuB,KAAKm6C,eAAe17C,IAAIuB,KAAK25C,kBAAkB35C,KAAK25C,gBAAgBl7C,EAAEuB,KAAK03B,UAAU73B,YAAEG,KAAKm6C,iBAAiBn6C,KAAK20B,QAAQH,OAAOx0B,KAAKm6C,mBAAkB,GAAIJ,sBAAsBl6C,YAAEG,KAAK05C,+BAA+B15C,KAAK05C,4BAA4Bn3B,SAASviB,KAAK05C,4BAA4B,MAAMI,uBAAuB95C,KAAK20B,QAAQH,OAAOx0B,KAAK03B,UAAU73B,YAAEG,KAAKm6C,eAAen6C,KAAKm6C,cAAcn6C,KAAK25C,gBAAgBK,sBAAsBh6C,KAAK20B,QAAQH,OAAOx0B,KAAK25C,gBAAgBM,qBAAqBx7C,EAAED,EAAEoD,EAAEvD,GAAG,GAAGA,EAAEA,GAAG2F,YAAEpC,GAAG5D,YAAEK,GAAG,OAAO,KAAe,IAAIC,EAAE0B,KAAKy5C,sBAAsB,GAAG,UAAU73C,EAAEgc,MAAM,kBAAkBvf,EAAEuf,KAAK,OAAO5U,YAAExK,EAAEoD,EAAEnD,GAA9F,EAAmG,KAAK,GAAGT,YAAEM,KAAKA,EAAE87C,cAAc3tC,OAAO7K,GAAG,CAAC,MAAMpD,EAAEoD,EAAE5D,EAAES,EAAE2Y,iBAAiB,GAAGvP,YAAErJ,EAAE4Y,iBAAiBpZ,GAAG,CAAC,MAAMS,EAAE6D,YAAE9D,EAAER,GAAGM,EAAE,CAAC87C,cAAc57C,EAAE2D,QAAQk4C,SAAS57C,EAAE67C,SAASv5C,YAAE1C,EAAEwE,OAAO7C,KAAKy5C,sBAAsBn7C,GAAG,GAAGuB,YAAEvB,GAAG,CAAC,MAAMN,EAAEoE,YAAE5D,EAAEkN,GAAG7L,EAAEpB,EAAEgoC,SAASnoC,EAAE+7C,UAAUz4C,EAAEtD,EAAEg8C,SAAS16C,EAAEC,EAAEkL,EAAEhK,YAAE1C,EAAEk8C,SAASh3C,EAAE1D,EAAEgI,EAAE9G,YAAE1C,EAAEm8C,SAAS,OAAOpuC,YAAEpO,EAAE,CAAC4B,EAAE2D,IAAI3B,EAAEA,EAAva,EAA2a,KAAK,OAAO,KAAKs4C,qBAAqBz7C,EAAED,EAAER,GAAG,MAAM6B,EAAEpB,EAAEmkC,MAAMpkC,EAAE,CAACD,QAAQ,CAACP,KAAK,OAAO6B,GAAG+C,YAAE/C,EAAEgE,EAAEpF,EAAEg8C,wBAAwB55C,YAAEgD,EAAEpF,EAAE65B,MAAMp5B,OAAO0L,KAAK,OAAOnM,YAAE,CAACJ,YAAE,CAACyrB,eAAc,EAAG6L,aAAY,KAAM9wB,EAAEmM,UAAU,UAAU,MAAMvS,YAAE,CAACJ,YAAE,CAAC2rB,UAAS,KAAMnlB,EAAEmM,UAAU,gBAAgB,MAAMvS,YAAE,CAACJ,YAAE,CAACyrB,eAAc,EAAG6L,aAAY,KAAM9wB,EAAEmM,UAAU,YAAO,GAAQvS,YAAE,CAACJ,YAAE,CAACu3B,MAAM,QAAQ/wB,EAAEmM,UAAU,gBAAgB,MAAMvS,YAAE,CAACJ,YAAE,CAACyrB,eAAc,KAAMjlB,EAAEmM,UAAU,aAAQ,GAAQvS,YAAE,CAACJ,eAAKwG,EAAEmM,UAAU,mBAAc,GAAQvS,YAAE,CAACJ,eAAKwG,EAAEmM,UAAU,kBAAa,GAAQvS,YAAE,CAACJ,eAAKwG,EAAEmM,UAAU,iBAAY,GAAQvS,YAAE,CAACJ,YAAE,CAACu3B,OAAM,KAAM/wB,EAAEmM,UAAU,WAAW,MAAMvS,YAAE,CAACJ,eAAKwG,EAAEmM,UAAU,gBAAW,GAAQvS,YAAE,CAACJ,eAAKwG,EAAEmM,UAAU,WAAW,MAAMvS,YAAE,CAACJ,YAAE,CAACu3B,OAAM,KAAM/wB,EAAEmM,UAAU,WAAW,MAAMvS,YAAE,CAACJ,eAAKwG,EAAEmM,UAAU,cAAS,GAAQnM,EAAEpG,YAAE,CAAC4D,YAAE,8CAA8CwC,GAAG,MAAMhB,EAAEiB,cAAI4G,EAAEnI,e,wFCAj1J,SAAS/E,EAAEA,GAAG,MAAMF,EAAEE,EAAEP,SAASG,KAAKE,EAAEH,IAAIM,GAAE;;;;;OAKhGH,EAAEH,IAAIM,GAAE;;;;;OAKRH,EAAEH,IAAIM,GAAE;;;;;;;;;;;OCVwJ,SAASmB,EAAEA,EAAEtB,GAAG,MAAMD,EAAEuB,EAAE3B,SAASG,KAAKwB,EAAErB,QAAQP,KAAG,IAAIM,EAAE0b,SAAS,IAAI1b,EAAE0b,SAAS3b,EAAEF,IAAIM,GAAE;;;;;;;;;;;0BAWxOH,EAAE2b,6BAA6B,MAAM;OACxD5b,EAAEF,IAAIM,GAAE;;;;OAIRJ,EAAEF,IAAIM,GAAE;;;;;;;;OAQRJ,EAAEF,IAAIM,GAAE;;;;;OAKRJ,EAAEF,IAAIM,GAAE;;;;;;;;;;;;;;;;;QAiBP,IAAIH,EAAE0b,SAAS,IAAI1b,EAAE0b,UAAUpa,EAAErB,QAAQC,GAAGH,EAAEF,IAAIM,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;OA2BrDJ,EAAEF,IAAIM,GAAE;;;;;;;OAORJ,EAAEF,IAAIM,GAAE;;;;;;;;;;OAURJ,EAAEF,IAAIM,GAAE;;;;;;;;;;;;;;;OAeRJ,EAAEF,IAAIM,GAAE;;;QAGPJ,EAAEF,IAAIM,GAAE;;;;;;;;;2CChHhB,qVAIu6B,MAAM6K,EAAEvJ,cAAcC,KAAKw+B,eAAe,EAAEx+B,KAAKq/B,eAAc,EAAGr/B,KAAKs/B,KAAI,EAAGt/B,KAAK06C,yBAAwB,EAAG16C,KAAK26C,kBAAiB,EAAG36C,KAAK46C,kBAAiB,EAAG56C,KAAK66C,YAAW,EAAG76C,KAAKipB,MAAM,GAAG,MAAMzd,EAAEzL,cAAcC,KAAK86C,WAAWjzC,cAAI7H,KAAK+6C,kBAAkB,IAAIl3C,EAAE,CAAC+xB,MAAM51B,KAAK86C,YAAYj6C,IAAEgH,KAAG7H,KAAKg7C,2BAA2B,IAAIn3C,EAAE7D,KAAK+6C,kBAAkBx3C,IAAEsE,KAAG7H,KAAKi7C,oBAAoB,IAAIp3C,EAAE,CAAC+xB,MAAM51B,KAAK86C,YAAYv3C,IAAEsE,KAAG7H,KAAKk7C,0BAA0B,IAAIr3C,EAAE,CAAC+xB,MAAM51B,KAAK86C,YAAYzwC,IAAE/H,KAAG64C,2BAA2Bn7C,KAAK+6C,kBAAkBK,aAAap7C,KAAKg7C,2BAA2BI,aAAap7C,KAAKi7C,oBAAoBG,aAAap7C,KAAKk7C,0BAA0BE,aAA0B,gBAAG,OAAOp7C,KAAK86C,WAAsB,cAAG,OAAO96C,KAAK+6C,kBAAkBnlB,MAA0B,uBAAG,OAAO51B,KAAKg7C,2BAA2BplB,MAAyB,sBAAG,OAAO51B,KAAKk7C,0BAA0BtlB,MAAmB,gBAAG,OAAO51B,KAAKi7C,oBAAoBrlB,MAAMylB,mBAAmB78C,GAAGoE,YAAE5C,KAAK86C,WAAWt8C,GAAG88C,kBAAkB98C,GAAG+D,YAAEvC,KAAK86C,WAAW96C,KAAK86C,WAAWt8C,GAAG6C,IAAI7C,GAAGoE,YAAE5C,KAAK86C,WAAWt8C,GAAGwB,KAAKm7C,2BAA2Bxb,+BAA+BnhC,EAAEoD,GAAG5B,KAAKq7C,mBAAmB78C,GAAGwB,KAAKs7C,kBAAkB15C,GAAG5B,KAAKm7C,4BAA4B,MAAMt3C,EAAE9D,YAAYvB,EAAEoD,EAAEvD,GAAG2B,KAAKu7C,SAAS/8C,EAAEwB,KAAK8gB,OAAOlf,EAAE5B,KAAKw7C,OAAM,EAAGx7C,KAAK+7B,UAAU19B,IAAI+8C,aAAap7C,KAAKw7C,OAAM,EAAY,YAAG,OAAOx7C,KAAKw7C,QAAQx7C,KAAK8gB,OAAO9gB,KAAK+7B,UAAU/7B,KAAKu7C,SAAS3lB,OAAO51B,KAAKw7C,OAAM,GAAIx7C,KAAK+7B,WAAW,MAAM7wB,EAAEnL,cAAcC,KAAK+N,IAAI,IAAIrC,EAAE1L,KAAKiN,IAAI,IAAIvB,EAAE1L,KAAKs/B,IAAI,IAAI5zB,EAAE1L,KAAK2oB,OAAO,IAAIjd,EAAEozB,KAAKtgC,GAAGwB,KAAK+N,IAAI+wB,KAAKtgC,GAAGwB,KAAKiN,IAAI6xB,KAAKtgC,GAAGwB,KAAKs/B,IAAIR,KAAKtgC,GAAGwB,KAAK2oB,OAAOmW,KAAKtgC,GAAGwB,KAAK8U,IAAI,IAAI,MAAMpJ,EAAE3L,YAAYvB,GAAGwB,KAAK6oB,OAAOpqB,cAAIuB,KAAK2G,eAAekB,cAAI7H,KAAK6I,KAAKiD,IAAE3B,SAASnK,KAAK8+B,KAAKtgC,GAAU,UAAG,OAAOwB,KAAK6I,KAA6B,2BAAG,OAAO,MAAM7I,KAAK4oB,KAA8B,4BAAG,GAAG,MAAM5oB,KAAK4oB,KAAK,OAAOhpB,YAAEgM,EAAE5L,KAAKkpB,IAAI5gB,UAAUtI,KAAK4oB,MAAMxmB,YAAEwJ,GAAG6vC,qBAAqBj9C,GAAG,QAAQwB,KAAK07C,uBAAuB97C,YAAEgM,EAAE5L,KAAKkpB,IAAI5gB,UAAUtI,KAAK4oB,MAAM5qB,YAAEQ,EAAEwB,KAAKkpB,IAAIxiB,OAAOkF,IAAG,GAAI+vC,qBAAqBn9C,GAAG,OAAOuC,YAAEwnB,EAAEvoB,KAAK6oB,QAAQN,EAAE,GAAG,EAAE7iB,YAAE6iB,EAAEA,EAAEvoB,KAAK2G,gBAAgB5F,YAAEvC,EAAE+pB,GAAGlmB,YAAE7D,EAAEA,GAAGA,EAAEsgC,KAAKtgC,GAAGwB,KAAK4oB,UAAK,EAAO5oB,KAAKqR,YAAO,EAAOrR,KAAKgV,UAAK,EAAOhV,KAAK+oB,sBAAiB,EAAO/oB,KAAKggC,6BAAwB,EAAOhgC,KAAK6K,OAAO,KAAK7K,KAAK47C,WAAW,KAAK57C,KAAK67C,WAAW,KAAK77C,KAAK8oB,YAAY,QAAQtqB,EAAEsN,IAAEQ,KAAK9N,EAAEwB,KAAK6I,MAAM7I,KAAK6I,KAAKiD,IAAE3B,SAAS9I,IAAI7C,EAAEoD,EAAEvD,EAAEI,EAAEH,EAAEsB,EAAEwC,EAAEpE,EAAEqE,EAAE2B,GAAGxF,aAAa6P,MAAI7P,EAAE,CAACof,KAAK,QAAQk+B,IAAIt9C,IAAIwB,KAAK4oB,KAAKvqB,EAAE0C,YAAEf,KAAK6oB,OAAOpqB,GAAGmE,YAAE5C,KAAK2G,eAAerI,GAAG0B,KAAKqR,OAAO7S,EAAEwB,KAAKgV,KAAKpT,EAAE5B,KAAK+oB,iBAAiBnpB,EAAEI,KAAK6K,OAAOzI,EAAEvC,YAAEuC,GAAG,KAAKpC,KAAK47C,WAAW59C,EAAEgC,KAAK67C,WAAWx5C,EAAErC,KAAKggC,wBAAwBh8B,EAAEmI,SAAS3N,GAAGsN,IAAEQ,KAAK9N,EAAEqK,KAAK7I,KAAK6I,MAAM7I,KAAK4oB,KAAKpqB,EAAEoqB,KAAK5oB,KAAKqR,OAAO7S,EAAE6S,OAAOrR,KAAKgV,KAAKxW,EAAEwW,KAAKhV,KAAK+oB,iBAAiBvqB,EAAEuqB,iBAAiB/oB,KAAK6K,OAAOrM,EAAEqM,OAAOhL,YAAErB,EAAEqM,QAAQ,KAAK7K,KAAK47C,WAAWp9C,EAAEo9C,WAAW57C,KAAK67C,WAAWr9C,EAAEq9C,WAAW77C,KAAK8oB,YAAYtqB,EAAEsqB,YAAY9oB,KAAKggC,wBAAwBxhC,EAAEwhC,wBAAwBj/B,YAAEf,KAAK6oB,OAAOrqB,EAAEqqB,QAAQjmB,YAAE5C,KAAK2G,eAAenI,EAAEmI,gBAAgBo1C,QAAQv9C,GAAG,IAAIwB,KAAKqR,OAAO,OAAO,KAAK,OAAOrR,KAAKqR,OAAOuM,MAAM,IAAI,QAAQ,OAAOlR,EAAE1M,KAAKqR,OAAOyqC,IAAIrzB,SAASjqB,GAAG,IAAI,WAAW,OAAOwB,KAAK8oB,aAAa,IAAI,gBAAgB,OAAqlC,SAAWtqB,EAAEoD,GAAG,MAAMvD,EAAEG,EAAEiqB,SAASxiB,SAAS,OAAO,MAAM5H,EAAEuD,EAAE0wB,IAAI0pB,eAAe39C,GAAG,KAAjqCgR,CAAErP,KAAKqR,OAAO7S,GAAG,IAAI,MAAM,IAAI,KAAK,IAAI,cAAc,IAAI,kBAAkB,OAAOkO,EAAE1M,KAAKqR,OAAOoX,SAASjqB,GAAG,IAAI,kBAAkB,OAAOA,EAAE8zB,KAAK9zB,EAAE8zB,IAAI3J,QAAQ,OAAO,KAAKszB,UAAUz9C,GAAG,IAAIwB,KAAKqR,OAAO,OAAO,KAAK,OAAOrR,KAAKqR,OAAOuM,MAAM,IAAI,QAAQ,OAAO7R,EAAE/L,KAAKqR,OAAOyqC,IAAIrzB,SAASjqB,GAAG,IAAI,WAAW,OAAOwB,KAAK8oB,aAAa,IAAI,gBAAgB,OAA40B,SAAWtqB,GAAG,OAAOA,EAAEiqB,SAASyzB,gBAAr2BntC,CAAE/O,KAAKqR,QAAQ,IAAI,MAAM,IAAI,KAAK,IAAI,cAAc,IAAI,kBAAkB,OAAOtF,EAAE/L,KAAKqR,OAAOoX,SAASjqB,IAAI,OAAO,MAAM,SAASkO,EAAErO,EAAEI,GAAG,OAAOD,YAAEH,IAAI,MAAMA,EAAE4H,SAAS,KAAKrE,YAAEnD,EAAE09C,eAAe99C,EAAE4H,WAAWxH,EAAE09C,aAAaC,WAAWngB,MAAMhrB,GAAGxS,EAAE0mC,SAAS1mC,EAAE6zB,IAAI0pB,eAAe39C,EAAE4H,UAAU,SAAS8F,EAAEtN,EAAEoB,GAAG,GAAGrB,YAAEC,GAAG,OAAO,KAAK,MAAMH,EAAEoO,EAAEjO,EAAEoB,GAAG,GAAGrB,YAAEF,GAAG,OAAO,KAAK,GAAGA,IAAIuB,EAAEslC,SAAS,OAAOvjC,YAAE/B,EAAEs8C,cAAc99C,YAAEwB,EAAEs8C,aAAaE,yBAAyB59C,EAAEyH,aAAa,KAAK,MAAMtG,EAAEC,EAAEupB,cAAcnU,MAAMzW,GAAGA,EAAEy9B,QAAQ39B,IAAI,OAAOsB,GAA2BgC,EAArBnD,IAAmBD,EAArBoB,IAAoCpB,EAAE89C,UAAU,KAAK,sCAAsC99C,GAAGoD,EAAEpD,EAAE+9C,kCAAkC36C,GAAG,6BAA6BpD,GAAG,MAAMoD,EAAEsE,WAAW1H,EAAE69C,yBAAyBz6C,EAAEsE,YAAY,MAA9N,KAAK,IAAW1H,EAAEoD,EAAo1H,MAAMiD,EAAE,IAA9oC,MAAQ9E,YAAYvB,EAAE,GAAGwB,KAAKqvB,OAAO7wB,EAAEwB,KAAKw8C,OAAO/zC,cAAIzI,KAAKy8C,UAAUh+C,cAAIixB,cAAclxB,EAAEoD,EAAEvD,GAAG,MAAMI,EAAEuB,KAAK6/B,gBAAgB9D,UAAU,IAAIl8B,EAAEpB,EAAE,GAAGD,EAAEC,EAAE,GAAGmD,EAAEnD,EAAE,GAAGJ,EAAEI,EAAE,IAAIH,EAAEG,EAAE,GAAGD,EAAEC,EAAE,GAAGmD,EAAEnD,EAAE,GAAGJ,EAAEI,EAAE,IAAImB,EAAEnB,EAAE,GAAGD,EAAEC,EAAE,GAAGmD,EAAEnD,EAAE,IAAIJ,EAAEI,EAAE,IAAI,MAAM2D,EAAEpC,KAAKqvB,OAAOlmB,KAAK8Z,KAAKpjB,EAAEA,EAAEvB,EAAEA,EAAEsB,EAAEA,GAAGC,GAAGA,EAAEuC,EAAE9D,GAAGA,EAAE8D,EAAExC,GAAGA,EAAEwC,EAAE,MAAMpE,EAAEgC,KAAK6/B,gBAAgBD,QAAQ,OAAO5/B,KAAKy8C,UAAU,GAAGz+C,EAAE,GAAG6B,EAAE7B,EAAE,GAAGM,EAAEN,EAAE,GAAG4B,EAAE5B,EAAE,IAAIgC,KAAKy8C,UAAU,GAAGz+C,EAAE,GAAG6B,EAAE7B,EAAE,GAAGM,EAAEN,EAAE,GAAG4B,EAAE5B,EAAE,IAAIgC,KAAKy8C,UAAU,GAAGz+C,EAAE,GAAG6B,EAAE7B,EAAE,GAAGM,EAAEN,EAAE,IAAI4B,EAAE5B,EAAE,IAAIgC,KAAKy8C,UAAUC,cAAcl+C,EAAEoD,GAAG,MAAMvD,EAAE2B,KAAKqvB,OAAOlmB,KAAK8Z,KAAKzkB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIA,EAAE,IAAIA,EAAE,GAAGH,EAAEG,EAAE,IAAIA,EAAE,GAAGH,EAAEG,EAAE,IAAIA,EAAE,GAAGH,EAAE,MAAMI,EAAEuB,KAAKqvB,OAAOlmB,KAAK8Z,KAAKrhB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIA,EAAE,IAAIA,EAAE,GAAGnD,EAAEmD,EAAE,IAAIA,EAAE,GAAGnD,EAAEmD,EAAE,IAAIA,EAAE,GAAGnD,EAAEmxB,YAAYpxB,GAAG,MAAMoD,EAAE5B,KAAKqvB,OAAOlmB,KAAK8Z,KAAKzkB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIA,EAAE,IAAIA,EAAE,GAAGoD,EAAEpD,EAAE,IAAIA,EAAE,GAAGoD,EAAEpD,EAAE,IAAIA,EAAE,GAAGoD,EAAE,MAAMvD,EAAE2B,KAAKqvB,OAAOlmB,KAAK8Z,KAAKzkB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,OAAOA,EAAE,IAAIA,EAAE,GAAGH,EAAEG,EAAE,IAAIA,EAAE,GAAGH,EAAEG,EAAE,IAAIA,EAAE,GAAGH,EAAEG,EAAEm+C,sBAAsBn+C,GAAG,MAAMoD,EAAEuH,KAAK8Z,KAAKzkB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIH,EAAE2B,KAAKqvB,OAAOztB,EAAE,OAAO5B,KAAKw8C,OAAO,GAAGh+C,EAAE,GAAGA,EAAE,GAAGH,EAAE2B,KAAKw8C,OAAO,GAAGh+C,EAAE,GAAGA,EAAE,GAAGH,EAAE2B,KAAKw8C,OAAO,GAAGh+C,EAAE,GAAGA,EAAE,GAAGH,EAAE2B,KAAKw8C,OAAO,GAAGh+C,EAAE,GAAGA,EAAE,GAAGwB,KAAKqvB,OAAOztB,EAAE5B,KAAKw8C,SAAsB,SAAS7uC,EAAEnP,GAAG,OAAOoD,YAAEpD,IAAIqG,EAAEwqB,OAAO7wB,EAAEqG,GAAG,KAAa,IAAl9F,MAAQ9E,YAAYvB,EAAE,GAAGwB,KAAKqvB,OAAO7wB,EAAEwB,KAAK48C,2BAA2B,EAAE58C,KAAKy8C,UAAUh+C,cAAIuB,KAAK68C,IAAI7zC,cAAIhJ,KAAK88C,IAAI,CAACjyC,OAAOpM,cAAIs+C,SAAS3wC,cAAI4wC,WAAW,MAAqB,gBAACx+C,GAAGwB,KAAK48C,2BAA2BzzC,KAAK8Z,KAAKzkB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIkxB,cAAclxB,EAAEoD,EAAEvD,GAAG,MAAMI,EAAED,EAAEqB,EAAE+B,EAAEtD,EAAED,EAAE2B,KAAK48C,2BAA2Bh9C,EAAEI,KAAKqvB,OAAOlmB,KAAK8Z,KAAKxkB,EAAEA,EAAEoB,EAAEA,EAAEvB,EAAEA,GAAG,OAAO0B,KAAKy8C,UAAU,GAAGj+C,EAAEC,EAAEmB,EAAEI,KAAKy8C,UAAU,GAAG76C,EAAE/B,EAAED,EAAEI,KAAKy8C,UAAU,GAAGp+C,EAAEC,EAAEsB,EAAEI,KAAKy8C,UAAU7sB,YAAYpxB,GAAG,MAAMoD,EAAEpD,EAAE,GAAGH,EAAEG,EAAE,GAAGC,EAAED,EAAE,GAAGwB,KAAK48C,2BAA2B/8C,EAAErB,EAAE,GAAGF,EAAEE,EAAE,GAAGoB,EAAEpB,EAAE,GAAGwB,KAAK48C,2BAA2Bx6C,EAAEpC,KAAKqvB,OAAOlmB,KAAK8Z,KAAKrhB,EAAEA,EAAEvD,EAAEA,EAAEI,EAAEA,GAAGD,EAAE,IAAIoD,EAAEQ,EAAE5D,EAAE,IAAIH,EAAE+D,EAAE5D,EAAE,IAAIC,EAAE2D,EAAE,MAAMpE,EAAEgC,KAAKqvB,OAAOlmB,KAAK8Z,KAAKpjB,EAAEA,EAAEvB,EAAEA,EAAEsB,EAAEA,GAAG,OAAOpB,EAAE,IAAIqB,EAAE7B,EAAEQ,EAAE,IAAIF,EAAEN,EAAEQ,EAAE,IAAIoB,EAAE5B,EAAEQ,EAAEy+C,WAAWz+C,GAAG,MAAMoD,EAAEuH,KAAK8Z,KAAKzkB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIH,EAAE2B,KAAKqvB,OAAOztB,EAAE,OAAO5B,KAAK68C,IAAI,GAAGr+C,EAAE,GAAGA,EAAE,GAAGH,EAAE2B,KAAK68C,IAAI,GAAGr+C,EAAE,GAAGA,EAAE,GAAGH,EAAE2B,KAAK68C,IAAI,GAAGr+C,EAAE,GAAGA,EAAE,GAAGH,EAAE2B,KAAK68C,IAAI,GAAGr+C,EAAE,GAAGA,EAAE,GAAGwB,KAAKqvB,OAAOztB,EAAE5B,KAAK68C,IAAIK,WAAW1+C,GAAG,MAAMoD,EAAEpD,EAAEqM,OAAOxM,EAAE2B,KAAKqvB,OAAOlmB,KAAK8Z,KAAKrhB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI5B,KAAK88C,IAAIjyC,OAAO,GAAGjJ,EAAE,GAAGA,EAAE,GAAGvD,EAAE2B,KAAK88C,IAAIjyC,OAAO,GAAGjJ,EAAE,GAAGA,EAAE,GAAGvD,EAAE2B,KAAK88C,IAAIjyC,OAAO,GAAGjJ,EAAE,GAAGA,EAAE,GAAGvD,EAAE2F,YAAEhE,KAAK88C,IAAIC,SAASv+C,EAAEu+C,SAASv+C,EAAEw+C,YAAYh/C,YAAEgC,KAAK88C,IAAIC,SAAS/8C,KAAK88C,IAAIC,SAASv+C,EAAEqM,QAAQ,MAAMpM,EAAEuB,KAAKqvB,OAAOlmB,KAAK8Z,KAAKjjB,KAAK88C,IAAIC,SAAS,GAAG/8C,KAAK88C,IAAIC,SAAS,GAAG/8C,KAAK88C,IAAIC,SAAS,GAAG/8C,KAAK88C,IAAIC,SAAS,GAAG/8C,KAAK88C,IAAIC,SAAS,GAAG/8C,KAAK88C,IAAIC,SAAS,IAAI,OAAO/8C,KAAK88C,IAAIC,SAAS,IAAI/8C,KAAK88C,IAAIC,SAAS,GAAGt+C,EAAEuB,KAAK88C,IAAIC,SAAS,IAAI/8C,KAAK88C,IAAIC,SAAS,GAAGt+C,EAAEuB,KAAK88C,IAAIC,SAAS,IAAI/8C,KAAK88C,IAAIC,SAAS,GAAGt+C,EAAEqG,YAAE9E,KAAK88C,IAAIC,SAAS/8C,KAAK88C,IAAIC,SAASv+C,EAAEqM,QAAQwM,YAAEglB,EAAE79B,EAAEw+C,YAAYh5C,YAAEhE,KAAK88C,IAAIC,SAAS/8C,KAAK88C,IAAIC,SAAS1gB,GAAGr8B,KAAK88C,IAAIC,SAAS,IAAI/8C,KAAK88C,IAAIC,SAAS,GAAG,GAAG,EAAE,EAAE/8C,KAAK88C,IAAIC,SAAS,IAAI/8C,KAAK88C,IAAIC,SAAS,GAAG,GAAG,EAAE,EAAE/8C,KAAK88C,IAAIC,SAAS,IAAI/8C,KAAK88C,IAAIC,SAAS,GAAG,GAAG,EAAE,EAAE/8C,KAAK88C,IAAIE,WAAWx+C,EAAEw+C,WAAWh9C,KAAK88C,MAA2wC,IAA3nH,MAAQ/8C,YAAYvB,EAAE,GAAGwB,KAAKqvB,OAAO7wB,EAAEwB,KAAKy8C,UAAUh+C,cAAIixB,cAAclxB,EAAEoD,EAAEvD,GAAG,MAAMI,EAAED,EAAEwB,KAAKm9C,YAAY,GAAGt9C,EAAE+B,EAAE5B,KAAKm9C,YAAY,GAAG7+C,EAAED,EAAE2B,KAAKm9C,YAAY,GAAGv9C,EAAEI,KAAKqvB,OAAOlmB,KAAK8Z,KAAKxkB,EAAEA,EAAEoB,EAAEA,EAAEvB,EAAEA,GAAG,OAAO0B,KAAKy8C,UAAU,GAAGj+C,EAAEC,EAAEmB,EAAEI,KAAKy8C,UAAU,GAAG76C,EAAE/B,EAAED,EAAEI,KAAKy8C,UAAU,GAAGp+C,EAAEC,EAAEsB,EAAEI,KAAKy8C,UAAU7sB,YAAYpxB,GAAG,MAAMoD,EAAEpD,EAAE,GAAGwB,KAAKm9C,YAAY,GAAG9+C,EAAEG,EAAE,GAAGwB,KAAKm9C,YAAY,GAAG1+C,EAAED,EAAE,GAAGwB,KAAKm9C,YAAY,GAAGt9C,EAAErB,EAAE,GAAGwB,KAAKm9C,YAAY,GAAG7+C,EAAEE,EAAE,GAAGwB,KAAKm9C,YAAY,GAAGv9C,EAAEpB,EAAE,GAAGwB,KAAKm9C,YAAY,GAAG/6C,EAAEpC,KAAKqvB,OAAOlmB,KAAK8Z,KAAKrhB,EAAEA,EAAEvD,EAAEA,EAAEI,EAAEA,GAAGD,EAAE,IAAIoD,EAAEQ,EAAE5D,EAAE,IAAIH,EAAE+D,EAAE5D,EAAE,IAAIC,EAAE2D,EAAE,MAAMpE,EAAEgC,KAAKqvB,OAAOlmB,KAAK8Z,KAAKpjB,EAAEA,EAAEvB,EAAEA,EAAEsB,EAAEA,GAAG,OAAOpB,EAAE,IAAIqB,EAAE7B,EAAEQ,EAAE,IAAIF,EAAEN,EAAEQ,EAAE,IAAIoB,EAAE5B,EAAEQ,IAAqkG,MAAMyG,EAAE,UAAgB2G,GAAJnN,cAAMA,eAAI8pB,EAAEvf,cAAIqzB,EAAErvB,e,iCCJj9R,6GAI+lB,SAAS1K,EAAEjE,GAAG,MAAMI,EAAED,YAAEH,IAAIA,EAAE++C,QAAQ/+C,EAAE++C,QAAQ,MAAC,GAAQ,MAAM,CAAC5+C,EAAER,KAAK,MAAM4B,EAA2E,SAAWvB,EAAEI,EAAET,GAAG,GAAGQ,YAAEH,IAAI,aAAaA,EAAEuf,KAAK,OAAqJ,SAAWnf,EAAEoB,EAAE0D,GAAG,MAAMjF,EAAEN,YAAE6B,EAAE0D,GAAG,MAAM,CAACqa,KAAKy/B,OAAOtK,KAAK,CAACv0C,EAAEH,EAAEI,KAAK,MAAMT,EAAE8G,YAAEtG,EAAEH,EAAEI,GAAG,OAAOH,EAAEsf,OAAOy/B,OAAOr/C,EAAE,mBAAmBM,EAAEsf,KAAK,IAAItf,EAAEsf,KAAK,CAAC0/B,IAAIt/C,SAAI,GAAQgiB,MAAM,CAACu9B,OAAOv/C,EAAE6B,EAAEkB,EAAEiD,GAAG,IAAIA,IAAIA,EAAE8oB,UAAU,MAAM,iBAAiB9uB,OAAO6B,EAAEkB,GAAG8G,YAAE7J,EAAEgG,SAASnE,EAAEkB,GAAG/C,EAAEgiB,MAAM,GAAGhc,IAAI,MAAMc,EAA8sC,SAAWtG,GAAG,OAAOH,YAAEG,GAAG,KAAK,iBAAiBA,EAAEA,EAAEA,EAAE8+C,IAAlwCjuC,CAAErR,GAAG4E,EAAEkC,EAAE+C,YAAE/C,EAAE,IAAId,EAAEw5C,uBAAuBx5C,GAAGA,EAAEw5C,uBAAuB,CAACC,YAAYz5C,EAAEw5C,uBAAuBC,YAAYC,SAAS,MAAM,MAAM,GAAG,KAAKp7C,EAAEhE,EAAEsf,OAAOy/B,UAAUz9C,YAAEI,OAAOgE,GAAGA,EAAE0C,QAAQ1G,KAAK29C,WAAWp6C,GAAGlB,YAAE2B,EAAE0C,SAAS1C,GAAGA,EAAE45C,YAAYp/C,YAAEoE,KAAKhB,YAAEgB,GAAGN,EAAsZ,SAAW9D,EAAEH,EAAEI,EAAET,EAAE6B,EAAED,EAAEgC,EAAEf,GAAG,MAAM0C,EAAE3B,EAAEg8C,WAAWC,iBAAiB7/C,GAAG+C,EAAEiI,EAAEvK,EAAET,EAAE4D,GAAGoC,YAAEjD,KAAKzC,YAAEiF,EAAEu6C,OAAOzmC,EAAE7Y,EAAEH,EAAEkF,EAAExC,EAAEa,EAAEkrB,UAAUixB,UAAUl+C,EAAED,GAAG5B,GAAG0O,EAAElO,EAAEH,EAAEI,EAAET,EAAE6B,EAAED,EAAEgC,EAAEf,GAA9iB2K,CAAExL,KAAKuD,EAAEvF,EAAE4E,EAAE/C,EAAEkB,EAAEiD,EAAEvF,GAA8hB,SAAWD,EAAEH,EAAEI,EAAET,GAAGA,EAAE8uB,UAAUkxB,OAAOpqC,KAAK,CAACqqC,SAASjgD,EAAE4/C,WAAWC,iBAAiBr/C,KAAKH,EAAEI,GAAGD,EAAznB6N,CAAEzJ,EAAE/C,EAAEkB,EAAEiD,GAAGA,GAAGA,EAAE45C,aAAav/C,YAAEuE,IAAIpE,YAAE4D,YAAEQ,KAAK/B,YAAE+B,IAAIN,GAAGoK,EAAE1M,KAAKuD,EAAEvF,EAAE4E,EAAE/C,EAAEkB,EAAEiD,EAAEvF,GAAGoB,EAAEkB,GAAG6B,KAA7wBoK,CAAE3O,EAAEI,EAAET,GAAG,OAAOQ,YAAEH,IAAIA,EAAEuf,KAAKvf,EAAEuf,KAAK,SAAS,IAAI,QAAQ,MAAM,CAACm1B,MAAK,EAAG/yB,OAAM,GAAI,IAAI,MAAM,CAAC,MAAM+yB,KAAKv0C,EAAEwhB,MAAM3hB,GAAGuE,IAAE,MAAM,CAACmwC,KAAKv0C,EAAEwhB,MAAM3hB,KAAxQwF,CAAExF,EAAEG,EAAER,GAAG,IAAI,MAAMK,KAAKI,EAAE,CAAC,MAAMA,EAAEoB,YAAErB,EAAEH,EAAEL,GAAG,IAAI,MAAMQ,KAAKoB,EAAEnB,EAAED,GAAGoB,EAAEpB,KAA60B,SAASkO,EAAElO,EAAEH,EAAEL,EAAE6B,EAAED,EAAEgC,EAAEtD,EAAE+D,GAAG,MAAMyC,EAAE/D,cAAI8G,EAAEmB,EAAEhL,EAAE6B,EAAEvB,GAAG8D,EAAEmB,YAAE9E,YAAE4D,EAAE,UAAUyC,GAAGlC,EAAG,GAAER,KAAK4B,YAAE6D,KAAKvF,EAAEhE,EAAEs/C,WAAWC,iBAAiBj7C,GAAG/B,YAAEhB,IAAIvB,EAAEwuB,UAAUoxB,kBAAkBtqC,KAAqkBc,eAAiBlW,GAAG,MAAMH,SAAS,yCAA+BmiB,SAASza,KAAKtH,SAASJ,EAAEG,EAAE,CAAC2/C,aAAa,SAAS,OAAO1/C,EAA3rB8D,CAAE1C,GAAGu+C,MAAM5/C,IAAI8D,EAAEw7C,KAAM,GAAE17C,KAAK4B,YAAExF,KAAKoB,EAAEgC,GAAGU,EAAE+7C,mBAAmBC,OAAO,UAAUjnC,EAAE7Y,EAAEH,EAAEiE,EAAEuF,EAAEvJ,EAAEwuB,UAAU9N,OAAOpf,EAAEgC,GAAGU,EAAE+7C,gBAA6Q,SAAShnC,EAAE7Y,EAAEH,EAAEI,EAAET,EAAE6B,GAAGA,EAAE+T,KAAK,CAACqqC,SAASx/C,EAAE8/C,QAAQvgD,EAAEwgD,OAAO//C,KAA4T,SAAWD,EAAEH,EAAEI,GAAG,iBAAiBD,EAAEH,GAAGG,EAAEH,GAAGI,EAAE6+C,IAAI9+C,EAAEH,GAAGi/C,IAAI7+C,EAAE6+C,IAAtXvxC,CAAEvN,EAAEH,EAAEI,MAAM,SAASuK,EAAExK,EAAEH,EAAEI,GAAG,MAAM,iBAAiBD,EAAE,CAAC8+C,IAAIj/C,GAAG,IAAIogD,KAAK,CAACC,KAAKC,UAAUngD,EAAEogD,OAAOngD,KAAK,CAACmf,KAAK,uB,iCCJ/wE,8CAImE,SAAShe,EAAEA,EAAEoE,EAAEnE,GAAG,IAAIgB,EAAE,MAAME,EAAEnB,EAAE8f,YAAY,EAAE1b,GAAGpC,EAAE,IAAIuoB,YAAYvqB,EAAE,EAAEmB,EAAEiD,GAAG,IAAI1F,EAAE,IAAI6rB,YAAYppB,GAAG,MAAMqB,EAAE,OAAOvB,EAAE,MAAMhB,OAAE,EAAOA,EAAEg/C,cAAch+C,EAAE,EAAE+B,GAAG,MAAM/C,OAAE,EAAOA,EAAEi/C,kBAAkB,KAAKx8C,EAAEM,EAAEA,EAAE9B,OAAO,EAAE+G,GAAG,MAAMhI,OAAE,EAAOA,EAAEk/C,mBAAmB,KAAK,IAAIryC,EAAE,EAAE,GAAG7E,EAAE,IAAI,IAAIrJ,EAAE,EAAEA,EAAEqJ,EAAE/G,OAAO,EAAEtC,IAAI,CAAC,MAAMoB,EAAEiI,EAAErJ,EAAE,GAAGqJ,EAAErJ,GAAGoB,EAAE8M,IAAIA,EAAE9M,QAAQ8M,EAAE3L,EAAE,MAAM8C,EAAEsF,KAAK+P,MAAM,IAAIxM,GAAG,GAAG,MAAM1O,GAAGA,EAAE8C,OAAO,EAAE+C,KAAK7F,EAAE,IAAImsB,YAAY3rB,YAAE,EAAEqF,KAAK,IAAI,IAAIrF,EAAE,EAAEA,EAAE,EAAEqF,EAAErF,IAAIR,EAAEQ,GAAG,EAAE,IAAI0O,EAAE,EAAE,MAAMpI,IAAI+C,KAAKjF,EAAEL,EAAEuC,EAAExC,EAAEvB,EAAEwC,EAAEuB,EAAE,IAAIqlB,YAAY7nB,GAAG,KAAK0K,EAAE,KAAK,IAAIlB,EAAE,IAAI1J,EAAE+G,KAAKq0B,KAAK,EAAExwB,EAAEA,GAAG5K,EAAEA,GAAGA,GAAG,EAAEA,IAAIG,EAAE8L,EAAE,EAAEtD,EAAElD,EAAEA,EAAE,GAAGtF,EAAE,IAAI,IAAI/D,EAAE,EAAEA,EAAE+D,EAAE/D,IAAI,CAAC,GAAGA,IAAIsN,EAAE,CAAC,MAAMlM,EAAE,EAAEsN,EAAE1O,EAAE,GAAGoB,EAAEoN,EAAE7D,KAAK8Z,KAAKrjB,GAAG,EAAEA,GAAGpB,GAAG4D,EAAE,OAAO,KAAK0J,GAAG,EAAE,GAAGtN,IAAIuM,EAAE,CAAC,IAAI,IAAIvM,EAAE,EAAEA,EAAE,EAAEqF,EAAErF,IAAIR,EAAEQ,GAAG,EAAE,GAAGoE,EAAE,IAAI,IAAIpE,EAAEqJ,EAAEwG,EAAE,GAAG7P,EAAEqJ,EAAEwG,GAAG7P,IAAI+E,EAAE/E,GAAGF,EAAEsE,EAAEpE,IAAIuM,EAAElD,IAAIwG,GAAG,MAAMzO,EAAEkF,EAAElC,EAAEpE,GAAGA,EAAE6D,EAAEzC,EAAEoE,EAAEnE,EAAExB,EAAEuD,EAAES,EAAE2B,GAAG,IAAInD,EAAEhB,EAAEgE,EAAE9C,EAAEmM,EAAE,KAAK,IAAIlP,EAAE,EAAE6C,EAAE,IAAI,CAAC,GAAG7C,EAAE,EAAE6C,KAAKhB,EAAE,CAAC,MAAMrB,EAAER,EAAE,EAAE6C,EAAE,GAAG,EAAE,GAAGpC,EAAEmD,EAAES,EAAE7D,EAAEwF,EAAEA,GAAG,CAACjD,EAAEzC,EAAEE,GAAG,OAAOqC,IAAIA,GAAGgD,IAAIhD,GAAGgD,GAAG9C,IAAImM,IAAIlP,EAAE,EAAE6C,GAAGhB,EAAE7B,EAAE,EAAE6C,EAAE,GAAGjB,EAAE,EAAEsN,KAAK5O,EAAEsB,GAAGmB,EAAE,GAAG,IAAIqB,GAAG,EAAE8K,EAAEnM,EAAEqB,EAAE,OAAO,KAAK,GAAG0C,EAAE,CAAC,IAAI,IAAItG,EAAEqJ,EAAEwG,EAAE,GAAG7P,EAAE+E,EAAEzC,OAAOtC,IAAI+E,EAAE/E,GAAGF,EAAEsE,EAAEpE,IAAIF,EAAEiF,EAAE,MAAMiI,EAAE,IAAI2e,YAAYnmB,EAAEkJ,GAAGA,EAAE,EAAE,IAAI,IAAI1O,EAAE,EAAEA,EAAE+D,EAAE/D,IAAOF,EAAEE,KAAK0O,IAAG7K,EAAET,GAAGkD,EAAElC,EAAEpE,GAAGA,GAAGwF,EAAEwH,EAAE0B,EAAElJ,EAAEA,GAAGkJ,KAAI,GAAGtK,IAAIkC,EAAE,CAAC,MAAMtG,EAAE,IAAI2rB,YAAY7nB,GAAG,IAAI,IAAI1C,EAAE,EAAEA,EAAEpB,EAAEsC,OAAOlB,IAAIpB,EAAEoB,GAAGtB,EAAEsE,EAAEhD,IAAItB,EAAEE,EAAE,MAAM,CAACugB,OAAOvT,EAAEuT,OAAOxX,QAAQjJ,EAAE0gD,YAAY9xC,GAAG,SAASzO,EAAED,EAAEoB,EAAEnB,EAAE4D,GAAG,IAAI,IAAIhE,EAAE,EAAEA,EAAEgE,EAAEhE,IAAI,GAAGG,EAAEoB,EAAEvB,KAAKG,EAAEC,EAAEJ,GAAG,OAAM,EAAG,OAAM,EAAG,SAASgE,EAAE7D,EAAEoB,EAAEnB,EAAE4D,EAAEhE,GAAG,IAAI,IAAIL,EAAE,EAAEA,EAAEK,EAAEL,IAAIS,EAAE4D,EAAErE,GAAGQ,EAAEoB,EAAE5B,GAAG,SAASK,EAAEG,EAAEoB,EAAEnB,GAAG,IAAI4D,EAAE,EAAE,IAAI,IAAIhE,EAAE,EAAEA,EAAEI,EAAEJ,IAAIgE,EAAE7D,EAAEoB,EAAEvB,GAAGgE,EAAE,EAAEA,EAAEA,GAAGA,GAAG,KAAKA,IAAI,GAAG,EAAE,OAAOA,IAAI,EAAE,IAAIrE,EAAE,M,iCCJ9hD,uDAIiH,SAASK,EAAEA,GAAGA,EAAEJ,SAASC,SAASC,IAAI,gBAAgB,aAAaE,EAAEJ,SAASC,SAASC,IAAI,sBAAsB,aAAaE,EAAEJ,SAASC,SAASC,IAAI,aAAa,QAAQE,EAAEJ,SAASC,SAASC,IAAI,gBAAgB,QAAQE,EAAEE,QAAQC,KAAGH,EAAEJ,SAASG,KAAKD,IAAIM,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QA6E/CJ,IAAIA,EAAE,KAAtBM,aAA5R,SAAWF,EAAED,GAAGC,EAAEG,aAAa,gBAAgB,GAAGH,EAAEG,aAAa,sBAAsB,GAAGH,EAAEqlB,aAAa,aAAatlB,EAAEygD,aAAazgD,EAAE0gD,kBAAkB1gD,EAAE2gD,aAAa3gD,EAAE4gD,YAAY3gD,EAAE4yC,aAAa,gBAAgB7yC,EAAE6gD,cAAc,GAAG7gD,EAAE8gD,aAAa9gD,EAAE6gD,cAAc,GAAG7gD,EAAE8gD,gB,iCCjFhS,sMAIq4C,SAAS/7C,EAAEA,GAAG,MAAM1C,EAAE,IAAIvC,IAAE,OAAOuC,EAAEtC,QAAQF,IAAE,CAACkhD,aAAY,IAAK1+C,EAAE2+C,WAAWrhD,IAAI,WAAW,QAAQ0C,EAAE2+C,WAAWrhD,IAAI,MAAM,QAAQ0C,EAAEwC,OAAOnF,SAASC,IAAI,OAAO,QAAQA,IAAI,OAAO,QAAQA,IAAI,cAAc,QAAQ0C,EAAEwC,OAAOnF,SAASC,IAAI,aAAa,QAAQ,IAAIoF,EAAEwR,QAAQ,IAAIxR,EAAEwR,SAASlU,EAAEtC,QAAQwC,IAAEwC,GAAG1C,EAAEtC,QAAQ+D,IAAEiB,GAAG1C,EAAE24C,SAASr7C,IAAI,MAAM,QAAQ0C,EAAE24C,SAASr7C,IAAI,OAAO,QAAQ0C,EAAE24C,SAASr7C,IAAI,UAAU,QAAQ0C,EAAE24C,SAASr7C,IAAI,aAAa,QAAQoF,EAAE4W,yBAAyBtZ,EAAE24C,SAASr7C,IAAI,QAAQ,SAAS0C,EAAEwC,OAAOjF,KAAKD,IAAIM,GAAE;;6BAEn3DA,IAAEghD,MAAM78C;;;;;;;;;;;;UAY3BW,EAAE4W,wBAAwB,sCAAsC;;;UAGhE,IAAI5W,EAAEwR,OAAO,wBAAwB;;QAEvCxR,EAAE4W,0BAA0BtZ,EAAE5C,SAASM,QAAQC,KAAGqC,EAAEtC,QAAQ8D,IAAEkB,IAAI,IAAIA,EAAEwR,SAASlU,EAAEtC,QAAQsB,IAAE0D,GAAG1C,EAAE5C,SAASC,SAASC,IAAI,aAAa,QAAQ0C,EAAE5C,SAASG,KAAKD,IAAIM,GAAE;;;YAG/J8E,EAAE4W,wBAAwB,yCAAyC;;;;UAIrE,IAAI5W,EAAEwR,SAASlU,EAAEtC,QAAQyO,IAAEzJ,GAAG1C,EAAEtC,QAAQsB,IAAE0D,GAAGA,EAAEwW,gBAAgBlZ,EAAEtC,QAAQqD,IAAE2B,GAAG1C,EAAEtC,QAAQuG,IAAEvB,GAAG1C,EAAE5C,SAASC,SAASC,IAAI,aAAa,QAAQA,IAAI,wBAAwB,QAAQA,IAAI,wBAAwB,QAAQA,IAAI,SAAS,QAAQA,IAAI,cAAc,SAASA,IAAI,OAAO,QAAQ0C,EAAE5C,SAASM,QAAQP,KAAG6C,EAAE5C,SAASG,KAAKD,IAAIM,GAAE;;;UAGjU8E,EAAE4W,wBAAwB,yCAAyC;;;;;;;;;yBASpD5W,EAAEwW,eAAetb,GAAE,yCAAwC;;;;;;;UAO1E8E,EAAEmW,WAAW,iDAAiD;;QAEhE,IAAInW,EAAEwR,SAASlU,EAAEtC,QAAQwC,IAAEwC,GAAG1C,EAAEtC,QAAQyO,IAAEzJ,GAAG1C,EAAEtC,QAAQsB,IAAE0D,GAAG1C,EAAE24C,SAASr7C,IAAI,OAAO,QAAQ0C,EAAE24C,SAASr7C,IAAI,MAAM,QAAQ0C,EAAEwC,OAAOjF,KAAKD,IAAIM,GAAE;;+BAEpHA,IAAEghD,MAAM78C;;;;;;;;;;;OAWhC/B,EAAE5C,SAASC,SAASC,IAAI,cAAc,SAAS0C,EAAE5C,SAASG,KAAKD,IAAIM,GAAE;;;;;;;;;;QAUpE,IAAI8E,EAAEwR,SAASlU,EAAE24C,SAASr7C,IAAI,OAAO,QAAQ0C,EAAEwC,OAAOjF,KAAKD,IAAIM,GAAE;;+BAE1CA,IAAEghD,MAAM78C;;;;;;;;;OAShC/B,EAAE5C,SAASC,SAASC,IAAI,aAAa,QAAQ0C,EAAE5C,SAASG,KAAKD,IAAIM,GAAE;;;;QAIlE,IAAI8E,EAAEwR,SAASlU,EAAEtC,QAAQqB,KAAGiB,EAAE24C,SAASr7C,IAAI,OAAO,QAAQ0C,EAAEwC,OAAOjF,KAAKD,IAAIM,GAAE;;6BAEzDA,IAAEghD,MAAM78C;;;;;;;;;OAS9B/B,EAAEtC,QAAQsB,IAAE0D,GAAG1C,EAAE5C,SAASG,KAAKD,IAAIM,GAAE;;;;;QAKpCoC,EAAE,IAAIA,EAAE6+C,OAAOC,OAAO,CAACC,UAAU,KAAKnmC,MAAMlW,K,iCCzGpD,kGAI+Q,SAAS3D,IAAI,MAAMA,EAAE,IAAIvB,IAAE,OAAOuB,EAAErB,QAAQP,KAAG4B,EAAE3B,SAASC,SAASC,IAAI,MAAM,aAAayB,EAAE3B,SAASC,SAASC,IAAI,QAAQ,QAAQyB,EAAE3B,SAASG,KAAKD,IAAIM,GAAE;;;;;KAKlamB,EAAE,IAAItB,EAAEohD,OAAOC,OAAO,CAACC,UAAU,KAAKnmC,MAAM7Z,K,iCCTjD,sCAI0DC,EAJ1D,SAI6D,SAASA,GAU8DA,EAAEggD,QAV7D,SAAWhgD,EAAExB,GAAGwB,EAAEwD,OAAOnF,SAASC,IAAI,SAAS,QAAQA,IAAI,sBAAsB,SAASA,IAAI,aAAa,SAAS0B,EAAEwD,OAAOjF,KAAKD,IAAIM,GAAE;;;;;;;;;;MAUjEoB,EAAEmvB,iBAA7I,SAAWvwB,EAAEoB,EAAExB,GAAGI,EAAEiB,aAAa,sBAAsBrB,EAAEa,OAAO2O,qBAAqBpP,EAAEiB,aAAa,aAAaG,EAAE8vB,aAV3D,CAUyG9vB,IAAIA,EAAE,M,iCCd5K,wJAI83B,SAASrB,EAAEA,GAAG,MAAMuC,EAAE,IAAIlB,IAAE,OAAOkB,EAAExC,QAAQF,IAAE,CAACkhD,aAAY,IAAKx+C,EAAExC,QAAQqD,IAAEi+C,QAAQ,IAAI9+C,EAAExC,QAAQD,IAAEE,GAAGuC,EAAE9C,SAASM,QAAQP,KAAG+C,EAAEsC,OAAOnF,SAASC,IAAI,OAAO,QAAQA,IAAI,OAAO,QAAQ4C,EAAE9C,SAASC,SAASC,IAAI,QAAQ,QAAQ4C,EAAEy+C,WAAWrhD,IAAI,WAAW,QAAQ4C,EAAEy4C,SAASr7C,IAAI,iBAAiB,QAAQK,EAAE2b,yBAAyBpZ,EAAEy4C,SAASr7C,IAAI,QAAQ,SAASK,EAAEmwB,mBAAmB5tB,EAAEy+C,WAAWrhD,IAAI,SAAS,QAAQK,EAAEowB,iBAAiB7tB,EAAEsC,OAAOnF,SAASC,IAAI,aAAa,QAAQ4C,EAAE9C,SAASC,SAASC,IAAI,cAAc,QAAQA,IAAI,mBAAmB,QAAQ4C,EAAEy+C,WAAWrhD,IAAI,SAAS,QAAQ4C,EAAEy4C,SAASr7C,IAAI,cAAc,SAAS4C,EAAEsC,OAAOjF,KAAKD,IAAIM,GAAE;;yBAEx+CD,EAAEmwB,kBAAkB,sCAAsC;KAC9EnwB,EAAEowB,gBAAgB7tB,EAAEsC,OAAOjF,KAAKD,IAAIM,GAAE;;;OAGpCsC,EAAEsC,OAAOjF,KAAKD,IAAIM,GAAE;MACrBD,EAAE2b,wBAAwB,gDAAgD;;;KAG3E3b,EAAE2b,0BAA0BpZ,EAAE9C,SAASM,QAAQqE,KAAG7B,EAAExC,QAAQqB,IAAEpB,IAAIuC,EAAE9C,SAASG,KAAKD,IAAIM,GAAE;;;QAGrFD,EAAE2b,wBAAwB,yCAAyC;OACpE3b,EAAEowB,eAAe7tB,EAAE9C,SAASG,KAAKD,IAAIM,GAAE;;;;OAIvCsC,EAAE9C,SAASG,KAAKD,IAAIM,GAAE;;OAEtBsC,EAAE9C,SAASG,KAAKD,IAAIM,GAAE;2BACFA,IAAEghD,MAAMp9C;;;QAG3B,IAAI7D,EAAEuW,OAAOtW,GAAE,qCAAoC;;QAEnD,IAAID,EAAEuW,OAAOtW,GAAE,8DAA6DD,EAAEkb,WAAW,iDAAiD,KAAK;;OAEhJ3Y,EAAE,IAAIA,EAAE2+C,OAAOC,OAAO,CAACC,UAAU,KAAKnmC,MAAMjb,K,iCChCnD,+IAIgwB,SAASoB,EAAEA,GAAG,MAAM2D,EAAE,IAAIvF,IAAE,OAAOuF,EAAEhF,QAAQsB,IAAE,CAAC0/C,aAAY,IAAKh8C,EAAEhF,QAAQqD,IAAEhC,GAAG2D,EAAEhF,QAAQD,IAAEsB,GAAG2D,EAAEF,OAAOnF,SAASC,IAAI,OAAO,QAAQA,IAAI,OAAO,QAAQoF,EAAEi8C,WAAWrhD,IAAI,WAAW,QAAQoF,EAAEi2C,SAASr7C,IAAI,OAAO,QAAQoF,EAAEF,OAAOjF,KAAKD,IAAIM,GAAE;;;;;KAKx+BmB,EAAEqxC,iBAAiB1tC,EAAEi8C,WAAWrhD,IAAI,UAAU,QAAQoF,EAAEF,OAAOnF,SAASC,IAAI,aAAa,QAAQoF,EAAEF,OAAOjF,KAAKD,IAAIM,GAAE;;;;;MAKpHmB,EAAEwxC,6BAA6B,oDAAoD;;;;;QAKjF7tC,EAAEF,OAAOjF,KAAKD,IAAIM,GAAE;;KAEvB,IAAImB,EAAEmV,QAAQxR,EAAEhF,QAAQC,KAAG+E,EAAEhF,QAAQF,IAAEuB,GAAG2D,EAAEtF,SAASC,SAASC,IAAI,gBAAgB,QAAQA,IAAI,gBAAgB,SAASoF,EAAEtF,SAASG,KAAKD,IAAIM,GAAE;;;;mBAI/HmB,EAAEmxC,eAAe,SAAS;;;;;;;yBAOpBtyC,IAAEghD,MAAMp9C;;;;MAI3B,IAAIzC,EAAEmV,OAAOtW,GAAE,mDAAkD;MACjE,IAAImB,EAAEmV,OAAOtW,GAAE,qBAAoB;;KAEpC8E,EAAE,IAAIA,EAAEm8C,OAAOC,OAAO,CAACC,UAAU,KAAKnmC,MAAM7Z,K,iCCvCjD,yFAI8K,SAASvB,IAAI,MAAMA,EAAE,IAAII,IAAE,OAAOJ,EAAEyhD,WAAW3hD,IAAI,+BAA+BE,EAAEgF,OAAOnF,SAASC,IAAI,OAAO,QAAQA,IAAI,OAAO,QAAQE,EAAEmhD,WAAWrhD,IAAI,WAAW,QAAQE,EAAEmhD,WAAWrhD,IAAI,MAAM,QAAQE,EAAEm7C,SAASr7C,IAAI,MAAM,QAAQE,EAAEgF,OAAOjF,KAAKD,IAAIyE,GAAE;;;;;KAKvavE,EAAEJ,SAASC,SAASC,IAAI,kBAAkB,QAAQA,IAAI,YAAY,QAAQA,IAAI,QAAQ,SAASA,IAAI,YAAY,SAASE,EAAEJ,SAASG,KAAKD,IAAIyE,GAAE;;;;;;;;;;;;;;;;;;;;;KAqB9IvE,EAAE,IAAIC,EAAEohD,OAAOC,OAAO,CAACC,UAAU,KAAKnmC,MAAMpb,K,iCC9BjD,+IAIyxB,SAASuD,EAAEA,GAAG,MAAMhC,EAAE,IAAItB,IAAE,OAAOsB,EAAErB,QAAQF,IAAE,CAACkhD,aAAY,IAAK3/C,EAAEyD,OAAOnF,SAASC,IAAI,OAAO,QAAQA,IAAI,OAAO,QAAQyB,EAAE4/C,WAAWrhD,IAAI,WAAW,QAAQyB,EAAE4/C,WAAWrhD,IAAI,MAAM,QAAQyB,EAAE45C,SAASr7C,IAAI,OAAO,QAAQyD,EAAEuY,yBAAyBva,EAAE45C,SAASr7C,IAAI,QAAQ,SAASyB,EAAEyD,OAAOnF,SAASC,IAAI,+BAA+B,QAAQyB,EAAEyD,OAAOjF,KAAKD,IAAIM,GAAE;;;QAGvnCmD,EAAEuY,wBAAwB,sCAAsC;;;;KAInEva,EAAErB,QAAQsB,IAAE+B,GAAGA,EAAEuY,0BAA0Bva,EAAE3B,SAASM,QAAQqE,KAAGhD,EAAErB,QAAQ8D,IAAET,IAAIhC,EAAE3B,SAASC,SAASC,IAAI,MAAM,aAAayB,EAAE3B,SAASC,SAASC,IAAI,UAAU,SAASyB,EAAE45C,SAASr7C,IAAI,YAAY,QAAQ,IAAIyD,EAAEmT,OAAOnV,EAAE3B,SAASG,KAAKD,IAAIM,GAAE;;;QAG1OmD,EAAEuY,wBAAwB,yCAAyC;;;qBAGtD1b,IAAEghD,MAAMjhD;;;;;;QAMrBoB,EAAE3B,SAASM,QAAQP,KAAG4B,EAAE3B,SAASG,KAAKD,IAAIM,GAAE;;;QAG5CmD,EAAEuY,wBAAwB,yCAAyC;;;6BAG9C1b,IAAEghD,MAAMjhD;;;;;QAK7BoD,EAAE8X,WAAW,iDAAiD;;QAE9D9Z,EAAE,IAAIA,EAAE8/C,OAAOC,OAAO,CAACC,UAAU,KAAKnmC,MAAM7X,K,iCCpCpD,gFAIyD,SAAS5D,EAAEA,GAAGA,EAAEC,SAASG,KAAKD,IAAIK,GAAE;;;;;KAKxF,SAASoB,EAAE5B,GAAGA,EAAEC,SAASG,KAAKD,IAAIK,GAAE;;;;wCCTzC,8CAIyD,SAASoB,EAAEA,EAAEvB,GAAG,IAAIA,EAAE+V,YAAYxU,EAAEyD,OAAOjF,KAAKD,IAAIM,GAAE;;;;OAIxGmB,EAAEyD,OAAOjF,KAAKD,IAAIM,GAAE;;;;OAIpB,IAAIJ,EAAE+V,YAAYxU,EAAEyD,OAAOjF,KAAKD,IAAIM,GAAE;;;;;;OAMtCmB,EAAEyD,OAAOjF,KAAKD,IAAIM,GAAE;;;;;;0CClB3B,+hBAIq2B,SAAS6D,EAAE7D,EAAET,EAAE4B,EAAE,MAAM,OAAOpB,YAAEoB,GAAG,CAACnB,EAAET,EAAE4B,GAAG,CAACnB,EAAET,GAAG,SAAS4E,EAAEnE,EAAED,GAAG,MAAMR,EAAE,IAAI4D,IAAE,CAACmJ,EAAEtM,EAAE,GAAGoJ,EAAEpJ,EAAE,GAAG2Y,iBAAiB5Y,IAAI,OAAOC,EAAEqC,OAAO,IAAI9C,EAAE0H,EAAEjH,EAAE,IAAIT,EAAE,SAAS+N,EAAEtN,EAAED,GAAG,OAAO,IAAIqB,IAAE,CAACkgD,OAAOthD,EAAE2Y,iBAAiB5Y,IAAI,SAASgN,EAAE/M,EAAED,EAAER,GAAG,MAAM4B,EAAE,IAAImL,IAAE,CAACkjB,MAAMxvB,EAAE2Y,iBAAiB5Y,IAAI,OAAOR,GAAGqE,YAAEzC,GAAGA,EAAE,SAAS2C,EAAE/D,EAAER,EAAE4B,EAAEgC,GAAE,GAAI,MAAM/B,EAAEpB,YAAED,GAAGqB,EAAEO,SAAS3B,IAAI,MAAMD,EAAEC,EAAE,GAAGT,EAAES,EAAEA,EAAEqC,OAAO,GAAGzC,YAAEG,EAAER,IAAI,IAAIS,EAAEqC,QAAQrC,EAAEmV,KAAKnV,EAAE,OAAO,IAAIsC,EAAE,IAAIwC,IAAE,CAACyqB,MAAMnuB,EAAEuX,iBAAiBpZ,IAAI,OAAO+C,EAAEitB,MAAM5tB,SAAS3B,IAAIoJ,YAAEpJ,GAAE,GAAG,IAAKA,EAAEuhD,aAAapgD,GAAGyC,YAAEtB,GAAGa,GAAGb,EAAEk/C,oBAAoB3hD,YAAEN,KAAK+C,EAAEiD,mBAAEjD,IAAIA,EAAE,SAASsJ,EAAE5L,EAAED,EAAEoB,GAAG,MAAMvB,EAAEG,EAAE0hD,mBAAmBzhD,GAAGH,EAAE,GAAGsD,EAAE,CAACmJ,EAAE1M,EAAE,GAAG0M,EAAElD,EAAExJ,EAAE,GAAGwJ,GAAGhI,EAAKxB,EAAE,GAAG0M,EAAVlL,EAAcxB,EAAE,GAAGwJ,EAAGxF,EAAE8G,KAAKuN,MAAM7W,EAAI+B,EAAEmJ,GAAGlD,EAAEsB,KAAKuN,MAAM7W,EAAI+B,EAAEiG,GAAG9G,EAAEoI,KAAK8D,IAAI9D,KAAKyD,IAAIvK,GAAG8G,KAAKyD,IAAI/E,IAAI,GAAGjI,EAAE,CAAC,MAAMnB,EAAE,CAACsM,EAAEnJ,EAAEmJ,EAAEhK,EAAE8G,EAAEjG,EAAEiG,EAAE9G,GAAGvC,EAAE,CAACuM,EAAEnJ,EAAEmJ,EAAEhK,EAAE8G,EAAEjG,EAAEiG,EAAE9G,GAAGzC,EAAEsV,KAAK9H,YAAErN,EAAEsM,EAAEvM,EAAEqJ,GAAGiE,YAAEtN,EAAEuM,EAAEvM,EAAEqJ,GAAGiE,YAAEtN,EAAEuM,EAAEtM,EAAEoJ,GAAGiE,YAAErN,EAAEsM,EAAEtM,EAAEoJ,QAAQ,CAAC,MAAMpJ,EAAE,CAACsM,EAAE1I,EAAE,EAAET,EAAEmJ,EAAEhK,EAAEa,EAAEmJ,EAAEhK,EAAE8G,EAAEA,EAAE,EAAEjG,EAAEiG,EAAE9G,EAAEa,EAAEiG,EAAE9G,GAAGzC,EAAEsV,KAAK9H,YAAElK,EAAEmJ,EAAEnJ,EAAEiG,GAAGiE,YAAErN,EAAEsM,EAAEnJ,EAAEiG,GAAGiE,YAAErN,EAAEsM,EAAEtM,EAAEoJ,GAAGiE,YAAElK,EAAEmJ,EAAEtM,EAAEoJ,IAAI,OAAOtF,EAAE,CAACvE,YAAEM,EAAEg0B,KAAK7zB,GAAGD,EAAE2hD,WAAW1hD,OAAOD,EAAE4Y,iBAAiB5Y,EAAE4hD,mBAAkB,GAAI,SAAS1zC,EAAEjO,EAAED,EAAEoB,GAAG,IAAIvB,EAAEG,EAAE0hD,mBAAmBzhD,GAAG,GAAG,IAAIJ,EAAEyC,OAAO,CAAC,MAAMrC,EAAE,GAAGD,EAAEH,EAAE,GAAGA,EAAE,CAACyN,YAAEtN,EAAEuM,EAAEtM,EAAED,EAAEqJ,EAAEpJ,GAAGqN,YAAEtN,EAAEuM,EAAEtM,EAAED,EAAEqJ,EAAEpJ,GAAGqN,YAAEtN,EAAEuM,EAAEtM,EAAED,EAAEqJ,EAAEpJ,GAAGqN,YAAEtN,EAAEuM,EAAEtM,EAAED,EAAEqJ,EAAEpJ,IAAI,MAAMH,EAAE,GAAGsD,EAAE,CAACmJ,EAAE1M,EAAE,GAAG0M,EAAElD,EAAExJ,EAAE,GAAGwJ,GAAGhI,EAAE,CAACkL,EAAE1M,EAAE,GAAG0M,EAAElD,EAAExJ,EAAE,GAAGwJ,GAAG,GAAGjI,EAAE,CAAC,MAAMnB,EAAE0K,KAAKuN,MAAM7W,EAAEkL,EAAEnJ,EAAEmJ,GAAGvM,EAAE2K,KAAKuN,MAAM7W,EAAEgI,EAAEjG,EAAEiG,GAAGvJ,EAAEsV,KAAK9H,YAAElK,EAAEmJ,EAAEtM,EAAEmD,EAAEiG,EAAErJ,GAAGsN,YAAEjM,EAAEkL,EAAEnJ,EAAEiG,EAAErJ,GAAGsN,YAAEjM,EAAEkL,EAAElL,EAAEgI,GAAGiE,YAAElK,EAAEmJ,EAAEtM,EAAEoB,EAAEgI,SAASvJ,EAAEsV,KAAK9H,YAAElK,EAAEmJ,EAAEnJ,EAAEiG,GAAGiE,YAAEjM,EAAEkL,EAAEnJ,EAAEiG,GAAGiE,YAAEjM,EAAEkL,EAAElL,EAAEgI,GAAGiE,YAAElK,EAAEmJ,EAAElL,EAAEgI,IAAI,OAAOtF,EAAE,CAACvE,YAAEM,EAAEg0B,KAAK7zB,GAAGD,EAAE2hD,WAAW1hD,OAAOD,EAAE4Y,iBAAiB5Y,EAAE4hD,mBAAkB,GAAI,SAASv8C,EAAEpF,EAAED,EAAER,EAAEK,GAAG,MAAMuD,EAAEpD,EAAE0hD,mBAAmBzhD,GAAG,IAAIoB,EAAE,KAAKwC,EAAE,KAAK,GAAGrE,EAAE6B,EAAE+B,EAAE,GAAGS,EAAET,EAAE,OAAO,CAAC,MAAMnD,EAAEmD,EAAE,GAAGpD,EAAEoD,EAAE,GAAG5D,EAAEmL,KAAKuN,MAAMlY,EAAEuM,EAAEtM,EAAEsM,GAAGnL,EAAEuJ,KAAKuN,MAAMlY,EAAEqJ,EAAEpJ,EAAEoJ,GAAGxJ,EAAE8K,KAAK8D,IAAI9D,KAAKyD,IAAI5O,GAAGmL,KAAKyD,IAAIhN,IAAIC,EAAEiM,YAAE9N,EAAE,EAAES,EAAEsM,EAAE1M,EAAE,EAAEI,EAAEsM,EAAE1M,EAAE,EAAEuB,EAAE,EAAEnB,EAAEoJ,EAAExJ,EAAE,EAAEI,EAAEoJ,EAAExJ,EAAE,GAAGgE,EAAEyJ,YAAE3C,KAAKyD,IAAI5O,GAAGmL,KAAKyD,IAAIhN,GAAGC,EAAEkL,EAAE1M,EAAE,EAAEwB,EAAEkL,EAAE5B,KAAKyD,IAAI5O,GAAGmL,KAAKyD,IAAIhN,GAAGC,EAAEgI,EAAEhI,EAAEgI,EAAExJ,EAAE,GAAG,MAAMwJ,EAAErJ,EAAE2hD,WAAWtgD,GAAG0D,EAAE/E,EAAE2hD,WAAW99C,GAAG,GAAGzC,YAAEiI,IAAIjI,YAAE2D,GAAG,OAAO,KAAK/E,EAAE4hD,mBAAmBr/C,YAAE,CAAC,CAAC8G,EAAEtE,IAAI/E,EAAE4Y,kBAAkB,MAAMrM,EAAEnI,EAAEiF,EAAErJ,EAAE4Y,kBAAkBpT,EAAEpB,EAAEW,EAAE/E,EAAE4Y,kBAAkB9U,EAAEwC,YAAEtG,EAAE4Y,kBAAkB,IAAIrL,EAAE,EAAE,GAAGzN,YAAEE,EAAE4Y,kBAAkBrL,EAAEzJ,EAAEF,mBAAE2I,EAAE/G,EAAE,UAAU,CAAC,MAAMvF,EAAEoB,EAAEkL,EAAE1I,EAAE0I,EAAEvM,EAAEqB,EAAEgI,EAAExF,EAAEwF,EAAEkE,EAAEzJ,EAAE6G,KAAK8Z,KAAKxkB,EAAEA,EAAED,EAAEA,IAAIH,GAAG,GAAG,MAAMmN,EAAE,IAAI3K,IAAE,CAACgK,OAAOE,EAAEzG,OAAOyH,EAAEs0C,WAAW,SAASjpC,iBAAiB5Y,EAAE4Y,mBAAmB,OAAO7U,EAAEiJ,EAAEwiB,MAAMxiB,EAAE4L,kBAAiB,GAAI,SAAS1R,EAAEjH,EAAED,EAAEoB,GAAG,MAAMvB,EAAEG,EAAE0hD,mBAAmBzhD,GAAGH,EAAED,EAAE,GAAGuD,EAAEvD,EAAE,GAAGwB,EAAEsJ,KAAKuN,MAAM9U,EAAEmJ,EAAEzM,EAAEyM,GAAG1I,EAAE8G,KAAKuN,MAAM9U,EAAEiG,EAAEvJ,EAAEuJ,GAAGA,EAAEiE,YAAElM,EAAEtB,EAAEyM,EAAEzM,EAAEyM,EAAElL,EAAE,EAAED,EAAEtB,EAAEuJ,EAAEvJ,EAAEuJ,EAAExF,EAAE,GAAGtB,EAAEnB,EAAEC,EAAEA,EAAE,EAAE0D,EAAE3D,EAAEyC,EAAEA,EAAE,EAAOyC,EAAE,GAAGjE,EAAE,EAAEsI,KAAKC,GAAjB,GAAsB,IAAI,IAAIpL,EAAE,EAAEA,EAAlC,GAAsCA,IAAI,CAAC,MAAMS,EAAE0K,KAAKumC,IAAI1xC,EAAE6C,GAAGrC,EAAE2K,KAAKwmC,IAAI3xC,EAAE6C,GAAGjB,EAAEkM,YAAE/K,EAAEtC,EAAEoJ,EAAEkD,EAAExH,EAAE/E,EAAEqJ,EAAEA,GAAG/C,EAAE8O,KAAKhU,GAAG,OAAOkF,EAAE8O,KAAK9O,EAAE,IAAIvC,EAAE,CAACvE,YAAE8G,EAAEwtB,KAAK7zB,GAAGD,EAAE2hD,WAAW1hD,OAAOD,EAAE4Y,iBAAiB5Y,EAAE4hD,mBAAkB","file":"static/js/7.e72d5a64.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as r}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.uniforms.add(\"lastFrameColorMap\",\"sampler2D\"),o.fragment.uniforms.add(\"reprojectionMat\",\"mat4\"),o.fragment.uniforms.add(\"rpProjectionMat\",\"mat4\"),o.fragment.code.add(r`\n  vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n  {\n    vec4 zw = rpProjectionMat * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\n    vec4 reprojectedCoord = reprojectionMat * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\n    reprojectedCoord.xy /= reprojectedCoord.w;\n    return reprojectedCoord.xy*0.5 + 0.5;\n  }\n  `)}!function(r){function o(r,o,e){r.setUniform1i(\"lastFrameColorMap\",e.lastFrameColorTextureUnit),o.bindTexture(e.lastFrameColorTexture,e.lastFrameColorTextureUnit),r.setUniformMatrix4fv(\"reprojectionMat\",e.reprojectionMat),r.setUniformMatrix4fv(\"rpProjectionMat\",e.camera.projectionMatrix)}r.bindUniforms=o}(o||(o={}));export{o as Reprojection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ReadLinearDepth as t}from\"../output/ReadLinearDepth.glsl.js\";import{Reprojection as o}from\"./Reprojection.glsl.js\";function r(r,a){r.fragment.uniforms.add(\"nearFar\",\"vec2\"),r.fragment.uniforms.add(\"depthMapView\",\"sampler2D\"),r.fragment.uniforms.add(\"ssrViewMat\",\"mat4\"),r.fragment.uniforms.add(\"invResolutionHeight\",\"float\"),r.fragment.include(t),r.include(o),r.fragment.code.add(e`\n  const int maxSteps = ${a.highStepCount?\"150;\":\"75;\"}\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(rpProjectionMat, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMapView, P, nearFar); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n          return vec3(P, depth);\n      }\n\n      // continue with ray marching\n      P += dP;\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}!function(e){function t(e,t,r){r.ssrEnabled&&(e.setUniform1i(\"depthMapView\",r.linearDepthTextureUnit),t.bindTexture(r.linearDepthTexture,r.linearDepthTextureUnit),e.setUniform2fv(\"nearFar\",r.camera.nearFar),e.setUniformMatrix4fv(\"ssrViewMat\",r.camera.viewMatrix),e.setUniform1f(\"invResolutionHeight\",1/r.camera.height),o.bindUniforms(e,t,r))}e.bindUniforms=t}(r||(r={}));export{r as ScreenSpaceReflections};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function e(e){e.fragment.code.add(o`\n    const float GAMMA = 2.2;\n    const float INV_GAMMA = 0.4545454545;\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  `)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ScreenSpaceReflections as o}from\"./ScreenSpaceReflections.glsl.js\";import{FoamColor as t}from\"./FoamRendering.glsl.js\";import{Gamma as r}from\"./Gamma.glsl.js\";import{PhysicallyBasedRendering as i}from\"./PhysicallyBasedRendering.glsl.js\";function a(a,n){a.include(i,n),a.include(r),a.include(t),n.ssrEnabled&&a.include(o,n),a.fragment.constants.add(\"fresnelSky\",\"vec3\",[.02,1,15]).add(\"fresnelMaterial\",\"vec2\",[.02,.1]).add(\"roughness\",\"float\",.015).add(\"foamIntensityExternal\",\"float\",1.7).add(\"ssrIntensity\",\"float\",.65).add(\"ssrHeightFadeStart\",\"float\",3e5).add(\"ssrHeightFadeEnd\",\"float\",5e5).add(\"waterDiffusion\",\"float\",.775).add(\"waterSeeColorMod\",\"float\",.8).add(\"correctionViewingPowerFactor\",\"float\",.4).add(\"skyZenitColor\",\"vec3\",[.52,.68,.9]).add(\"skyColor\",\"vec3\",[.67,.79,.9]),a.fragment.code.add(e`\n    PBRShadingWater shadingInfo;\n\n    /*\n    *   This function is an approximation for the sky gradient reflected\n    *   the water surface and describes a combination of two fresnel terms.\n    *   @parameter: cosTheta = is the result of max(dot(n,v), 0.0)\n    *   @parameter: horizon = the dominant color of the sky horizon\n    *   @parameter: cosTheta = the dominant color of the sky zenit\n    */\n    vec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\n      float exponent = pow((1.0 - cosTheta), fresnelSky[2]);\n      return mix(zenit, horizon, exponent);\n    }\n\n    /*\n    *   This function determines the water color per pixel.\n    *   @parameter: n = normal facing away from the surface\n    *   @parameter: v = view direction facing away from the surface.\n    *   @parameter: l = light direction facing away from the surface\n    *   @parameter: lightIntensity = light intensity, currently between 0...PI\n    *   @parameter: localUp = a normal for the general direction of the surface\n    *   @parameter: shadow = the amount of shadow at this pixel (0 = no shadow)\n    */\n    vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 positionView) {\n\n      float reflectionHit = 0.;\n      vec3 seaWaterColor = linearizeGamma(color);\n      // using half vector to determine the specular light\n      vec3 h = normalize(l + v);\n      shadingInfo.NdotL = clamp(dot(n, l), 0.0, 1.0);\n      shadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\n      shadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\n      shadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\n      shadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\n      shadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\n\n      // angle between vertex normal and view direction\n      float upDotV = max(dot(localUp,v), 0.0);\n      // reflected sky color: the reflected sky color consists of two main colors, the\n      // reflected color at the horizon and the reflected color of the zenit.\n      // the reflected sky color is then an approximation based on the fresnel term.\n      vec3 skyHorizon = linearizeGamma(skyColor);\n      vec3 skyZenit = linearizeGamma(skyZenitColor);\n      vec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\n\n      // we use the upDotL to smoothen out the\n      // reflected color of the water\n      float upDotL = max(dot(localUp,l),0.0);\n\n      // The approximated sky color is adjusted according to the sun position.\n      // This is done as approximation for e.g. night views.\n      float daytimeMod = 0.1 + upDotL * 0.9;\n      skyColor *= daytimeMod;\n\n      // If a water surface is in shadow we just use a slight darkening of the\n      // water surface expressed with this shadowModifier.\n      float shadowModifier = clamp(shadow, 0.8, 1.0);\n\n      // The reflected sky color consists of the fresnel reflection multiplied with the approximated sky color.\n      // The shadow is influencing the frensel term to keep the shadow impression for really near views. As long\n      // as reflection are absent there is a need to have a slight shadow for depth perception.\n      vec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\n      vec3 reflSky = fresnelModifier * skyColor * shadowModifier;\n\n      // The reflected sea color is the input water color combined with the reflected sky color.\n      // The reflected sky color is modified by the incoming light.\n      vec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\n\n      vec3 specular = vec3(0.0);\n      // This prevents the specular light to be rendered when:\n      // - sun is behind a polygon (e.g. sundown for elevated polygons where nDotL might be still ok)\n      // - viewer is under water (for this localUp is better than n)\n      if(upDotV > 0.0 && upDotL > 0.0) {\n        // calculate the cook torrance BRDF but with simplified occlusion\n        vec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\n\n        // Normalize light intensity to be between 0...1. Shadow cancels out specular light here\n        vec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\n\n        specular = shadingInfo.NdotL * incidentLight * specularSun;\n      }\n\n      vec3 foam = vec3(0.0);\n      if(upDotV > 0.0) {\n        foam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n      }\n      `),n.ssrEnabled?a.fragment.code.add(e`\n      // Convert the world position to view position\n      vec4 viewPosition = vec4(positionView.xyz, 1.0);\n      vec3 viewDir = normalize(viewPosition.xyz);\n      vec4 viewNormalVectorCoordinate = ssrViewMat *vec4(n, 0.0);\n      vec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\n      vec4 viewUp = ssrViewMat *vec4(localUp, 0.0);\n\n      // at steeper viewing angles we use more of a vertex normal (in this case up) then the wave normal\n      // this removes some artifacts of normal mapping\n      float correctionViewingFactor = pow(max(dot(-viewDir, viewUp.xyz), 0.0), correctionViewingPowerFactor);\n      vec3 viewNormalCorrected = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\n\n      vec3 reflected = normalize(reflect(viewDir, viewNormalCorrected));\n\n      // perform screen space reflection to detect hit\n      vec3 hitCoordinate = screenSpaceIntersection( normalize(reflected), viewPosition.xyz, viewDir, viewUp.xyz);\n      vec3 reflectedColor = vec3(0.0);\n\n      // if there is a hit with ssr find reflected color from the reprojeted frame\n      if (hitCoordinate.z > 0.0)\n      {\n        vec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\n\n        // fade out if there if the hit is near end of Y axis\n        vec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\n        float heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -positionView.z);\n        reflectionHit = waterDiffusion * clamp(1.0 - (1.3*dCoords.y), 0.0, 1.0) * heightMod;\n\n        reflectedColor = linearizeGamma(texture2D(lastFrameColorMap, reprojectedCoordinate).xyz)* reflectionHit * fresnelModifier.y * ssrIntensity;\n      }\n      float seeColorMod =  mix(waterSeeColorMod, waterSeeColorMod*0.5, reflectionHit);\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES((1. - reflectionHit) * reflSky + reflectedColor + reflSea * seeColorMod + specular + foam);\n    }\n  `):a.fragment.code.add(e`\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES(reflSky + reflSea * waterSeeColorMod + specular + foam);\n    }\n  `)}export{a as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/checkWebGLError.js\";import r from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";class n{constructor(){this.cache=new Map}dispose(){this.cache.forEach((t=>{e(t.texture)&&(t.texture.dispose(),t.texture=null)})),this.cache.clear()}acquire(e){if(t(e))return null;const n=this.patternId(e),i=this.cache.get(n);if(i)return i.refCount++,i.bind;const s=2,o=this.patternToTextureData(e,2),u=o.length/s,c={refCount:1,texture:null,bind:(e,n)=>(t(c.texture)&&(c.texture=new r(e,{width:o.length,height:1,internalFormat:6406,pixelFormat:6406,dataType:5121,wrapMode:33071},o)),e.bindTexture(c.texture,n),u)};return this.cache.set(n,c),c.bind}release(r){if(t(r))return;const n=this.patternId(r),i=this.cache.get(n);i&&(i.refCount--,0===i.refCount&&(e(i.texture)&&i.texture.dispose(),this.cache.delete(n)))}swap(e,t){const r=this.acquire(t);return this.release(e),r}patternId(e){return e.join(\",\")}patternToTextureData(e,t){const r=e.reduce(((e,t)=>e+t))*t,n=new Uint8Array(r);let i=!0,s=0;for(const o of e){for(let e=0;e<o*t;e++)n[s++]=i?255:0;i=!i}return n}}function i(e){return t(e)?e:e.slice()}function s(e){return[e,e]}export{n as StippleTextureRepository,i as createStipplePattern,s as createStipplePatternSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as i,toRGB as e}from\"../../../../core/colorUtils.js\";import{f as o}from\"../../../../chunks/vec4f64.js\";import{createStipplePattern as l}from\"../../webgl-engine/materials/lineStippleUtils.js\";const s={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])},n=.3;function r(t,i){const e=t.clone();return e.a*=i,e}function h(t,o){const l=t.clone(),s=i(l);s.s*=o;const n=e(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function c(t,i){if(i)for(const e in i)t[e]=i[e]}class a{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,c(this,t)}}class d{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,c(this,t)}apply(t,i){const e=this[t];i.setParameterValues({color:b(e),transparent:\"color\"!==t||e.a<1,renderOccluded:this.renderOccluded})}}class u{constructor(t){this.vertex=new d({color:s.main,outlineColor:s.outline}),this.edge=new d({color:h(r(s.main,2/3),.5),outlineColor:r(s.outline,.5),size:8,collisionPadding:8}),this.selected=new d({color:s.selected,outlineColor:s.outline}),c(this,t)}}class p{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=l([5,5]),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,c(this,t)}apply(t){t.color=b(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=b(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=b(this.innerColor),t.renderOccluded=this.renderOccluded}}class w{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape=\"square\",c(this,t)}apply(t){t.color=b(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=b(this.outlineColor),t.primitive=this.shape}}class f{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=n,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,c(this,t)}apply(i,e=1){const o={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*e,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in i?i.style=o:i.laserlineStyle=o}}class g{constructor(t){this.outline=new p({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:l([5,5]),width:1.5,innerWidth:0}),this.staged=new p({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:l([5,5]),width:1.5}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),c(this,t)}}class C{constructor(t){this.outline=new w({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),c(this,t)}}class m extends p{constructor(t){super(),this.extensionType=2,c(this,t)}}class W{constructor(t){this.lineGraphics=new g,this.pointGraphics=new C,this.heightPlane=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new m({color:r(s.main,5*n/3),falloff:2,innerColor:r(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,c(this,t)}}class O{constructor(t){this.visualElements=new W,this.reshapeManipulators=new u,this.zManipulator=new a,c(this,t)}colorToVec4(t){return b(t)}}function b(i){return o(t.toUnitRGBA(i))}const z=new O;export{s as colors,z as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as i,unwrapOr as r}from\"../../../../core/maybe.js\";import{i as s}from\"../../../../chunks/vec3.js\";import{maxScale as a}from\"../../support/mathUtils.js\";import{c as n}from\"../../../../chunks/mat4.js\";import{I as e,a as o}from\"../../../../chunks/mat4f64.js\";import{a as h}from\"../../../../chunks/vec4f64.js\";import{computeAttachmentOriginTriangles as m}from\"./geometryDataUtils.js\";import{Object3DStateID as u}from\"./Object3DStateID.js\";import{addObject3DStateID as d,removeObject3DStateID as f}from\"../materials/renderers/utils.js\";class c{constructor(t,i,r=null,s=null,a,n,e,o,m){this.data=t,this.material=i,this.layerUid=r,this.graphicUid=s,this.boundingSphere=h(),this.instanceParameters={highlights:null,occludees:null,visible:!0},this.shaderTransformationDirty=!0,this.boundingInfo=a,this.material=i,this.origin=null,this.transformation=null,this.calculateShaderTransformation=e,n&&this.updateTransformation(n,o),this.castShadow=m}updateTransformation(t,i){this.transformation=t,this.shaderTransformationDirty=!0,this.computeBoundingSphere(t,i,this.boundingSphere)}shaderTransformationChanged(){this.shaderTransformationDirty=!0}computeBoundingSphere(i,r,n){t(this.boundingInfo)||(r=r||a(i),s(n,this.boundingInfo.getCenter(),i),n[3]=this.boundingInfo.getBSRadius()*r)}get hasShaderTransformation(){return i(this.calculateShaderTransformation)}get primitiveType(){return this.data.primitiveType}getShaderTransformation(){return t(this.calculateShaderTransformation)?r(this.transformation,e):(this.shaderTransformationDirty&&(this.shaderTransformation||(this.shaderTransformation=o()),n(this.shaderTransformation,this.calculateShaderTransformation(r(this.transformation,e))),this.shaderTransformationDirty=!1),this.shaderTransformation)}computeAttachmentOrigin(t){if(this.material.computeAttachmentOrigin)return!!this.material.computeAttachmentOrigin(this,t)&&(i(this.transformation)&&s(t,t,this.transformation),!0);const r=this.indices.get(\"position\"),a=this.vertexAttributes.get(\"position\");return!!m(a,r,t)&&(i(this.transformation)&&s(t,t,this.transformation),!0)}get indices(){return this.data.indices}get vertexAttributes(){return this.data.vertexAttributes}addHighlight(){const t=new u(0),i=this.instanceParameters;return i.highlights=d(i.highlights,t),t}removeHighlight(t){const i=this.instanceParameters;i.highlights=f(i.highlights,t)}}export{c as RenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isClockwise as n}from\"./coordsUtils.js\";import{earcut as t}from\"../../core/libs/earcut/earcut.js\";import{deduplicate as e}from\"./meshUtils/deduplicate.js\";function o(n){const o=l(n.rings,n.hasZ,1),s=[];let i=0,c=0;for(const e of o.polygons){const n=e.count,r=e.index,l=new Float64Array(o.position.buffer,3*r*o.position.BYTES_PER_ELEMENT,3*n),h=e.holeIndices.map((n=>n-r)),f=new Uint32Array(t(l,h,3));s.push({position:l,faces:f}),i+=l.length,c+=f.length}const h=r(s,i,c),f=e(h.position.buffer,6,{originalIndices:h.faces});return h.position=new Float64Array(f.buffer),h.faces=f.indices,h}function r(n,t,e){if(1===n.length)return n[0];const o=new Float64Array(t),r=new Uint32Array(e);let l=0,s=0,i=0;for(const c of n){for(let n=0;n<c.position.length;n++)o[l++]=c.position[n];for(let n=0;n<c.faces.length;n++)r[s++]=c.faces[n]+i;i=l/3}return{position:o,faces:r}}function l(n,t,e){const o=n.length,r=new Array(o),l=new Array(o),c=new Array(o);let h=0,f=0,g=0,a=0;for(let s=0;s<o;++s)a+=n[s].length;const u=new Float64Array(3*a);let p=0;for(let d=o-1;d>=0;d--){const a=n[d],y=1===e&&i(a);if(y&&1!==o)r[h++]=a;else{let n=a.length;for(let t=0;t<h;++t)n+=r[t].length;const e={index:p,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};e.pathLengths[0]=a.length,a.length>0&&(c[g++]={index:p,count:a.length}),p=y?s(a,a.length-1,-1,u,p,a.length,t):s(a,0,1,u,p,a.length,t);for(let o=0;o<h;++o){const n=r[o];e.holeIndices[o]=p,e.pathLengths[o+1]=n.length,n.length>0&&(c[g++]={index:p,count:n.length}),p=s(n,0,1,u,p,n.length,t)}h=0,e.count>0&&(l[f++]=e)}}for(let i=0;i<h;++i){const n=r[i];n.length>0&&(c[g++]={index:p,count:n.length}),p=s(n,0,1,u,p,n.length,t)}return f<o&&(l.length=f),g<o&&(c.length=g),{position:u,polygons:l,outlines:c}}function s(n,t,e,o,r,l,s){r*=3;for(let i=0;i<l;++i){const l=n[t];o[r++]=l[0],o[r++]=l[1],o[r++]=s?l[2]:0,t+=e}return r/3}function i(t){return!n(t,!1,!1)}export{l as pathsToTriangulationInfo,o as triangulate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as s,f as t}from\"../../../../chunks/vec3f64.js\";class i{constructor(i=s(),c=t(.57735,.57735,.57735),n=!0){this.intensity=i,this.direction=c,this.castShadows=n}}class c{constructor(i=s(),c=t(.57735,.57735,.57735)){this.intensity=s(),this.direction=s(),this.intensity=i,this.direction=c}}class n{constructor(t=s()){this.intensity=t}}class o{constructor(){this.sh={r:[0],g:[0],b:[0]}}}export{n as AmbientLight,c as FillLight,i as MainLight,o as SphericalHarmonicsLight};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{lerp as i}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as e,createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as s,b as h,f as n}from\"../../../../chunks/vec3f64.js\";import{f as o,k as a,g as _,m as p,r as u,d as v,u as c,v as w,a as d,l,s as y,c as f,n as g}from\"../../../../chunks/vec3.js\";import{directionFromTo as m}from\"../../support/mathUtils.js\";import{c as x,m as D,h as j,a as M,b as R,l as P}from\"../../../../chunks/mat4.js\";import{a as F}from\"../../../../chunks/mat4f64.js\";import{f as V}from\"../../../../chunks/vec2f64.js\";import{b as S,a as T}from\"../../../../chunks/vec4f64.js\";import{c as I,k as U}from\"../../../../chunks/vec2.js\";import{c as k,g as b,i as A,t as C}from\"../../../../chunks/vec4.js\";import{p as E}from\"../../../../chunks/vector.js\";import{ray as z,frustum as H}from\"../../support/geometryUtils.js\";import{fovd2fovx as W,fovx2fovd as G,fovd2fovy as X,fovy2fovd as Y}from\"./Util.js\";class L{constructor(i=null,e=null,r=null){this._viewUp=s(),this._viewForward=s(),this._viewRight=s(),this._ray=z.createWrapper(),this._viewport=S(0,0,1,1),this._padding=S(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=V(1,1e3),this._viewDirty=!0,this._viewMatrix=F(),this._projectionDirty=!0,this._projectionMatrix=F(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=F(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=F(),this._frustumDirty=!0,this._frustum=H.create(),this._fullViewport=T(),this.pixelRatio=1,this.relativeElevation=0,this._eye=t(i)?h(i):s(),this._center=t(e)?h(e):s(),this._up=t(r)?h(r):n(0,0,1)}get eye(){return this._eye}set eye(t){this._compareAndSetView(t,this._eye)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center)}get ray(){return this._ray.origin=this.eye,this._ray.direction||(this._ray.direction=s()),o(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up)}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){x(this._viewMatrix,t),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),this._viewForward}get viewUp(){return this._ensureViewClean(),this._viewUp}get viewRight(){return this._ensureViewClean(),this._viewRight}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get x(){return this._viewport[0]}set x(t){t+=this._padding[3],this._viewport[0]!==t&&(this._viewport[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get y(){return this._viewport[1]}set y(t){t+=this._padding[2],this._viewport[1]!==t&&(this._viewport[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get fullWidth(){return this._viewport[2]+this._padding[1]+this._padding[3]}set fullWidth(t){this.width=t-(this._padding[1]+this._padding[3])}get fullHeight(){return this._viewport[3]+this._padding[0]+this._padding[2]}set fullHeight(t){this.height=t-(this._padding[0]+this._padding[2])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[3],this._fullViewport[1]=this._viewport[1]-this._padding[2],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){this._padding[0]===t[0]&&this._padding[1]===t[1]&&this._padding[2]===t[2]&&this._padding[3]===t[3]||(this._viewport[0]+=t[3]-this._padding[3],this._viewport[1]+=t[2]-this._padding[2],this._viewport[2]-=t[1]+t[3]-(this._padding[1]+this._padding[3]),this._viewport[3]-=t[0]+t[2]-(this._padding[0]+this._padding[2]),k(this._padding,t),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewProjectionMatrix(){return this._viewProjectionDirty&&(D(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){if(this._projectionDirty){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2),r=e*this.aspect;j(this._projectionMatrix,-r*(1+2*this._padding[3]/t),r*(1+2*this._padding[1]/t),-e*(1+2*this._padding[2]/i),e*(1+2*this._padding[0]/i),this.near,this.far),this._projectionDirty=!1}return this._projectionMatrix}set projectionMatrix(t){x(this._projectionMatrix,t),this._projectionDirty=!1,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fov(){return this._fov}set fov(t){this._fov=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return W(this._fov,this.width,this.height)}set fovX(t){this._fov=G(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return X(this._fov,this.width,this.height)}set fovY(t){this._fov=Y(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return a(this._center,this._eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&(M(this._viewInverseTransposeMatrix,this.viewMatrix),R(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const i=2*t-1;return 2*this.near*this.far/(this.far+this.near-i*(this.far-this.near))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return this.relativeElevation&&this.relativeElevation>=0}copyFrom(t){const i=t;return _(this._eye,i._eye),_(this._center,i._center),_(this._up,i._up),k(this._viewport,i._viewport),k(this._padding,i._padding),I(this._nearFar,i._nearFar),this._fov=i._fov,this.relativeElevation=t.relativeElevation,this._viewDirty=i._viewDirty,this._viewDirty||(x(this._viewMatrix,i._viewMatrix),_(this._viewRight,i._viewRight),_(this._viewUp,i._viewUp),_(this._viewForward,i._viewForward)),i._projectionDirty?this._projectionDirty=!0:(x(this._projectionMatrix,i._projectionMatrix),this._projectionDirty=!1),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||(H.copy(i._frustum,this._frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:(x(this._viewInverseTransposeMatrix,i._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),k(this._fullViewport,i._fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up}clone(){return(new L).copyFrom(this)}equals(t){return p(this._eye,t._eye)&&p(this._center,t._center)&&p(this._up,t._up)&&b(this._viewport,t._viewport)&&b(this._padding,t._padding)&&U(this._nearFar,t._nearFar)&&this._fov===t._fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation}almostEquals(t){if(this.pixelRatio!==t.pixelRatio||Math.abs(t.fov-this._fov)>=.001)return!1;const i=5e-4,e=1-1e-10;u(B,t.eye,t.center),u(J,this._eye,this._center);const r=v(B,J),s=c(B),h=c(J);return r*r>=e*s*h&&w(t.eye,this._eye)<Math.max(s,h)*i*i&&A(t.padding,this._padding)<.5&&A(t.viewport,this._viewport)<.5}markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this.viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this.viewDirectionDistance(t))}viewDirectionDistance(t){return Math.abs(E(this.viewForward,o(B,t,this._eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=e()){return t[0]=(this.padding[3]+this.width/2)/this.pixelRatio,t[1]=(this.padding[0]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t||(t=r()),t[0]=this.padding[3]+this.width*i,t[1]=this.padding[2]+this.height*e,t.length>2&&(t[2]=.5),t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,e,r=!1){t!==q&&_(q,t),q[3]=1,r&&(e[2]=-q[2]),C(q,q,this.projectionMatrix),d(q,q,1/Math.abs(q[3]));const s=this.fullViewport;return e[0]=i(0,s[0]+s[2],.5+.5*q[0]),e[1]=i(0,s[1]+s[3],.5+.5*q[1]),r||(e[2]=.5*(q[2]+1)),e}projectToScreen(t,i){return this.projectToRenderScreen(t,K),this.renderToScreen(K,i)}projectToRenderScreen(t,e){if(q[0]=t[0],q[1]=t[1],q[2]=t[2],q[3]=1,C(q,q,this.viewProjectionMatrix),0===q[3])return null;d(q,q,1/Math.abs(q[3]));const r=this.fullViewport;return\"x\"in e?(e.x=i(0,r[0]+r[2],.5+.5*q[0]),e.y=i(0,r[1]+r[3],.5+.5*q[1])):(e[0]=i(0,r[0]+r[2],.5+.5*q[0]),e[1]=i(0,r[1]+r[3],.5+.5*q[1]),e.length>2&&(e[2]=.5*(q[2]+1))),e}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,K),i)}unprojectFromRenderScreen(t,i){if(D(N,this.projectionMatrix,this.viewMatrix),!M(N,N))return null;const e=this.fullViewport;return q[0]=2*(t[0]-e[0])/e[2]-1,q[1]=2*(t[1]-e[1])/e[3]-1,q[2]=2*t[2]-1,q[3]=1,C(q,q,N),0===q[3]?null:(i[0]=q[0]/q[3],i[1]=q[1]/q[3],i[2]=q[2]/q[3],i)}constrainWindowSize(t,i,e,r=1){const s=t*this.pixelRatio,h=i*this.pixelRatio,n=Math.max(s-e*r/2,0),o=Math.max(this.fullHeight-h-e/2,0),a=-Math.min(s-e*r/2,0),_=-Math.min(this.fullHeight-h-e/2,0);return[n,o,e*r-a- -Math.min(this.fullWidth-s-e*r/2,0),e-_- -Math.min(h-e/2,0)]}computeUp(t){1===t?this.computeUpGlobal():this.computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;return i[0]=e,i[1]=r,i}computeUpGlobal(){o(B,this.center,this.eye);const t=l(this.center);t<1?(y(this.up,0,0,1),this.markViewDirty()):Math.abs(v(B,this.center))>.9999*l(B)*t||(f(this.up,B,this.center),f(this.up,this.up,B),g(this.up,this.up),this.markViewDirty())}computeUpLocal(){m(B,this.eye,this.center),Math.abs(B[2])<=.9999&&(d(B,B,B[2]),y(this.up,-B[0],-B[1],1-B[2]),g(this.up,this.up),this.markViewDirty())}_compareAndSetView(t,i){p(t,i)||(_(i,t),this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0)}_recomputeFrustum(){this._frustumDirty&&(H.fromMatrix(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&(P(this._viewMatrix,this._eye,this._center,this._up),y(this._viewForward,-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10]),y(this._viewUp,this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9]),y(this._viewRight,this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8]),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}}const q=T(),N=F(),B=s(),J=s(),K=r();export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as E}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import I from\"../../../core/Accessor.js\";let S=class extends I{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.SCENEVIEW_LOCKING_LOG=!1,this.HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED=!0,this.HIGHLIGHTS_PROFILE_TO_CONSOLE=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_UPDATE_THRESHOLDS=!1,this.DISABLE_DECONFLICTOR_VISIBILITY_OFFSET=!1,this.DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.ENABLE_PROFILE_DEPTH_RANGE=!1,this.DISABLE_FAST_UPDATES=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1}};E([_()],S.prototype,\"SCENEVIEW_HITTEST_RETURN_INTERSECTOR\",void 0),E([_()],S.prototype,\"SCENEVIEW_LOCKING_LOG\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_PROFILE_TO_CONSOLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_VISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_INVISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_GRID\",void 0),E([_()],S.prototype,\"LABELS_SHOW_BORDER\",void 0),E([_()],S.prototype,\"OVERLAY_DRAW_DEBUG_TEXTURE\",void 0),E([_()],S.prototype,\"OVERLAY_SHOW_CENTER\",void 0),E([_()],S.prototype,\"SHOW_POI\",void 0),E([_()],S.prototype,\"TESTS_DISABLE_UPDATE_THRESHOLDS\",void 0),E([_()],S.prototype,\"DISABLE_DECONFLICTOR_VISIBILITY_OFFSET\",void 0),E([_()],S.prototype,\"DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES\",void 0),E([_()],S.prototype,\"DRAW_MESH_GEOMETRY_NORMALS\",void 0),E([_()],S.prototype,\"FEATURE_TILE_FETCH_SHOW_TILES\",void 0),E([_()],S.prototype,\"FEATURE_TILE_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"TERRAIN_TILE_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_SHOW_MODIFICATIONS\",void 0),E([_()],S.prototype,\"ENABLE_PROFILE_DEPTH_RANGE\",void 0),E([_()],S.prototype,\"DISABLE_FAST_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_DISABLE_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL\",void 0),E([_()],S.prototype,\"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES\",void 0),S=E([o(\"esri.views.3d.support.DebugFlags\")],S);const T=new S;export default T;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{disposeMaybe as e}from\"../../../core/maybe.js\";import\"../../../core/mathUtils.js\";import{generateUID as r}from\"../../../core/uid.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/checkWebGLError.js\";import{getGpuMemoryUsage as t}from\"../../webgl/Util.js\";import i from\"../../webgl/FramebufferObject.js\";class s{constructor(e,t){this.id=r(),this._renderTarget=null,this._renderTarget=new i(e,{colorTarget:0,depthStencilTarget:0},{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9987,hasMipmap:t,maxAnisotropy:8,width:0,height:0})}dispose(){this._renderTarget=e(this._renderTarget)}getTexture(){return this._renderTarget?this._renderTarget.colorTexture:null}isValid(){return null!==this._renderTarget}resize(e,r){this._renderTarget.resize(e,r)}bind(e){e.bindFramebuffer(this._renderTarget)}generateMipMap(){this._renderTarget.colorTexture.descriptor.hasMipmap&&this._renderTarget.colorTexture.generateMipmap()}disposeRenderTargetMemory(){this._renderTarget&&this._renderTarget.resize(0,0)}getGpuMemoryUsage(){let e=0;return this._renderTarget&&(e+=t(this._renderTarget)),e}}export{s as OverlayRenderTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{b as n,f as t}from\"../../../../chunks/vec3f64.js\";class r{constructor(n,t){this.vec3=n,this.id=t}}function s(t,s){return new r(n(t),s)}function c(n,s,c,e){return new r(t(n,s,c),e)}export{r as LocalOrigin,c as fromValues,s as fromVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{OverlayRenderTarget as r}from\"./OverlayRenderTarget.js\";import{fromValues as t}from\"../webgl-engine/lib/localOrigin.js\";class s{constructor(s){this.extent=e(),this.resolution=0,this.renderLocalOrigin=t(0,0,0,\"O\"),this.pixelRatio=1,this.renderTargets={color:{fbo:new r(s,!0),valid:!1,lastUsed:1/0},colorWithoutRasterImage:{fbo:new r(s,!0),valid:!1,lastUsed:1/0},highlight:{fbo:new r(s,!1),valid:!1,lastUsed:1/0},water:{fbo:new r(s,!0),valid:!1,lastUsed:1/0},occluded:{fbo:new r(s,!0),valid:!1,lastUsed:1/0}}}dispose(){this.renderTargets.color.fbo.dispose(),this.renderTargets.colorWithoutRasterImage.fbo.dispose(),this.renderTargets.highlight.fbo.dispose(),this.renderTargets.water.fbo.dispose(),this.renderTargets.occluded.fbo.dispose()}drawRenderTargets(e,r,t){const s=this.renderTargets;s.color.valid=e.drawPass(0,s.color.fbo,r),s.highlight.valid=e.drawPass(5,s.highlight.fbo,r),s.water.valid=e.drawPass(3,s.water.fbo,r),s.occluded.valid=e.drawPass(0,s.occluded.fbo,r,1),s.colorWithoutRasterImage.valid=t&&e.drawPass(0,s.colorWithoutRasterImage.fbo,r,2)}computeRenderTargetValidityBitfield(){const e=this.renderTargets;return+e.color.valid|+e.colorWithoutRasterImage.valid<<1|+e.highlight.valid<<2|+e.water.valid<<3|+e.occluded.valid<<4}validateUsage(e,r){if(e.valid)e.lastUsed=r;else if(r-e.lastUsed>a)e.fbo.disposeRenderTargetMemory(),e.lastUsed=1/0;else if(e.lastUsed<1/0)return!0;return!1}collectUnusedMemory(e){let r=!1;return r=this.validateUsage(this.renderTargets.color,e)||r,r=this.validateUsage(this.renderTargets.colorWithoutRasterImage,e)||r,r=this.validateUsage(this.renderTargets.highlight,e)||r,r=this.validateUsage(this.renderTargets.occluded,e)||r,r=this.validateUsage(this.renderTargets.water,e)||r,r}getGpuMemoryUsage(){return this.renderTargets.color.fbo.getGpuMemoryUsage()+this.renderTargets.colorWithoutRasterImage.fbo.getGpuMemoryUsage()+this.renderTargets.highlight.fbo.getGpuMemoryUsage()+this.renderTargets.water.fbo.getGpuMemoryUsage()+this.renderTargets.occluded.fbo.getGpuMemoryUsage()}}const a=1e3;export{s as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{removeUnordered as r}from\"../../../../../core/arrayUtils.js\";class s{constructor(){this._uniforms={proj:[],uShadowMapDistance:[],viewportPixelSz:[],lightingMainDirection:[]}}dispose(){this._uniforms=null}getPrograms(r){return this._uniforms[r]||[]}subscribeProgram(r){for(const s in this._uniforms)r.hasUniform(s)&&this._uniforms[s].push(r)}unsubscribeProgram(s){for(const i in this._uniforms)r(this._uniforms[i],s)}}export{s as CommonUniformStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../core/maybe.js\";class t{constructor(e){this.technique=e,this.refCount=0,this.refZeroFrame=0}}class r{constructor(e){this._context=e,this._perConstructorInstances=new Map,this._frameCounter=0,this._keepAliveFrameCount=1200}get viewingMode(){return this._context.viewingMode}get constructionContext(){return this._context}dispose(){this._perConstructorInstances.forEach((e=>e.forEach((e=>e.technique.dispose())))),this._perConstructorInstances.clear()}acquire(e,r){const s=r.key;let n=this._perConstructorInstances.get(e);n||(n=new Map,this._perConstructorInstances.set(e,n));let o=n.get(s);return void 0===o&&(o=new t(new e(this._context,r)),n.set(s,o)),++o.refCount,o.technique}acquireAndReleaseExisting(t,r,s){return e(s)?this.acquire(t,r):r.key===s.key&&s instanceof t?s:(this.release(s),this.acquire(t,r))}release(t){if(e(t))return;const r=this._perConstructorInstances.get(t.constructor).get(t.key);r.refCount-=1,0===r.refCount&&(r.refZeroFrame=this._frameCounter)}frameUpdate(){this._frameCounter++,this._perConstructorInstances.forEach(((e,t)=>{e.forEach(((t,r)=>{0===t.refCount&&t.refZeroFrame+this._keepAliveFrameCount<this._frameCounter&&(t.technique.dispose(),e.delete(r))})),0===e.size&&this._perConstructorInstances.delete(t)}))}getProgramsUsingUniform(e){return this._context.commonUniformStore.getPrograms(e)}async hotReload(){const e=new Array;this._perConstructorInstances.forEach(((t,r)=>{const s=async(e,t)=>{const r=t.shader;r&&(await r.reload(),e.forEach((e=>{e.technique.reload(this._context)})))};e.push(s(t,r))})),await Promise.all(e)}}export{r as ShaderTechniqueRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=[{output:0,name:\"color\"},{output:1,name:\"depth\"},{output:2,name:\"normal\"},{output:3,name:\"depthShadowMap\"},{output:4,name:\"highlight\"},{output:5,name:\"draped\"},{output:6,name:\"occlusion\"},{output:7,name:\"alpha\"}];function u(u,o){return u+\"_\"+t.find((t=>t.output===o)).name}export{t as ShaderOutputTypes,u as getShaderOutputID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/Logger.js\";import{assert as i}from\"./Util.js\";import{getShaderOutputID as r,ShaderOutputTypes as a}from\"../core/shaderLibrary/ShaderOutputOptions.js\";const s=t.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRep\");class o{constructor(e){this.refCnt=0,this.glMaterial=e}incRefCnt(){++this.refCnt}decRefCnt(){--this.refCnt,i(this.refCnt>=0)}getRefCnt(){return this.refCnt}getGLMaterial(){return this.glMaterial}}class n{constructor(e,t,i){this._textureRep=e,this._techniqueRep=t,this.onMaterialChanged=i,this._id2glMaterialRef=new Map}dispose(){this._textureRep.dispose()}acquire(e,t){this.ownMaterial(e);const i=r(e.id,t);let a=this._id2glMaterialRef.get(i);if(null==a){const r=e.getGLMaterial({material:e,techniqueRep:this._techniqueRep,textureRep:this._textureRep,output:t});return a=new o(r),a.incRefCnt(),this._id2glMaterialRef.set(i,a),r}return a.incRefCnt(),a.getGLMaterial()}release(e,t){const i=r(e.id,t),a=this._id2glMaterialRef.get(i);if(a.decRefCnt(),0===a.getRefCnt()){const e=a.getGLMaterial();e&&e.dispose(),this._id2glMaterialRef.delete(i)}}materialChanged(e){for(const t of a)if(5!==t.output&&6!==t.output){const i=this._id2glMaterialRef.get(r(e.id,t.output));if(i&&i.getGLMaterial()){const e=i.getGLMaterial();e.updateParameters&&e.updateParameters()}}this.onMaterialChanged&&this.onMaterialChanged(e)}ownMaterial(t){e(t.materialRepository)&&t.materialRepository!==this&&s.error(\"Material is already owned by a different material repository\"),t.materialRepository=this}}export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import i from\"../../../../geometry/SpatialReference.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{f as r}from\"../../../../chunks/vec3.js\";import{projectBuffer as o}from\"../../../../geometry/projection.js\";import{I as e}from\"../../../../chunks/mat4f64.js\";import{Geometry as n}from\"./Geometry.js\";import{Object3D as a}from\"./Object3D.js\";import{fromValues as h}from\"./localOrigin.js\";import{WebGLLayer as c}from\"./WebGLLayer.js\";import{RibbonLineMaterial as m}from\"../materials/RibbonLineMaterial.js\";let _=0;const d=\"rg_\";class g{constructor(){this.ROOT_ORIGIN_ID=d+\"root_\"+_++,this._origins=new Map,this._gridSize=42e5}getOrigin(i){const s=this._origins.get(this.ROOT_ORIGIN_ID);if(null==s){if(t(g.testOrigin)){const t=g.testOrigin;return this._origins.set(this.ROOT_ORIGIN_ID,h(t[0],t[1],t[2],this.ROOT_ORIGIN_ID)),this.getOrigin(i)}const s=h(i[0]+Math.random()-.5,i[1]+Math.random()-.5,i[2]+Math.random()-.5,this.ROOT_ORIGIN_ID);return this._origins.set(this.ROOT_ORIGIN_ID,s),s}r(l,i,s.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]);const o=this._gridSize;if(l[0]<o&&l[1]<o&&l[2]<o)return s;const e=Math.round(i[0]/o),n=Math.round(i[1]/o),a=Math.round(i[2]/o),c=`${d}${e}/${n}/${a}`;let m=this._origins.get(c);return m||(m=h(e*o,n*o,a*o,c),this._origins.set(c,m)),m}_drawOriginBox(t){const s=window.view,r=s._stage;if(null==this._object){this._material=new m({width:2,color:[0,1,0,1]}),r.add(this._material);const t=new c({isPickable:!1});this._object=new a({castShadow:!1}),r.add(this._object),t.add(this._object),r.add(t)}const h=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],_=h.length,d=new Array(3*_),g=new Uint16Array(2*(_-1)),l=.5*this._gridSize;for(let i=0;i<_;i++)d[3*i+0]=t[0]+(1&h[i]?l:-l),d[3*i+1]=t[1]+(2&h[i]?l:-l),d[3*i+2]=t[2]+(4&h[i]?l:-l),i>0&&(g[2*i+0]=i-1,g[2*i+1]=i);o(d,i.WebMercator,0,d,s.spatialReference,0,_);const O=new n([[\"position\",{size:3,data:d,exclusive:!0}]],[[\"position\",g]],2);r.add(O),this._object.addGeometry(O,this._material,e),console.log(this._origins.size,t)}}const l=s();!function(t){t.testOrigin=null}(g||(g={}));var O=g;export default O;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport s from\"./Camera.js\";class e{constructor(e,i,h,r,a,l){this.rctx=e,this.offscreenRenderingHelper=i,this.scenelightingData=h,this.shadowMap=r,this.ssaoHelper=a,this.sliceHelper=l,this.camera=null,this.lastFrameCamera=new s,this.pass=0,this.slot=0,this.highlightDepthTexture=null,this.renderOccludedMask=t,this.hasOccludees=!1}resetRenderOccludedMask(){this.renderOccludedMask=t}get isHighlightPass(){return 5===this.pass}}const t=13;export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/PooledArray.js\";class r{constructor(){this.adds=new e,this.removes=new e,this.updates=new e({allocator:e=>e||new s,deallocator:e=>(e.renderGeometry=null,e)})}clear(){this.adds.clear(),this.removes.clear(),this.updates.clear()}prune(){this.adds.prune(),this.removes.prune(),this.updates.prune()}}class s{}class t{constructor(){this.adds=new Array,this.removes=new Array,this.updates=new Array}}export{r as ChangeSet,t as MaterialChangeSet,s as RenderGeometryUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{MaterialChangeSet as e}from\"./ChangeSet.js\";function r(r){const n=new Map,a=r=>{let t=n.get(r);return t||(t=new e,n.set(r,t)),t};return r.adds.forAll((e=>{t(e)&&a(e.material).adds.push(e)})),r.removes.forAll((e=>{t(e)&&a(e.material).removes.push(e)})),r.updates.forAll((e=>{t(e.renderGeometry)&&a(e.renderGeometry.material).updates.push(e)})),n}function t(e){return e.data.indexCount>=1}export{r as splitRenderGeometryChangeSetByMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as r}from\"../../../../core/mathUtils.js\";class t{constructor(t){null==t?t=16:t<65536&&(t=r(t)),this._array=new Float32Array(t),this._size=0}resize(r,t){if(this._size=r,this._size>this._array.length){let r=this._array.length||1;for(;r<this._size;)r*=2;const s=new Float32Array(r);return t&&s.set(this._array),this._array=s,!0}const s=2*this._size;if(s<=this._array.length){let r=this._array.length;for(;r>=s;)r=Math.floor(r/2);const a=new Float32Array(r);return t&&a.set(this._array.subarray(0,r)),this._array=a,!0}return!1}append(r){const t=this._size;this.resize(this._size+r.length,!0),this._array.set(r,t)}erase(r,t){for(let s=r;s<t;++s)this._array[s]=0}get array(){return this._array}get size(){return this._size}}export{t as ResizableFloat32Array};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,defaultDepthWriteParams as p,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";import{View as l}from\"../core/shaderLibrary/util/View.glsl.js\";import{DefaultTextureUnits as h}from\"../lib/DefaultTextureUnits.js\";import{Slice as d}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as c}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{blendingDefault as m,OITBlending as g,OITDepthTest as f,OITDepthWrite as b,getOITPolygonOffset as y}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as T}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ReadShadowMap as v}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ScreenSpaceReflections as w}from\"../core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js\";import{WaterDistortion as S}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{W as j}from\"../../../../chunks/WaterSurface.glsl.js\";class x extends t{constructor(r,e){super(r,e),this.waterTextureRepository=r.waterTextureRepository}initializeProgram(r){const e=x.shader.get(),t=this.configuration,i=e.build({OITEnabled:0===t.transparencyPassType,output:t.output,viewingMode:r.viewingMode,slicePlaneEnabled:t.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,receiveShadows:t.receiveShadows,pbrMode:3,useCustomDTRExponentForWater:!0,ssrEnabled:t.useSSR,highStepCount:!0,multipassTerrainEnabled:t.multipassTerrainEnabled,cullAboveGround:t.cullAboveGround});return new a(r.rctx,i.generateSource(\"vertex\"),i.generateSource(\"fragment\"),s)}ensureResource(r){return this.waterTextureRepository.ready||this.waterTextureRepository.updating||this.waterTextureRepository.loadTextures(r),this.waterTextureRepository.ready?2:1}bindPass(r,e,t){l.bindProjectionMatrix(this.program,t.camera.projectionMatrix),t.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",t.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",t.inverseViewport),T(this.program,r,t)),0===this.configuration.output&&(t.lighting.setUniforms(this.program,!1),w.bindUniforms(this.program,r,t)),0!==this.configuration.output&&2!==this.configuration.output||(S.bindUniforms(this.program,e),this.waterTextureRepository.bindRepo(r)),this.program.setUniform4fv(\"waterColor\",e.color),4===this.configuration.output&&c.bindOutputHighlight(r,this.program,t)}bindDraw(r){l.bindView(this.program,r),0!==this.configuration.output&&7!==this.configuration.output||l.bindCamPosition(this.program,r.origin,r.camera.viewInverseTransposeMatrix),0===this.configuration.output&&v.bindUniforms(this.program,r,h.SHADOW_MAP),0!==this.configuration.output&&7!==this.configuration.output&&4!==this.configuration.output||d.bindUniformsWithOrigin(this.program,this.configuration,r)}setPipelineState(r){const e=this.configuration,t=3===r,i=2===r;return n({blending:2!==e.output&&4!==e.output&&e.transparent?t?m:g(r):null,depthTest:{func:f(r)},depthWrite:t?e.writeDepth&&p:b(r),colorWrite:u,polygonOffset:t||i?null:y(e.enableOffset)})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}x.shader=new e(j,(()=>import(\"../shaders/WaterSurface.glsl.js\")));class P extends i{constructor(){super(...arguments),this.output=0,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.useSSR=!1,this.isDraped=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}r([o({count:8})],P.prototype,\"output\",void 0),r([o()],P.prototype,\"receiveShadows\",void 0),r([o()],P.prototype,\"slicePlaneEnabled\",void 0),r([o()],P.prototype,\"transparent\",void 0),r([o()],P.prototype,\"enableOffset\",void 0),r([o()],P.prototype,\"writeDepth\",void 0),r([o()],P.prototype,\"useSSR\",void 0),r([o()],P.prototype,\"isDraped\",void 0),r([o({count:4})],P.prototype,\"transparencyPassType\",void 0),r([o()],P.prototype,\"multipassTerrainEnabled\",void 0),r([o()],P.prototype,\"cullAboveGround\",void 0);export{x as WaterTechnique,P as WaterTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../lib/GLMaterial.js\";import{WaterTechnique as e}from\"./WaterTechnique.js\";class a extends t{constructor(t){super(t),this.updateParameters()}updateParameters(t){this.technique=this.techniqueRep.acquireAndReleaseExisting(e,this.material.getTechniqueConfig(this.output,t),this.technique)}beginSlot(t){if(2===this.output)return 22===t;if(5===this.output)return null==t;if(4===this.output)return 3===t;let e=3;return this.material.params.transparent&&(e=this.material.params.writeDepth?5:8),t===e}setElapsedTimeUniform(t){const e=.001*this.material.animation.time;t.setUniform1f(\"timeElapsed\",e*this.material.params.animationSpeed)}_updateShadowState(t){t.shadowMappingEnabled!==this.material.params.receiveShadows&&this.material.setParameterValues({receiveShadows:t.shadowMappingEnabled})}_updateSSRState(t){t.ssrEnabled!==this.material.params.ssrEnabled&&this.material.setParameterValues({ssrEnabled:t.ssrEnabled})}ensureResources(t){return this.technique.ensureResource(t)}ensureParameters(t){0===this.output&&(this._updateShadowState(t),this._updateSSRState(t)),this.updateParameters(t)}bind(t,e){t.bindProgram(this.technique.program),this.technique.bindPass(t,this.material.params,e),2!==this.output&&0!==this.output||this.setElapsedTimeUniform(this.technique.program)}}export{a as WaterGLMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{a as t,b as o}from\"../../../../../chunks/mat4.js\";import{b as r}from\"../../../../../chunks/mat4f64.js\";class s{constructor(s,i,n,f,m,a){this.from=s,this.to=i,this.isVisible=n,this.hasHighlights=f,this.hasOccludees=m,this.transformation=a,null!=a&&(this.transformationNormal=r(a),t(this.transformationNormal,this.transformationNormal),o(this.transformationNormal,this.transformationNormal))}}function i(t){return t.sort(((t,o)=>t.from===o.from?t.to>o.to?1:t.to<o.to?-1:0:t.from>o.from?1:t.from<o.from?-1:0))}function n(t,o){return t.first+t.count>=o.from}function f(t,o){const r=t=>({first:t.from,count:t.to-t.from});if(0===t.length)return void t.push(r(o));const s=t[t.length-1];if(n(s,o)){const t=o.from-s.first+o.to-o.from;s.count=t}else t.push(r(o))}export{s as Instance,f as addOrMerge,i as sortInstancesAccordingToRange};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{once as t}from\"../../../../core/accessorSupport/utils.js\";import s from\"../../../../core/PerformanceSampler.js\";import{startMeasurement as r}from\"../../../webgl/Measurement.js\";const i=[\"prepare\",\"shadowmap\",\"lineardepth\",\"normals\",\"ssao\",\"opaque\",\"opaque edges\",\"transparent\",\"transparent edges\",\"hudvisibility\",\"transparent terrain\",\"atmosphere\",\"laserline\",\"occluded\",\"antialiasing\",\"highlights\",\"hudOccluded\",\"hudNotoccluded\"];class a{constructor(){this.triangles=0,this.drawCalls=0}reset(){this.triangles=0,this.drawCalls=0}}function o(t,s,r){e(r)&&(r.drawCalls+=t,r.triangles+=s)}class n extends s{constructor(){super(\"total\"),this.total=0,this.frameCount=0}}class l{constructor(){this._startTime=0,this._lastSample=0,this._enableGPUTimer=0,this.totalTime=new n,this.gpuTime=new s(\"gpu\",9),this.renderPassTimings=i.map((e=>new s(e))),this.stats=new a}enableGPUTimer(){return++this._enableGPUTimer,{remove:t((()=>--this._enableGPUTimer))}}prerender(e){this._startTime=this._lastSample=performance.now(),this._enableGPUTimer&&(this._gpuTimer=r(e))}advance(e){const t=performance.now();this.renderPassTimings[e].record(t-this._lastSample),this._lastSample=t}postrender(){e(this._gpuTimer)&&(this._gpuTimer.stop((t=>e(t)&&this.gpuTime.record(t)),16),this._gpuTimer=null);const t=performance.now()-this._startTime;this.totalTime.record(t),this.totalTime.total+=t,this.totalTime.frameCount++}}export{a as RenderStats,n as RenderTime,l as RendererPerformanceInfo,o as addToRenderStats,i as performanceStatsCategories};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../../core/maybe.js\";import{m as s,a,b as i}from\"../../../../../chunks/mat4.js\";import{someMap as r}from\"../../../../../core/MapUtils.js\";import{a as n}from\"../../../../../chunks/mat4f64.js\";import{glLayout as o}from\"../../../support/buffer/glUtil.js\";import{assert as d,setMatrixTranslation3 as l}from\"../../lib/Util.js\";import h from\"../../../../webgl/BufferObject.js\";import{getStride as m}from\"../../../../webgl/Util.js\";import u from\"../../../../webgl/VertexArrayObject.js\";import{acquireMaterials as c,releaseMaterials as g,calculateTransformRelToOrigin as f}from\"./utils.js\";import{ResizableFloat32Array as p}from\"../../lib/ResizableFloat32Array.js\";import{WaterGLMaterial as w}from\"../WaterGLMaterial.js\";import{Instance as b,sortInstancesAccordingToRange as C,addOrMerge as y}from\"./Instance.js\";import{addToRenderStats as _}from\"../../statistics/RendererPerformanceInfo.js\";class v{constructor(e,t,s){this.type=\"MergedRenderer\",this._dataByOrigin=new Map,this._hasHighlights=!1,this._hasOccludees=!1,this._rctx=e,this._material=s,this._materialRep=t,this._glMaterials=c(this._material,this._materialRep),this._bufferWriter=s.createBufferWriter()}dispose(){g(this._material,this._materialRep),this._dataByOrigin&&(this._dataByOrigin.forEach((e=>{e.vao.dispose(!0),e.vao=null})),this._dataByOrigin.clear(),this._dataByOrigin=null),this._glMaterials&&(this._glMaterials.forEach((e=>{e&&e.dispose()})),this._glMaterials.clear(),this._glMaterials=null)}get isEmpty(){return 0===this._dataByOrigin.size}get hasHighlights(){return this._hasHighlights}get hasOccludees(){return this._hasOccludees}get hasWater(){return!this.isEmpty&&r(this._glMaterials,(e=>e instanceof w))}get rendersOccluded(){return!this.isEmpty&&1!==this._material.renderOccluded}modify(e){this.updateGeometries(e.updates),this.addAndRemoveGeometries(e.adds,e.removes),this.updateRenderCommands()}addAndRemoveGeometries(e,t){const s=this._bufferWriter,a=s.vertexBufferLayout,i=a.stride/4,r=this._dataByOrigin,n=H(r,s,e,t);n.forEach(((e,t)=>{n.delete(t);const s=e.optimalCount,o=e.sparseCount;let h=r.get(t);if(null==h)d(s>0),h=this.createData(a,s,e.origin),r.set(t,h);else if(0===s)return h.vao.dispose(!0),h.vao=null,void r.delete(t);const m=s<e.sparseCount/2,u=m?s:o,c=R,g=h.buffer.size,f=h.buffer.array,p=h.buffer.resize(u,!1);m||p?this.removeAndRebuild(h,e.toRemove,i,f,c):e.toRemove.length>0?(this.removeByErasing(h,e.toRemove,i,c),e.toAdd.length>0&&(c.end=g)):(c.begin=g,c.end=g);const w=B;l(w,-e.origin[0],-e.origin[1],-e.origin[2]),this.append(h,e.toAdd,i,w,c);const b=h.vao.vertexBuffers.geometry;if(b.byteSize!==h.buffer.array.buffer.byteLength)b.setData(h.buffer.array);else{const{begin:e,end:t}=c;if(e<t){const s=h.buffer.array,a=4,i=e*a,r=t*a;b.setSubData(s,i,i,r)}}h.drawCommandsDirty=!0}))}updateGeometries(e){const t=this._bufferWriter,s=t.vertexBufferLayout.stride/4;for(const a of e){const e=a.updateType,i=a.renderGeometry,r=this._dataByOrigin.get(i.origin.id),n=r&&r.instances.get(i.id);if(!n)return;if(1&e&&(n.isVisible=i.instanceParameters.visible),9&e){const e=i.instanceParameters.visible;n.hasHighlights=!!i.instanceParameters.highlights&&e}if(16&e&&(n.hasOccludees=!!i.instanceParameters.occludees),6&e){const e=r.buffer.array,a=r.vao;f(i,D,j),t.write({transformation:D,invTranspTransformation:j},i.data,t.vertexBufferLayout.createView(e.buffer),n.from),d(n.from+t.elementCount(i.data)===n.to,\"material VBO layout has changed\"),a.vertexBuffers.geometry.setSubData(e,n.from*s*4,n.from*s*4,n.to*s*4)}r.drawCommandsDirty=!0}}updateRenderCommands(){this._hasHighlights=!1,this._hasOccludees=!1,this._dataByOrigin.forEach((e=>{e.hasHiddenInstances=!1,e.hasHighlights=!1,e.hasOccludees=!1,r(e.instances,(t=>(t.isVisible?(t.hasHighlights&&(this._hasHighlights=!0,e.hasHighlights=!0),t.hasOccludees&&(this._hasOccludees=!0,e.hasOccludees=!0)):e.hasHiddenInstances=!0,e.hasHiddenInstances&&e.hasHighlights&&e.hasOccludees)))}));const e=e=>{if(e.drawCommandsDefault=null,e.drawCommandsHighlight=null,e.drawCommandsOccludees=null,e.drawCommandsShadowHighlightRest=null,e.stats={default:0,highlight:0,occludees:0,shadowHighlightRest:0},0===e.instances.size)return;if(!O(e)){const t=4*e.buffer.size/m(e.vao.layout.geometry);return e.drawCommandsDefault=[{first:0,count:t}],void(e.stats={default:t,highlight:0,occludees:0,shadowHighlightRest:0})}const t=C([...e.instances.values()]);e.drawCommandsDefault=[],e.drawCommandsHighlight=[],e.drawCommandsOccludees=[],e.drawCommandsShadowHighlightRest=[];for(const a of t)a.isVisible&&(a.hasOccludees?y(e.drawCommandsOccludees,a):y(e.drawCommandsDefault,a),a.hasHighlights?y(e.drawCommandsHighlight,a):y(e.drawCommandsShadowHighlightRest,a));const s=e=>{let t=0;for(const s of e)t+=s.count;return t/3};e.stats={default:s(e.drawCommandsDefault),highlight:s(e.drawCommandsHighlight),occludees:s(e.drawCommandsOccludees),shadowHighlightRest:s(e.drawCommandsShadowHighlightRest)}};this._dataByOrigin.forEach((t=>{t.drawCommandsDirty&&(e(t),t.drawCommandsDirty=!1)}))}updateLogic(e){return this._material.update(e)}render(s,a,i,r){const n=this._rctx,o=this._glMaterials.get(a.pass),d=5===a.pass||7===a.pass,l=6===a.pass,h=!(d||l);let m=s;if(3===a.pass&&null===m&&(m=22),!o||2!==o.ensureResources(n)||null!=m&&!o.beginSlot(m)||d&&!this._hasHighlights)return!1;o.ensureParameters(i);const u=o.getTechnique(),c=o.getPipelineState(m,!1);n.setPipelineState(c),o.bind(n,i);let g=!1;return this._dataByOrigin.forEach((s=>{if(e(s.drawCommandsDefault)&&e(s.drawCommandsHighlight)&&e(s.drawCommandsOccludees)&&e(s.drawCommandsShadowHighlightRest))return;if(d&&!s.hasHighlights)return;i.origin=s.origin,u.bindDraw(i),u.ensureAttributeLocations(s.vao),n.bindVAO(s.vao);const a=u.primitiveType;let f=d?s.drawCommandsHighlight:l&&O(s)?s.drawCommandsShadowHighlightRest:s.drawCommandsDefault;const p=d?s.stats.highlight:l&&O(s)?s.stats.shadowHighlightRest:s.stats.default;if(t(f)&&(this.renderCommands(n,a,f),_(f.length,p,r),g=!0),h&&(f=s.drawCommandsOccludees,t(f))){const e=o.getPipelineState(m,!0);n.setPipelineState(e),this.renderCommands(n,a,f),n.setPipelineState(c),_(f.length,s.stats.occludees,r),g=!0}})),g}renderCommands(e,t,s){for(let a=0;a<s.length;a++)e.drawArrays(t,s[a].first,s[a].count)}createData(e,t,s){return{instances:new Map,vao:new u(this._rctx,this._material.vertexAttributeLocations,{geometry:o(e)},{geometry:h.createVertex(this._rctx,35044)}),buffer:new p(t),optimalCount:0,origin:s,hasHiddenInstances:!1,hasHighlights:!1,hasOccludees:!1,drawCommandsDirty:!1,drawCommandsDefault:null,drawCommandsOccludees:null,drawCommandsHighlight:null,drawCommandsShadowHighlightRest:null,stats:{default:0,highlight:0,occludees:0,shadowHighlightRest:0}}}removeAndRebuild(e,t,s,a,i){for(const h of t){const t=h.id,a=e.instances.get(t);e.optimalCount-=(a.to-a.from)*s,e.instances.delete(t)}let r=0;const n=e.buffer.array;i.begin=0,i.end=0;let o=-1,d=-1,l=0;e.instances.forEach((e=>{const t=e.from*s,i=e.to*s,h=i-t;o!==d&&d!==t?(n.set(a.subarray(o,d),l),l+=d-o,o=t):-1===o&&(o=t),d=i,e.from=r/s,r+=h,e.to=r/s})),o!==d&&n.set(a.subarray(o,d),l),i.end=r}removeByErasing(e,t,s,a){a.begin=1/0,a.end=-1/0;let i=-1,r=-1;for(const n of t){const t=n.id,o=e.instances.get(t),d=o.from*s,l=o.to*s;i!==r&&r!==d?(e.buffer.erase(i,r),i=d):-1===i&&(i=d),r=l,e.instances.delete(t),e.optimalCount-=l-d,d<a.begin&&(a.begin=d),l>a.end&&(a.end=l)}i!==r&&e.buffer.erase(i,r)}append(e,r,n,o,l){const h=this._bufferWriter;for(const m of r){const r=t(m.transformation)?s(D,o,m.transformation):o;a(j,r),i(j,j);const u=l.end;h.write({transformation:r,invTranspTransformation:j},m.data,h.vertexBufferLayout.createView(e.buffer.array.buffer),l.end/n);const c=h.elementCount(m.data)*n,g=u+c;d(null==e.instances.get(m.id));const f=m.instanceParameters.visible,p=!!m.instanceParameters.highlights&&f,w=!!m.instanceParameters.occludees,C=new b(u/n,g/n,f,p,w);e.instances.set(m.id,C),e.optimalCount+=c,l.end+=c}}get test(){return{material:this._material,glMaterials:this._glMaterials}}}function H(e,t,s,a){const i=new Map,r=t.vertexBufferLayout.stride/4,n=(s,a)=>{const n=s.origin,o=e.get(n.id);let d=i.get(n.id);null==d&&(d={optimalCount:null==o?0:o.optimalCount,sparseCount:null==o?0:o.buffer.size,toAdd:[],toRemove:[],origin:n.vec3},i.set(n.id,d));const l=t.elementCount(s.data)*r;a?(d.optimalCount+=l,d.sparseCount+=l,d.toAdd.push(s)):(d.optimalCount-=l,d.toRemove.push(s))};for(const o of s)n(o,!0);for(const o of a)n(o,!1);return i}function O(e){return e.hasOccludees||e.hasHighlights||e.hasHiddenInstances}const R={begin:0,end:0},B=n(),D=n(),j=n();export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{applySome as r}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/PooledArray.js\";import a from\"../../../../core/Accessor.js\";import{someMap as o}from\"../../../../core/MapUtils.js\";import{materialPredicate as n}from\"./Material.js\";import{ChangeSet as d}from\"./ChangeSet.js\";import{splitRenderGeometryChangeSetByMaterial as h}from\"./rendererUtils.js\";import l from\"../materials/renderers/MergedRenderer.js\";let p=class extends a{constructor(){super(...arguments),this._pendingAddsRemoves=new Map,this._changes=new d,this._materialRenderers=new Map,this._sortedMaterialRenderers=new i,this._hasHighlights=!1,this._hasWater=!1}dispose(){this._changes.prune(),this._materialRenderers&&(this._materialRenderers.forEach((e=>e.dispose())),this._materialRenderers.clear(),this._sortedMaterialRenderers.clear())}get updating(){return this._pendingAddsRemoves.size>0||this._changes.updates.length>0}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return o(this._materialRenderers,(e=>e.rendersOccluded))}stopAnimationsAtTime(e){this._sortedMaterialRenderers.forAll((t=>r(t.material.animation,(r=>r.stopAtTime(e)))))}get isEmpty(){return!this.updating&&0===this._materialRenderers.size}commitChanges(){let e=!1;if(!this.updating)return!1;this.updateAddsRemoves();const r=h(this._changes);let t=!1,s=!1;return r.forEach(((r,i)=>{let a=this._materialRenderers.get(i);if(!a&&r.adds.length>0&&(a=new l(this.rctx,this.materialRepository,i),this._materialRenderers.set(i,a),e=!0,t=!0,s=!0),!a)return;const o=t||a.hasHighlights,n=s||a.hasWater;a.modify(r),t=t||o!==a.hasHighlights,s=s||n!==a.hasWater,a.isEmpty&&(this._materialRenderers.delete(i),a.dispose(),e=!0)})),this._changes.clear(),this._pendingAddsRemoves.clear(),e&&this.updateSortedMaterialRenderers(),t&&(this._hasHighlights=o(this._materialRenderers,(e=>e.hasHighlights))),s&&(this._hasWater=o(this._materialRenderers,(e=>e.hasWater))),this.notifyChange(\"updating\"),!0}add(e){if(0===e.length)return;const r=0===this._pendingAddsRemoves.size;for(const t of e)this._pendingAddsRemoves.set(t,0);r&&this.notifyChange(\"updating\")}remove(e){const r=0===this._pendingAddsRemoves.size;for(const t of e){const e=this._pendingAddsRemoves.get(t);0===e?this._pendingAddsRemoves.set(t,2):2!==e&&this._pendingAddsRemoves.set(t,1)}r&&this._pendingAddsRemoves.size>0&&this.notifyChange(\"updating\")}modify(e,r){const t=0===this._changes.updates.length;for(const s of e){const e=this._changes.updates.pushNew();e.renderGeometry=s,e.updateType=r}t&&this._changes.updates.length>0&&this.notifyChange(\"updating\")}updateLogic(e){let r=!1;return this._sortedMaterialRenderers.forAll((({materialRenderer:t})=>{t.updateLogic&&t.updateLogic(e)&&(r=!0)})),r}draw(e,r){for(let t=0;t<this._sortedMaterialRenderers.length;t++){const s=this._sortedMaterialRenderers.data[t];n(s.material,e)&&s.materialRenderer.render(null,e,r,null)}}updateSortedMaterialRenderers(){this._sortedMaterialRenderers.clear();let e=0;this._materialRenderers.forEach(((r,t)=>{t.insertOrder=e++,this._sortedMaterialRenderers.push({material:t,materialRenderer:r})})),this._sortedMaterialRenderers.sort(((e,r)=>{const t=r.material.renderPriority-e.material.renderPriority;return 0!==t?t:e.material.insertOrder-r.material.insertOrder}))}updateAddsRemoves(){this._changes.adds.clear(),this._changes.removes.clear(),this._pendingAddsRemoves.forEach(((e,r)=>{switch(e){case 0:this._changes.adds.push(r);break;case 1:this._changes.removes.push(r)}}));let e=0;for(;e<this._changes.updates.length;){const r=this._changes.updates.data[e].renderGeometry;this._pendingAddsRemoves.has(r)?this._changes.updates.removeUnorderedIndex(e):e++}}get test(){return{sortedMaterialRenderers:this._sortedMaterialRenderers}}};e([t()],p.prototype,\"rctx\",void 0),e([t()],p.prototype,\"materialRepository\",void 0),e([t()],p.prototype,\"updating\",null),p=e([s(\"esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer\")],p);export{p as SortedRenderGeometryRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"./DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,separateBlendingParams as l,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";import{T as c}from\"../../../../chunks/TextureOnly.glsl.js\";class u extends t{initializeProgram(e){const r=u.shader.get().build();return new a(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),s)}initializePipeline(){return this.configuration.hasAlpha?n({blending:l(770,1,771,771),colorWrite:h}):n({colorWrite:h})}}u.shader=new r(c,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\")));class m extends o{constructor(){super(...arguments),this.hasAlpha=!1}}e([i()],m.prototype,\"hasAlpha\",void 0);export{u as TextureTechnique,m as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,n){let e=0;for(let l=0;l<t.length;l++)e+=t[l]*n[l];return e}function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}export{l as add,t as dotProduct,n as elementwiseProduct,e as scalarProduct};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clamp as n}from\"../../../../core/mathUtils.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{p as i,s,g as o}from\"../../../../chunks/vec3.js\";import{MainLight as r,FillLight as e,AmbientLight as c,SphericalHarmonicsLight as a}from\"./Lightsources.js\";import{elementwiseProduct as h,scalarProduct as f,add as m}from\"../lib/LongVectorMath.js\";function u(n){return(n+1)*(n+1)}function l(n){return 2*n+1}function g(t){return n(Math.floor(Math.sqrt(t)-1),0,2)}function p(n,t,i){const s=n[0],o=n[1],r=n[2],e=i||[];return e.length=u(t),t>=0&&(e[0]=.28209479177),t>=1&&(e[1]=.4886025119*s,e[2]=.4886025119*r,e[3]=.4886025119*o),t>=2&&(e[4]=1.09254843059*s*o,e[5]=1.09254843059*o*r,e[6]=.31539156525*(3*r*r-1),e[7]=1.09254843059*s*r,e[8]=.54627421529*(s*s-o*o)),e}function y(n,t){const i=u(n),s=t||{r:[],g:[],b:[]};s.r.length=s.g.length=s.b.length=i;for(let o=0;o<i;o++)s.r[o]=s.g[o]=s.b[o]=0;return s}function b(n,t){const s=g(t.r.length);for(const o of n)i(v,o.direction),p(v,s,P),h(P,w),f(P,o.intensity[0],k),m(t.r,k),f(P,o.intensity[1],k),m(t.g,k),f(P,o.intensity[2],k),m(t.b,k);return t}function H(n,t){p(v,0,P);for(const i of n)t.r[0]+=P[0]*w[0]*i.intensity[0]*4*Math.PI,t.g[0]+=P[0]*w[0]*i.intensity[1]*4*Math.PI,t.b[0]+=P[0]*w[0]*i.intensity[2]*4*Math.PI;return t}function M(n,t,i){y(t,i.sphericalHarmonics.sh),s(i.main.intensity,0,0,0);let h=!1;const f=d,u=j,l=I;f.length=0,u.length=0,l.length=0;for(const s of n)s instanceof r&&!h?(o(i.main.direction,s.direction),i.main.intensity[0]=s.intensity[0],i.main.intensity[1]=s.intensity[1],i.main.intensity[2]=s.intensity[2],i.main.castShadows=s.castShadows,h=!0):s instanceof r||s instanceof e?f.push(s):s instanceof c?u.push(s):s instanceof a&&l.push(s);b(f,i.sphericalHarmonics.sh),H(u,i.sphericalHarmonics.sh);for(const s of l)m(i.sphericalHarmonics.sh.r,s.sh.r),m(i.sphericalHarmonics.sh.g,s.sh.g),m(i.sphericalHarmonics.sh.b,s.sh.b)}const d=[],j=[],I=[],P=[0],k=[0],v=t(),w=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,p as computeCoefficients,y as initSHCoefficients,u as numberOfCoefficients,l as numberOfCoefficientsInBand,g as orderFromNumberOfCoefficients,H as projectAmbientLights,b as projectFillLights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as i,f as t}from\"../../../../chunks/vec3f64.js\";import{p as n,g as r,a as s,b as o}from\"../../../../chunks/vec3.js\";import{combineLights as e}from\"./SphericalHarmonics.js\";const h=i(),g=.4;class l{constructor(){this._renderLighting={main:{intensity:i(),direction:t(1,0,0),castShadows:!1},sphericalHarmonics:{sh:{r:[0],g:[0],b:[0]}}},this._shOrder=2,this._oldSunlight={direction:i(),ambient:{color:i(),intensity:0},diffuse:{color:i(),intensity:0}}}setLightDirectionUniform(i){i.setUniform3fv(\"lightingMainDirection\",this._renderLighting.main.direction)}setUniforms(i,t=!1){if(t){const t=(1-this._info.groundLightingFactor)*(1-this._info.globalFactor);i.setUniform1f(\"lightingFixedFactor\",t)}else i.setUniform1f(\"lightingFixedFactor\",0);i.setUniform1f(\"lightingGlobalFactor\",this._info.globalFactor),this.setLightDirectionUniform(i),i.setUniform3fv(\"lightingMainIntensity\",this._renderLighting.main.intensity),i.setUniform1f(\"ambientBoostFactor\",g);const n=this._renderLighting.sphericalHarmonics.sh;0===this._shOrder?i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]):1===this._shOrder?(i.setUniform4f(\"lightingAmbientSH_R\",n.r[0],n.r[1],n.r[2],n.r[3]),i.setUniform4f(\"lightingAmbientSH_G\",n.g[0],n.g[1],n.g[2],n.g[3]),i.setUniform4f(\"lightingAmbientSH_B\",n.b[0],n.b[1],n.b[2],n.b[3])):2===this._shOrder&&(i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]),i.setUniform4f(\"lightingAmbientSH_R1\",n.r[1],n.r[2],n.r[3],n.r[4]),i.setUniform4f(\"lightingAmbientSH_G1\",n.g[1],n.g[2],n.g[3],n.g[4]),i.setUniform4f(\"lightingAmbientSH_B1\",n.b[1],n.b[2],n.b[3],n.b[4]),i.setUniform4f(\"lightingAmbientSH_R2\",n.r[5],n.r[6],n.r[7],n.r[8]),i.setUniform4f(\"lightingAmbientSH_G2\",n.g[5],n.g[6],n.g[7],n.g[8]),i.setUniform4f(\"lightingAmbientSH_B2\",n.b[5],n.b[6],n.b[7],n.b[8]))}set(i){this._info=i,e(i.lights,this._shOrder,this._renderLighting),n(this._oldSunlight.direction,this._renderLighting.main.direction);const t=1/Math.PI;this._oldSunlight.ambient.color[0]=.282095*this._renderLighting.sphericalHarmonics.sh.r[0]*t,this._oldSunlight.ambient.color[1]=.282095*this._renderLighting.sphericalHarmonics.sh.g[0]*t,this._oldSunlight.ambient.color[2]=.282095*this._renderLighting.sphericalHarmonics.sh.b[0]*t,this._oldSunlight.ambient.intensity=1,this._oldSunlight.diffuse.color[0]=this._renderLighting.main.intensity[0]*t,this._oldSunlight.diffuse.color[1]=this._renderLighting.main.intensity[1]*t,this._oldSunlight.diffuse.color[2]=this._renderLighting.main.intensity[2]*t,this._oldSunlight.diffuse.intensity=1;const l=r(h,this._oldSunlight.diffuse.color);s(l,l,g*this._info.globalFactor),o(this._oldSunlight.ambient.color,this._oldSunlight.ambient.color,l)}get globalFactor(){return this._info.globalFactor}get old(){return this._oldSunlight}}export{l as SceneLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{disposeMaybe as r,isSome as t,isNone as i,unwrap as s}from\"../../../core/maybe.js\";import n from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import h from\"../../../core/PooledArray.js\";import l from\"../../../core/Accessor.js\";import{generateUID as d}from\"../../../core/uid.js\";import{f as u,c as p}from\"../../../chunks/vec3f64.js\";import c from\"../../../core/Handles.js\";import{init as g}from\"../../../core/watchUtils.js\";import{o as m,i as y,t as _}from\"../../../chunks/mat4.js\";import{Task as f}from\"../../support/Scheduler.js\";import{someMap as R}from\"../../../core/MapUtils.js\";import{a as w}from\"../../../chunks/vec2f64.js\";import b from\"../../webgl/Texture.js\";import{vertexCount as x}from\"../../webgl/Util.js\";import{createEmptyDepthTexture as T,createQuadVAO as v}from\"../webgl-engine/lib/glUtil3D.js\";import{AmbientLight as C}from\"../webgl-engine/lighting/Lightsources.js\";import{IntersectorResult as O}from\"../webgl-engine/lib/intersectorUtils.js\";import j from\"../webgl-engine/lib/Camera.js\";import L from\"../support/debugFlags.js\";import{AutoDisposableMixin as V,autoDispose as G}from\"../webgl-engine/lib/AutoDisposable.js\";import{OverlayRenderTarget as S}from\"./OverlayRenderTarget.js\";import{Overlay as U}from\"./Overlay.js\";import{CommonUniformStore as E}from\"../webgl-engine/core/shaderTechnique/CommonUniformStore.js\";import{ShaderTechniqueRepository as A}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js\";import P from\"../webgl-engine/lib/GLMaterialRep.js\";import M from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import D from\"../webgl-engine/lib/RenderContext.js\";import{SortedRenderGeometryRenderer as H}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{TextureTechniqueConfiguration as W,TextureTechnique as q}from\"../webgl-engine/lib/TextureTechnique.js\";import{SceneLighting as F}from\"../webgl-engine/lighting/SceneLighting.js\";import{StippleTextureRepository as k}from\"../webgl-engine/materials/lineStippleUtils.js\";const z=n.getLogger(\"esri.views.3d.webgl-engine.lib.OverlayRenderer\");let B=class extends(V(l)){constructor(e){super(e),this._overlays=null,this._hasHighlights=!1,this._rendersOccluded=!1,this._hasWater=!1,this._lighting=new F,this._localOrigins=new M,this._handles=new c,this._layerRenderers=new Map,this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers=new h,this._geometries=new Map,this.globalUnitScale=1,this.longitudeCyclical=null}initialize(){this._rctx=this.renderView.renderingContext,this._renderContext=new D(this._rctx,null,null,null,null,null),this._stippleTextureRepository=new k,this.waterTextureRepository=this.renderView.waterTextureRepository,this._shaderTechniqueRepository=new A({rctx:this._rctx,viewingMode:2,commonUniformStore:new E,stippleTextureRepository:this._stippleTextureRepository,waterTextureRepository:this.waterTextureRepository}),g(this.waterTextureRepository,\"loadingState\",(()=>this.emitContentChanged())),this._materialRepository=new P(this.renderView.textureRepository,this._shaderTechniqueRepository),this._materialRepository.onMaterialChanged=e=>{(e.renderOccluded&K)>0!==this._rendersOccluded&&this.updateRendersOccluded(),this.emitContentChanged(),this.notifyChange(\"updating\")},this._compositingHelper=this.renderView.compositingHelper,this._lighting.set({lights:[new C(u(1,1,1))],groundLightingFactor:1,globalFactor:0}),this._bindParameters={slot:null,highlightDepthTexture:T(this._rctx),camera:X,inverseViewport:w(),origin:null,screenToWorldRatio:null,screenToWorldRatioGlobalWM:null,shadowMappingEnabled:!1,slicePlane:null,ssaoEnabled:!1,hasOccludees:!1,linearDepthTexture:null,linearDepthTextureUnit:0,lastFrameColorTexture:null,lastFrameColorTextureUnit:0,reprojectionMat:null,ssrEnabled:!1,lighting:this._lighting,transparencyPassType:3,terrainLinearDepthTexture:null,geometryLinearDepthTexture:null,multipassTerrainEnabled:!1,cullAboveGround:!0,multipassGeometryEnabled:!1},this._handles.add(this.scheduler.registerTask(f.STAGE,(()=>this.commitChanges()),(()=>this.updating)))}dispose(){this._handles.destroy(),this._layerRenderers.forEach((e=>e.dispose())),this._layerRenderers.clear(),this._bindParameters.highlightDepthTexture=r(this._bindParameters.highlightDepthTexture),this._shaderTechniqueRepository=r(this._shaderTechniqueRepository),this._temporaryRenderTarget=r(this._temporaryRenderTarget),this._debugPatternTexture=r(this._debugPatternTexture),this._quadVAO=r(this._quadVAO)}get updating(){return this._sortedLayerRenderersDirty||R(this._layerRenderers,(e=>e.updating))||this.waterTextureRepository.updating}get hasOverlays(){return t(this._overlays)}get gpuMemoryUsage(){return t(this._overlays)?this._overlays[0].getGpuMemoryUsage()+this._overlays[1].getGpuMemoryUsage():0}get overlays(){return this._overlays}forEachOverlay(e){t(this._overlays)&&(e(this._overlays[0],0),e(this._overlays[1],1))}ensureOverlays(){if(i(this._overlays)){const e=this.renderView.renderingContext;this._overlays=[new U(e),new U(e)]}}disposeOverlays(){t(this._overlays)&&(this._overlays.forEach((e=>e.dispose())),this._overlays=null)}commitChanges(){let e=!1;this._layerRenderers.forEach(((r,t)=>{r.commitChanges()&&(e=!0),r.isEmpty&&(this._layerRenderers.delete(t),this._sortedLayerRenderersDirty=!0,this._handles.remove(t))})),this._sortedLayerRenderersDirty&&(this.updateSortedLayerRenderers(),e=!0),e&&(this.notifyChange(\"updating\"),this.emitContentChanged(),this.updateHasHighlights(),this.updateRendersOccluded(),this.updateHasWater())}addGeometries(e,r,t){for(const s of e)null==s.origin&&(s.origin=this._localOrigins.getOrigin(s.boundingSphere)),i(s.id)&&(s.id=d()),this._geometries.set(s.id,s);this.ensureLayerRenderer(r).add(e),2===t&&this.notifyGraphicGeometryChanged(e,r)}removeGeometries(e,r,t){for(const n of e)this._geometries.delete(s(n.id));const i=this._layerRenderers.get(r);i&&(i.remove(e),2===t&&this.notifyGraphicGeometryChanged(e,r))}updateGeometries(e,r,t){const i=this._layerRenderers.get(r);if(i)switch(i.modify(e,t),t){case 4:case 2:return this.notifyGraphicGeometryChanged(e,r);case 1:return this.notifyGraphicVisibilityChanged(e,r)}else z.warn(\"Attempted to update geometry for nonexistent layer\")}notifyGraphicGeometryChanged(e,r){if(i(r.notifyGraphicGeometryChanged))return;let t;for(const i of e){const e=i.graphicUid;e!==t&&(r.notifyGraphicGeometryChanged(e),t=e)}}notifyGraphicVisibilityChanged(e,r){if(i(r.notifyGraphicVisibilityChanged))return;let t;for(const i of e){const e=i.graphicUid;e!==t&&(r.notifyGraphicVisibilityChanged(e),t=e)}}updateHighlights(e,r){const t=this._layerRenderers.get(r);t?t.modify(e,8):z.warn(\"Attempted to update highlights for nonexistent layer\")}isEmpty(){return 0===this._geometries.size&&!L.OVERLAY_DRAW_DEBUG_TEXTURE}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return this._rendersOccluded}updateLogic(e){let r=!1;return this._layerRenderers.forEach((t=>{t.updateLogic(e)&&(r=!0)})),r}updateLayerOrder(){this._sortedLayerRenderersDirty=!0}drawPass(e,r,i,n=0){if(0===i.numViews)return!1;if(this._screenToWorldRatio=i.pixelRatio*Math.abs(i.views[0].extent[2]-i.views[0].extent[0])/Math.abs(i.views[0].viewport[2]-i.views[0].viewport[0]),this.isEmpty()||5===e&&!this.hasHighlights||3===e&&!this.hasWater)return!1;if(!this.hasNonZeroSizedView(i))return!1;const o=i.width,a=i.height;if(!r.isValid())return!1;r.resize(o,a);const h=this._rctx;if(X.pixelRatio=i.pixelRatio||1,this._renderContext.pass=e,this._bindParameters.screenToWorldRatio=this._screenToWorldRatio,this._bindParameters.screenToWorldRatioGlobalWM=this._screenToWorldRatio*this.globalUnitScale,r.bind(h),h.setClearColor(0,0,0,0),h.clearSafe(16384),1===n&&(this._renderContext.renderOccludedMask=K),L.OVERLAY_DRAW_DEBUG_TEXTURE&&1!==n)for(let t=0;t<i.numViews;t++)this.setViewParameters(i.views[t],X),this.drawDebugTexture(o,a,N[i.index%N.length]);return this._layerRenderers.size>0&&this._sortedLayerRenderers.forAll((({layerView:l,renderer:d})=>{if(2===n&&t(l)&&0===l.drapeSourceType)return;const u=t(l)&&t(l.fullOpacity)&&l.fullOpacity<1&&0===e;u&&(this.bindTemporaryFramebuffer(this._rctx,o,a),h.clearSafe(16384));for(let e=0;e<i.numViews;e++)this.setViewParameters(i.views[e],X),d.draw(this._renderContext,this._bindParameters);u&&t(this._temporaryRenderTarget)&&(r.bind(h),this._compositingHelper.composite(this._temporaryRenderTarget.getTexture(),2,s(s(l).fullOpacity)))})),h.bindFramebuffer(null),r.generateMipMap(),this._renderContext.resetRenderOccludedMask(),!0}bindTemporaryFramebuffer(e,r,t){i(this._temporaryRenderTarget)&&(this._temporaryRenderTarget=new S(e,!1)),this._temporaryRenderTarget.resize(r,t),this._temporaryRenderTarget.bind(e)}async reloadShaders(){await this._shaderTechniqueRepository.hotReload()}intersect(e,r,t){let i=0;this._geometries.forEach((s=>{if(t&&!t(s))return;this.intersectRenderGeometry(s,r,0,e,i);const n=this.longitudeCyclical;n&&(s.boundingSphere[0]-s.boundingSphere[3]<n.min&&this.intersectRenderGeometry(s,r,n.range,e,i),s.boundingSphere[0]+s.boundingSphere[3]>n.max&&this.intersectRenderGeometry(s,r,-n.range,e,i)),i++}))}intersectRenderGeometry(e,r,i,s,n){if(!e.instanceParameters.visible)return;let o=0;t(e.transformation)&&(i+=e.transformation[12],o=e.transformation[13]),Y[0]=r[0]-i,Y[1]=r[1]-o,Y[2]=1,Z[0]=r[0]-i,Z[1]=r[1]-o,Z[2]=0,e.screenToWorldRatio=this._screenToWorldRatio,e.material.intersect(e,null,e.getShaderTransformation(),s,Y,Z,((r,t,i)=>{this.addIntersectionResult(i,e.material.renderPriority,n,s,e.layerUid,e.graphicUid)}),e.calculateShaderTransformation,!0)}addIntersectionResult(e,r,t,i,s,n){const o={type:\"external\",metadata:{layerUid:s,graphicUid:n}},a=s=>{s.set(o,null,i.results.ground.dist,i.results.ground.normal,i.results.ground.transformation,r,null,null,e,t),s.intersector=\"OverlayRenderer\"};if((null==i.results.min.drapedLayerOrder||r>=i.results.min.drapedLayerOrder)&&(null==i.results.min.dist||i.results.ground.dist<=i.results.min.dist)&&a(i.results.min),0!==i.options.store&&(null==i.results.max.drapedLayerOrder||r<i.results.max.drapedLayerOrder)&&(null==i.results.max.dist||i.results.ground.dist>i.results.max.dist)&&a(i.results.max),2===i.options.store){const e=new O(i.ray);a(e),i.results.all.push(e)}}stopAnimationsAtTime(e){this._sortedLayerRenderers.forAll((r=>r.renderer.stopAnimationsAtTime(e)))}ensureLayerRenderer(e){let r=this._layerRenderers.get(e);return r||(r=new H({rctx:this._rctx,materialRepository:this._materialRepository}),this._layerRenderers.set(e,r),this._sortedLayerRenderersDirty=!0,\"fullOpacity\"in e&&this._handles.add(e.watch(\"fullOpacity\",(()=>this.emitContentChanged())),e),this._handles.add(g(r,\"updating\",(()=>this.notifyChange(\"updating\"))),e)),r}updateSortedLayerRenderers(){if(!this._sortedLayerRenderersDirty)return;if(this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers.clear(),0===this._layerRenderers.size)return;const[{view:{allLayerViews:e}}]=this._layerRenderers.keys(),r=new Set(this._layerRenderers.values());e.forEach((e=>{const t=e,i=this._layerRenderers.get(t);i&&(this._sortedLayerRenderers.push(new I(t,i)),r.delete(i))})),r.forEach((e=>{this._sortedLayerRenderers.push(new I(null,e))}))}setViewParameters(e,r){r.viewport=e.viewport;const t=e.extent;m(r.projectionMatrix,0,t[2]-t[0],0,t[3]-t[1],r.near,r.far),y(r.viewMatrix),_(r.viewMatrix,r.viewMatrix,[-e.extent[0],-e.extent[1],0]),r.setGLViewport(this._rctx),this._renderContext.camera=r,this._bindParameters.camera=r,this._bindParameters.inverseViewport[0]=1/r.fullViewport[2],this._bindParameters.inverseViewport[1]=1/r.fullViewport[3]}hasNonZeroSizedView(e){for(let r=0;r<e.numViews;r++){const t=e.views[r];if(t.extent[0]!==t.extent[2]&&t.extent[1]!==t.extent[3])return!0}return!1}emitContentChanged(){this.onContentChanged&&this.onContentChanged()}updateHasWater(){const e=R(this._layerRenderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e)}updateHasHighlights(){const e=R(this._layerRenderers,(e=>e.hasHighlights));e!==this._hasHighlights&&(this._hasHighlights=e,this.onHasHighlightsChanged&&this.onHasHighlightsChanged(this._hasHighlights))}updateRendersOccluded(){const e=R(this._layerRenderers,(e=>e.rendersOccluded));e!==this._rendersOccluded&&(this._rendersOccluded=e,this.onRendersOccludedChanged&&this.onRendersOccludedChanged(this.rendersOccluded))}drawDebugTexture(e,r,t){const i=this._rctx;this.ensureDebugPatternResources(e,r);const s=this._debugTextureTechnique.program;i.bindProgram(s),i.setPipelineState(this._debugTextureTechnique.pipeline),s.setUniform4f(\"color\",t[0],t[1],t[2],1),s.setUniform1i(\"tex\",0),i.bindTexture(this._debugPatternTexture,0),i.bindVAO(this._quadVAO),i.drawArrays(5,0,x(this._quadVAO,\"geometry\"))}ensureDebugPatternResources(e,r){if(this._debugPatternTexture)return;const t=new Uint8Array(e*r*4);let i=0;for(let n=0;n<r;n++)for(let s=0;s<e;s++){const o=Math.floor(s/10),a=Math.floor(n/10);o<2||a<2||10*o>e-20||10*a>r-20?(t[i++]=255,t[i++]=255,t[i++]=255,t[i++]=255):(t[i++]=255,t[i++]=255,t[i++]=255,t[i++]=1&o&&1&a?1&s^1&n?0:255:1&o^1&a?0:128)}this._debugPatternTexture=new b(this._rctx,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,width:e,height:r},t);const s=new W;s.hasAlpha=!0,this._debugTextureTechnique=this._shaderTechniqueRepository.acquireAndReleaseExisting(q,s,this._debugTextureTechnique),this._quadVAO=v(this._rctx)}get test(){return{layerRenderers:this._layerRenderers}}};e([G()],B.prototype,\"_shaderTechniqueRepository\",void 0),e([G()],B.prototype,\"_stippleTextureRepository\",void 0),e([o(),G()],B.prototype,\"waterTextureRepository\",void 0),e([o({constructOnly:!0})],B.prototype,\"renderView\",void 0),e([o({constructOnly:!0})],B.prototype,\"scheduler\",void 0),e([o()],B.prototype,\"globalUnitScale\",void 0),e([o({type:Boolean,readOnly:!0})],B.prototype,\"updating\",null),B=e([a(\"esri.views.3d.terrain.OverlayRenderer\")],B);class I{constructor(e,r){this.layerView=e,this.renderer=r}}const N=[[1,.5,.5],[.5,.5,1],[.5,1,.5]],X=new j;X.near=1,X.far=1e4,X.relativeElevation=null;const Y=p(),Z=p(),J=-2,K=4;export{J as DRAPED_Z,B as OverlayRenderer,K as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{Z as s,O as o}from\"../../../../chunks/vec4f64.js\";const c=1,r=1.2,t=s,a=o;export{r as SUSPEND_RESUME_EXTENT_OPTIMISM,t as TRANSPARENT_UNIT,a as WHITE_UNIT,c as defaultIconElevationOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{slice as t}from\"../../../../core/typedArrayUtil.js\";import{isNone as o,isSome as e,unwrapOr as n}from\"../../../../core/maybe.js\";import{acosClamped as r}from\"../../../../core/mathUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s,n as a,d as u,a as c}from\"../../../../chunks/vec3.js\";import{projectBuffer as p}from\"../../../../geometry/projection.js\";import{pathsToTriangulationInfo as l}from\"../../../../geometry/support/triangulationUtils.js\";import{Geometry as f}from\"../../webgl-engine/lib/Geometry.js\";import{applyPerVertexElevationAlignment as h}from\"./elevationAlignmentUtils.js\";import{DRAPED_Z as m}from\"../../terrain/OverlayRenderer.js\";import{WHITE_UNIT as y}from\"./constants.js\";function b(t){const o=[],e=[];j(t,e,o);const n=e[0][1].data,r=o[0][1].length,i=new Uint16Array(r);return A(t,e,o),F(t,e,o,i),w(t,e,o,i),v(t,e,o,i),D(t,e,o,i),P(t,e,o,i),U(t,e,o,n),new f(e,o,2)}function g(t,o,e,n){const r=\"polygon\"===t.type?1:0,i=\"polygon\"===t.type?t.rings:t.paths,{position:s,outlines:a}=l(i,t.hasZ,r),u=new Float64Array(s.length),c=h(s,t.spatialReference,0,u,0,s,0,s.length/3,o,e,n),p=null!=c;return{lines:p?d(a,s,u):[],projectionSuccess:p,sampledElevation:c}}function d(t,o,e){const n=new Array;for(const{index:r,count:i}of t){if(i<=1)continue;const t=3*r,s=t+3*i;n.push({position:o.subarray(t,s),mapPosition:e?e.subarray(t,s):void 0})}return n}function z(t,o){const e=\"polygon\"===t.type?1:0,n=\"polygon\"===t.type?t.rings:t.paths,{position:r,outlines:i}=l(n,!1,e),s=p(r,t.spatialReference,0,r,o,0,r.length/3);for(let a=2;a<r.length;a+=3)r[a]=m;return{lines:s?d(i,r):[],projectionSuccess:s}}function j(o,e,n){const{attributeData:{position:r},removeDuplicateStartEnd:i}=o,s=M(r)&&1===i,a=r.length/3-(s?1:0),u=new Uint32Array(2*(a-1)),c=s?t(r,0,r.length-3):r;let p=0;for(let t=0;t<a-1;t++)u[p++]=t,u[p++]=t+1;e.push([\"position\",{size:3,data:c,exclusive:s}]),n.push([\"position\",u])}function A(t,e,n){const r=t.attributeData.mapPosition;o(r)||(n.push([\"mapPos\",n[0][1]]),e.push([\"mapPos\",{size:3,data:r}]))}function F(t,o,r,i){if(e(t.attributeData.colorFeature))return;const s=t.attributeData.color;o.push([\"color\",{size:4,data:n(s,y)}]),r.push([\"color\",i])}function v(t,e,n,r){const i=t.attributeData.colorFeature;o(i)||(e.push([\"colorFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"color\",r]))}function w(t,o,r,i){if(e(t.attributeData.sizeFeature))return;const s=t.attributeData.size;o.push([\"size\",{size:1,data:[n(s,1)]}]),r.push([\"size\",i])}function D(t,e,n,r){const i=t.attributeData.sizeFeature;o(i)||(e.push([\"sizeFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"sizeFeatureAttribute\",r]))}function P(t,e,n,r){const i=t.attributeData.opacityFeature;o(i)||(e.push([\"opacityFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"opacityFeatureAttribute\",r]))}function U(t,o,e,i){if(\"round\"!==t.join)return;const p=i.length/3,l=new Float32Array(p),f=S,h=R;s(f,0,0,0);const m=n(t.uniformSize,1);for(let n=-1;n<p;++n){const t=n<0?p+n:n,o=(n+1)%p;if(s(h,i[3*o+0]-i[3*t+0],i[3*o+1]-i[3*t+1],i[3*o+2]-i[3*t+2]),a(h,h),n>=0){const t=1*((Math.PI-r(u(f,h)))*k)*x(m);l[n]=Math.max(Math.floor(t),0)}c(f,h,-1)}o.push([\"subdivisions\",{size:1,data:l}]),e.push([\"subdivisions\",e[0][1]])}function x(t){return 1.863798+-2.0062872/(1+t/18.2313)**.8856294}function M(t){const o=t.length;return t[0]===t[o-3]&&t[1]===t[o-2]&&t[2]===t[o-1]}const S=i(),R=i(),k=4/Math.PI;export{b as createGeometry,g as geometryToRenderInfo,z as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/Accessor.js\";import{IdentifiableMixin as c}from\"../../../../core/Identifiable.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return r(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?s(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?s(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(s(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(s(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(s(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(c(i)){constructor(e){super(e),this.drapeSourceType=1}};e([t({constructOnly:!0})],u.prototype,\"view\",void 0),e([t({readOnly:!0})],u.prototype,\"drapeSourceType\",void 0),u=e([o(\"DrapedVisualElementLayerView\")],u);export{a as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t,isNone as r}from\"../../../../core/maybe.js\";import s from\"../../../../core/Evented.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,b as o,a as n}from\"../../../../chunks/vec3.js\";import{projectBuffer as l}from\"../../../../geometry/projection.js\";import{g as h,c,s as d}from\"../../../../chunks/vec4.js\";import{empty as u,expandWithBuffer as p,create as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{f,a as g}from\"../../../../chunks/vec4f32.js\";import{makeDehydratedPoint as _}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeAttachmentOriginLines as y}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{ElevationContext as v}from\"../../layers/graphics/ElevationContext.js\";import{RibbonLineMaterial as O}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{RenderGeometry as w}from\"../../webgl-engine/lib/RenderGeometry.js\";import{geometryToRenderInfoDraped as C,createGeometry as R,geometryToRenderInfo as b}from\"../../layers/graphics/lineUtils.js\";import{LaserlineVisualElement as D}from\"./LaserlineVisualElement.js\";import{VisualElementResources as j}from\"./VisualElementResources.js\";import{DrapedVisualElementResources as P}from\"./DrapedVisualElementResources.js\";class E{constructor(e){this.view=null,this._attachmentOrigin=_(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new s,this._isDraped=!1,this._geometry=null,this._width=1,this._color=f(1,0,1,1),this._innerWidth=0,this._innerColor=f(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new j({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=e.view.spatialReference,this.drapedResources=new P({view:e.view,createResources:()=>this.createDrapedResources(),recreateGeometry:e=>{e.geometries=this.createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let t=!0;this._laserline=new D({view:e.view});for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&e(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(c(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){h(e,this._innerColor)||(c(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&h(e,this._stippleOffColor)||(this._stippleOffColor=e?g(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,this._laserline.attached=this.laserlineAttached,e(t)&&(this._laserline.style=t)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const r=e(this.resources.resources)?this.resources.resources.geometries:null;if(!r||0===r.length)return null;a(M,0,0,0);let s=0;for(const e of r){const r=e.vertexAttributes.get(\"position\"),i=e.indices.get(\"position\"),a=t(this.resources.resources).material.isClosed(r.data,i);y(r,i,a,A)&&(o(M,M,A),s++)}return 0===s?null:(n(M,M,1/s),this.view.renderCoordsHelper.fromRenderCoords(M,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){e(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters),e(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)}get isClosed(){return e(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",stippleIntegerRepeats:!0,polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}createResources(e){const t=new O(this.materialParameters),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}createDrapedResources(){const e=new O(this.materialParameters);return{material:e,geometries:this.createRenderGeometriesDraped(e)}}createRenderGeometriesDraped(e){const t=this.geometry;if(r(t))return[];const s=C(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:r}of s.lines){const t={attributeData:{position:r},removeDuplicateStartEnd:this.isClosed?1:0},s=new w(R(t),e),a=u(G);p(a,r),d(s.boundingSphere,.5*(a[0]+a[3]),.5*(a[1]+a[4]),0,.5*Math.sqrt((a[3]-a[0])*(a[3]-a[0])+(a[4]-a[1])*(a[4]-a[1]))),i.push(s)}return i}calculateMapBounds(e){if(r(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.vertexAttributes.get(\"position\"),i=new Float64Array(s.data.length);l(s.data,t.spatialReference,0,i,this.view.spatialReference,0,s.data.length/3),p(e,i)}return!0}createRenderGeometries(){const e=this.geometry;if(r(e))return[];const t=b(e,this.view.elevationProvider,this.view.renderCoordsHelper,v.fromElevationInfo(this.elevationInfo)),s=[],i=[];for(const{position:r,mapPosition:a}of t.lines){const e={attributeData:{position:r,mapPosition:a},removeDuplicateStartEnd:this.isClosed?1:0};s.push(R(e)),i.push(r)}return this._laserline.pathVerticalPlane=i,s}}const G=m(),A=i(),M=i();export{E as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{getPointOnPath as t,getPathLength as r}from\"../../../../geometry/support/coordsUtils.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as o}from\"../../../../geometry/projection.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{containsPoint as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{Object3D as c}from\"../../webgl-engine/lib/Object3D.js\";import{computeCentroid as l}from\"./graphicUtils.js\";import{applyElevationAlignmentForHUD as p,applyPerVertexElevationAlignment as m}from\"./elevationAlignmentUtils.js\";const u=n();function f(t,r,n,a,l,m,f,g,d,h){const j=n?n.length:0,y=t.clippingExtent;if(o(r,u,t.elevationProvider.spatialReference),e(y)&&!s(y,u))return null;const v=t.renderCoordsHelper.spatialReference;o(r,u,v);const w=t.localOriginFactory.getOrigin(u),x=new c({castShadow:!1,metadata:{layerUid:g,graphicUid:d,usesVerticalDistanceToGround:!0}});for(let e=0;e<j;e++){const t=l?l[e]:i;x.addGeometry(n[e],a[e],t,m,w,h)}return{object:x,sampledElevation:p(x,r,t.elevationProvider,t.renderCoordsHelper,f)}}function g(e,t,r){const n=e.elevationContext,i=r.spatialReference;o(t,u,i),n.centerPointInElevationSR=a(u[0],u[1],t.hasZ?u[2]:0,i)}function d(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return l(e);case\"polyline\":{const n=e.paths[0];if(!n||0===n.length)return null;const o=t(n,r(n)/2);return a(o[0],o[1],o[2],e.spatialReference)}case\"mesh\":return e.extent.center}return null}function h(e,t,r,n,o){const i=new Float64Array(3*e.length),s=new Float64Array(i.length);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e.length>2?e[2]:0}));const a=m(i,t,0,s,0,i,0,i.length/3,r,n,o),c=null!=a;return{numVertices:e.length,position:i,mapPosition:s,projectionSuccess:c,sampledElevation:a}}export{f as createStageObjectForHUD,g as extendPointGraphicElevationContext,h as geometryToRenderInfo,d as placePointOnGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{a as r}from\"../../../../chunks/vec4f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as a}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as s,defaultDepthWriteParams as l,defaultColorWriteParams as p}from\"../../../webgl/renderState.js\";import{View as d}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as c}from\"../core/shaderLibrary/Slice.glsl.js\";import{blendingDefault as h,OITBlending as m,OITDepthWrite as u,OITPolygonOffset as g}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as b}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ScreenSizeScaling as f}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{S as v}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";class y extends t{initializeProgram(e){const r=y.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new n(e.rctx,t.generateSource(\"vertex\"),t.generateSource(\"fragment\"),T)}bindPass(e,r,i){const{screenSizeEnabled:t,shadingEnabled:o}=this.configuration,{color:a,shadingTint:n,shadingDirection:s}=r;d.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"color\",a),i.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",i.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",i.inverseViewport),b(this.program,e,i)),o&&(this.program.setUniform4fv(\"shadedColor\",this.blendColor(S,n,a)),this.program.setUniform3fv(\"shadingDirection\",s),this.program.setUniformMatrix4fv(\"viewNormal\",i.camera.viewInverseTransposeMatrix)),t&&f.bindPassUniforms(this.program,r,i)}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}bindDraw(e){d.bindView(this.program,e),d.bindCamPosition(this.program,e.origin,e.camera.viewInverseTransposeMatrix),c.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e,o=e=>0!==e&&{face:1===e?1028:1029,mode:2305};return s({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h:m(e),culling:o(r.cullFace),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&l:u(e),colorWrite:p,polygonOffset:i||t?null:g})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}y.shader=new i(v,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class E extends o{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}e([a({count:8})],E.prototype,\"output\",void 0),e([a({count:3})],E.prototype,\"cullFace\",void 0),e([a()],E.prototype,\"slicePlaneEnabled\",void 0),e([a()],E.prototype,\"transparent\",void 0),e([a()],E.prototype,\"writeDepth\",void 0),e([a()],E.prototype,\"screenSizeEnabled\",void 0),e([a()],E.prototype,\"shadingEnabled\",void 0),e([a({count:4})],E.prototype,\"transparencyPassType\",void 0),e([a()],E.prototype,\"multipassTerrainEnabled\",void 0),e([a()],E.prototype,\"cullAboveGround\",void 0);const T={position:0,normal:1,offset:2},S=r();export{y as ShadedColorMaterialTechnique,E as ShadedColorMaterialTechniqueConfiguration,T as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/vec3f64.js\";import{n as t,s as r,a as i,b as s}from\"../../../../chunks/vec3.js\";import{BufferViewVec3f as a}from\"../../support/buffer/BufferView.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{newLayout as u}from\"../../support/buffer/InterleavedLayout.js\";import{assert as c}from\"../lib/Util.js\";import h from\"../lib/GLMaterial.js\";import{intersectTriangleGeometry as f}from\"./internal/MaterialUtil.js\";import{Material as l,materialParametersDefaults as p}from\"../lib/Material.js\";import{writeDefaultAttributes as m,writePosition as d}from\"./internal/bufferWriterUtils.js\";import{ShadedColorMaterialTechniqueConfiguration as g,ShadedColorMaterialVertexAttrLocations as b,ShadedColorMaterialTechnique as q}from\"../shaders/ShadedColorMaterialTechnique.js\";class v extends l{constructor(e){super(e,C),this.supportsEdges=!0,this.techniqueConfig=new g,this._vertexAttributeLocations=b}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.screenSizeEnabled=this.params.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.params.shadingEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!t||t.cullAboveGround,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,t,a,u,c,h,l){if(this.params.screenSizeEnabled){const a=e.vertexAttributes.get(\"offset\"),p={applyToVertex:(e,t,n,o)=>{const c=r(S,a.data[3*o+0],a.data[3*o+1],a.data[3*o+2]),h=r(x,e,t,n);return i(c,c,this.params.screenSize*u.camera.computeRenderPixelSizeAt(c)),s(h,h,c),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=n(e,S);return o(e,this.params.screenSize*u.camera.computeRenderPixelSizeAt(t))}};f(e,t,u,c,h,p,l)}else f(e,t,u,c,h,void 0,l)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new E(e):void 0}createBufferWriter(){return new P(this.params.screenSizeEnabled)}}class E extends h{constructor(e){super(e),this.updateParameters()}updateParameters(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(q,this.material.getTechniqueConfig(this.output,e),this.technique)}beginSlot(e){if(4===this.output)return 3===e;let t=3;return this.technique.configuration.transparent&&(t=this.technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}}const C={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:t(e(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...p};class P{constructor(e){this.screenSizeEnabled=e;const t=u().vec3f(\"position\").vec3f(\"normal\");this.screenSizeEnabled&&t.vec3f(\"offset\"),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,r,i){if(m(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!t.vertexAttributes.has(\"offset\"))throw new Error(\"offset vertex attribute required for screenSizeEnabled ShadedColorMaterial\");{const s=t.vertexAttributes.get(\"offset\"),n=t.indices.get(\"offset\");c(3===s.size);const o=r.getField(\"offset\",a);if(!o)throw new Error(\"unable to acquire view for offset\");d(n,s.data,e.invTranspTransformation,o,i)}}}}const S=e(),x=e();export{v as ShadedColorMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import a from\"../../webgl-engine/lib/GeometryUtil.js\";import{ElevationContext as l}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfo as o}from\"../../layers/graphics/pointUtils.js\";import{Object3DVisualElement as n}from\"./Object3DVisualElement.js\";import{ShadedColorMaterial as c}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";import{settings as h}from\"../editingTools/settings.js\";class u extends n{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=h.colorToVec4(h.reshapeManipulators.vertex.color),this._size=h.reshapeManipulators.vertex.size,this._outlineColor=h.colorToVec4(h.reshapeManipulators.vertex.outlineColor),this._outlineSize=h.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameterValues(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameterValues(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const t=this.vertices;if(e(t)||0===t.length)return[];const i=.5,s=.5,a=o(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,l.fromElevationInfo(this.elevationInfo)),n=[],c=a.numVertices,h=a.position;for(let e=0;e<c;++e){const t=r(d,h[3*e+0],h[3*e+1],h[3*e+2]),a=p(i,t),l=p(s,t);n.push({vertexGeometry:a,vertexOutlineGeometry:l})}return n}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new c({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0}),this.vertexOutlineMaterial=new c({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const d=t();function p(e,t){return a.createSphereGeometry(e,16,16,{offset:t})}export{u as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import t from\"../../../../core/Evented.js\";let e=class extends t.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([o({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([o()],e.prototype,\"tracking\",void 0),r([o()],e.prototype,\"displaying\",void 0),r([o()],e.prototype,\"isDraped\",void 0),e=r([s(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrapOr as t,isSome as i,isNone as r,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import o from\"../../../../../Graphic.js\";import{init as c}from\"../../../../../core/watchUtils.js\";import{HandleOwnerMixin as h}from\"../../../../../core/HandleOwner.js\";import p from\"../../../../../layers/GraphicsLayer.js\";import{getEffectiveElevationMode as u}from\"../../../../../support/elevationInfoUtils.js\";import{DrawOperation as d}from\"./DrawOperation.js\";import{SceneDrawSurface as m,ElevationDrawSurface as y}from\"./drawSurfaces.js\";import{InteractiveToolBase as v}from\"../../../../interactive/InteractiveToolBase.js\";import{createViewAlignedCoordinateSystem as g}from\"../../../../draw/support/surfaceCoordinateSystems.js\";import{settings as _}from\"../settings.js\";import{OutlineVisualElement as f}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as V}from\"../../visualElements/VerticesVisualElement.js\";import{GraphicState as w}from\"../../../layers/graphics/GraphicState.js\";import{createSquare as G,createRectangle as E,createCircle as O,createEllipse as S,createPolygon as b,createPolyline as j}from\"../../../../draw/support/createUtils.js\";let C=class extends(h(l.EventedMixin(v))){constructor(e){super(e),this.drawOperation=null,this._createGraphic=null,this._createGraphicState=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._stagedVerticesVisualElement=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=!1,this.snappingManager=null,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const e=t(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this._internalGraphicsLayer=new p({elevationInfo:e,listMode:\"hide\",internal:!0}),this.view.map.layers.add(this._internalGraphicsLayer),this.drawOperation=new d({view:this.view,manipulators:this.manipulators,geometryType:x(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new m(this.view,e,[this._internalGraphicsLayer]),elevationDrawSurface:new y(e,this.defaultZ,this.view,this._internalGraphicsLayer),hasM:!1,elevationInfo:e,snappingManager:this.snappingManager}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._destroyAllVisualisations(),this.view.map.remove(this._internalGraphicsLayer),this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}_getCreateGeometry(e,t=!1){if(null==this.drawOperation)return null;const r=i(e)?e:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null,s=this.drawOperation.vertices;if(0===s.length)return null;const a=this.drawOperation.spatialReference,n=s,l=n.slice(),o=[];i(r)&&(l.splice(r,1),o.push(n[r]));const c={regularVertices:null,stagedVertices:null,full:null,outline:null},h=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":c.regularVertices=l,c.stagedVertices=o,c.full=this.drawOperation.coordinateHelper.createPointFromArray(s[0]);break;case\"polyline\":c.regularVertices=l,c.stagedVertices=o,n.length>0&&(c.full=j([n],a,h));break;case\"polygon\":c.regularVertices=l,c.stagedVertices=o,n.length>0&&(c.full=b([n],a,h,!0));break;case\"circle\":if(n.length>0){const e=g(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+I*this.view.resolution,t[1]);c.full=O([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?O(s,e,this.centered):S(s,e,this.centered))}break;case\"rectangle\":if(n.length>0){const e=g(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+I*this.view.resolution,t[1]);c.full=G([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?G(s,e,this.centered):E(s,e,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":break;case\"polyline\":n.length>1&&(c.outline=j([n],a,h));break;case\"polygon\":n.length>1&&(c.outline=b([n],a,h));break;case\"circle\":case\"rectangle\":i(c.full)&&\"polygon\"===c.full.type&&(c.outline=b(c.full.rings,a,h))}return c}_destroyAllVisualisations(){this._destroyCreateGraphic(),this._destroyOutlineVisualElement(),this._destroyVerticesVisualElement(),this._destroyStagedVerticesVisualElement()}_destroyCreateGraphic(){i(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic.destroy(),this._createGraphic=null),this._createGraphicState=null,this.handles.remove(T)}_destroyOutlineVisualElement(){i(this._outlineVisualElement)&&(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)}_destroyVerticesVisualElement(){i(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)}_destroyStagedVerticesVisualElement(){i(this._stagedVerticesVisualElement)&&(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)}_updateCreateGraphic(e=null){const t=this._getCreateGeometry(e);if(r(t))return void this._destroyAllVisualisations();const a=this._internalGraphicsLayer.elevationInfo;i(t.outline)?r(this._outlineVisualElement)?(this._outlineVisualElement=new f({view:this.view,geometry:t.outline,elevationInfo:s(a),isDraped:i(this._createGraphicState)?this._createGraphicState.isDraped:\"on-the-ground\"===u(this.hasZ,a),attached:!1}),_.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),_.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=t.outline:this._destroyOutlineVisualElement(),i(t.regularVertices)?r(this._verticesVisualElement)?(this._verticesVisualElement=new V({view:this.view,spatialReference:this.view.spatialReference,vertices:t.regularVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:_.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=t.regularVertices:this._destroyVerticesVisualElement(),i(t.stagedVertices)?r(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=new V({view:this.view,spatialReference:this.view.spatialReference,vertices:t.stagedVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:_.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._stagedVerticesVisualElement.color=_.colorToVec4(_.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=!0):this._stagedVerticesVisualElement.vertices=t.stagedVertices:this._destroyStagedVerticesVisualElement(),i(t.full)?r(this._createGraphic)?(this._createGraphic=new o({geometry:t.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this._createGraphicState=new w({graphic:this._createGraphic}),this.handles.add([this.view.trackGraphicState(this._createGraphicState),c(this._createGraphicState,\"isDraped\",(e=>{i(this._outlineVisualElement)&&(this._outlineVisualElement.isDraped=e)}))],T),this.notifyChange(\"createGraphic\")):this._createGraphic.geometry=t.full:this._destroyCreateGraphic()}get createGraphic(){return this._createGraphic}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set centered(e){this._set(\"centered\",e),this._updateCreateGraphic()}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateCreateGraphic()}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this._updateCreateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateCreateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateCreateGraphic(),this.emit(\"vertex-update\",e)}onCursorUpdate(e){this._updateCreateGraphic(1===e.vertices.length?e.vertices[0].vertexIndex:null),this.emit(\"cursor-update\",e)}onComplete(e){this._updateCreateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateGeometry(null,!0);i(e)&&(t=new o({geometry:e.full,symbol:this.createGraphicSymbol}))}this.emit(\"complete\",{graphic:t,...e})}};function x(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}e([a({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([a()],C.prototype,\"createGraphicSymbol\",void 0),e([a()],C.prototype,\"createGraphic\",null),e([a({value:!0})],C.prototype,\"enabled\",null),e([a({value:!0})],C.prototype,\"centered\",null),e([a({value:!0})],C.prototype,\"forceUniformSize\",null),e([a({constructOnly:!0})],C.prototype,\"hasZ\",void 0),e([a({nonNullable:!0})],C.prototype,\"defaultZ\",void 0),e([a({constructOnly:!0})],C.prototype,\"elevationInfo\",void 0),e([a()],C.prototype,\"snapToScene\",void 0),e([a()],C.prototype,\"snappingManager\",void 0),e([a({constructOnly:!0})],C.prototype,\"mode\",void 0),e([a({constructOnly:!0})],C.prototype,\"geometryType\",void 0),e([a({readOnly:!0})],C.prototype,\"type\",void 0),C=e([n(\"esri.views.3d.interactive.editingTools.draw3D.DrawTool\")],C);const I=48,T=\"create-graphic\";export{C as DrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";import{isSome as t,isNone as i,unwrapOr as s,unwrap as n}from\"../../../core/maybe.js\";import{once as o}from\"../../../core/accessorSupport/utils.js\";import r from\"../../../geometry/Point.js\";import\"../../../geometry.js\";import a from\"../../../core/Evented.js\";import{deg2rad as c}from\"../../../core/mathUtils.js\";import{createScreenPointArray as l,createRenderScreenPointArray3 as h,screenPointObjectToArray as d,castRenderScreenPointArray as _}from\"../../../core/screenUtils.js\";import{c as u,Z as g}from\"../../../chunks/vec3f64.js\";import{b as m,t as f,i as p,a as b,g as v,h as y,s as j,f as L}from\"../../../chunks/vec3.js\";import{getReferenceEllipsoid as S}from\"../../../geometry/projectionEllipsoid.js\";import{c as R,d as w,m as O,i as T}from\"../../../chunks/mat4.js\";import{containsPointObject as E}from\"../../../geometry/support/aaBoundingRect.js\";import{canProjectWithoutEngine as A,projectPoint as D,sphericalPCPFtoLonLatElevation as P,computeLatLonToENURotation as F}from\"../../../geometry/projection.js\";import{a as z}from\"../../../chunks/mat3f64.js\";import{a as k}from\"../../../chunks/mat4f64.js\";import{f as I}from\"../../../chunks/mat3.js\";import{j as M}from\"../../../chunks/vec2.js\";import{getElevationAtPoint as C}from\"../support/ElevationProvider.js\";import{sv3d as x}from\"../support/stack.js\";import{ray as B,plane as W,lineSegment as V}from\"../support/geometryUtils.js\";import{Object3D as H}from\"../webgl-engine/lib/Object3D.js\";import U from\"../webgl-engine/lib/Camera.js\";import{clonePoint as G}from\"../../../layers/graphics/hydratedFeatures.js\";import{WebGLLayer as N}from\"../webgl-engine/lib/WebGLLayer.js\";class Z{constructor(e){this.idHint=0,this.camera=new U,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=k(),this._worldFrame=null,this._renderLocation=u(),this._renderLocationDirty=!0,this._location=new r({x:0,y:0,z:0}),this._elevationAlignedLocation=new r,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new a.EventEmitter,this._screenLocation={screenPointArray:l(),renderScreenPointArray:h(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:o((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){q(e)&&(this._screenLocationDirty=!0),R(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=k()),J(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){G(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){G(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=t(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(q(this._modelTransform)){const t=this._calculateModelTransformOffset(ae);e=m(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,s){if(!this.available)return null;const n=d(t,K),o=this._getCollisionRadius(s),r=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(M(this.screenLocation.screenPointArray,n)<o*o)return this.screenLocation.renderScreenPointArray[2]+r;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),s=this._calculateObjectTransform(t,ee),a=o*this.screenLocation.pixelSize,c=B.fromScreen(this.camera,n,X);if(i(c))return null;for(const i of e){if(0===i.length)continue;const e=p(ie,i[0],s);for(let t=1;t<i.length;t++){const n=p(se,i[t],s),o=V.closestRayDistance2(V.fromPoints(e,n,Q),c);if(null!=o&&o<a*a){const t=m(x.get(),e,n);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,n)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:g,s=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(s,ee),l=o*this.screenLocation.pixelSize,h=B.fromScreen(this.camera,n,X);if(i(h))return null;const d=I(Y,c),_=f(oe,e,d),u=p(re,t,c);W.fromPositionAndNormal(u,_,te);const m=ne;if(W.intersectRay(te,h,m)&&y(m,u)<l*l)return this.screenLocation.renderScreenPointArray[2]+r;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,s=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(s,ee),c=o*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=B.fromScreen(this.camera,n,X);if(i(l))return null;const h=I(Y,a),d=f(oe,t,h),u=this._calculateModelTransformPosition(re);W.fromPositionAndNormal(u,d,te);const g=ne;if(!W.intersectRay(te,l,g))break;for(const i of e){if(0===i.length)continue;const e=p(ie,i[0],a);for(let t=1;t<i.length;t++){const s=p(se,i[t],a),n=V.distance2(V.fromPoints(e,s,Q),g);if(null!=n&&n<c*c){const t=m(x.get(),e,s);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,s)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){var t;if(!this.view._stage)return;const s=e.manipulator3D;if(i(s.engineLayerId)){const e=new N({isPickable:!1});this.view._stage.add(e),s.engineLayerId=e.id,this._engineLayer=e}else null!=(t=this.view._stage)&&t.getObject&&(this._engineLayer=this.view._stage.getObject(s.engineLayerId));s.engineLayerReferences=(s.engineLayerReferences||0)+1,this._materialIdReferences=s.materialIdReferences,i(this._materialIdReferences)&&(this._materialIdReferences=new Map,s.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),A(this._location.spatialReference,this.view.spatialReference)||(this.location=new r({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){D(this.location,ce,e.spatialReference),E(e.extent,ce)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(i(this.elevationInfo))return!1;let t=null,n=0;const o=s(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=s(C(this.view.elevationProvider,e,\"ground\"),0);break;case\"relative-to-ground\":n=s(C(this.view.elevationProvider,e,\"ground\"),0)+o;break;case\"relative-to-scene\":n=s(C(this.view.elevationProvider,e,\"scene\"),0)+o;break;case\"absolute-height\":n=o}return(n!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=n,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),i=ee;if(!0===this.autoScaleRenderObjects){const t=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(t,i)}else this._calculateObjectTransform(e,i);const{objectsByState:s}=this._ensureEngineResources(),n=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:t,objects:r}of s){if(o){for(const e of r)e.setVisible(!1);continue}const e=!(0!=(15&t))||(n&t)==(15&t),s=!(0!=(65520&t))||(this.state&t)==(65520&t);if(e&&s)for(const t of r)t.setVisible(!0),t.transformation=i;else for(const t of r)t.setVisible(!1)}t(this._engineLayer)&&this._engineLayer.commit()}_ensureEngineResources(){if(i(this._engineResources)){const e=n(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:n}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,n))):e.addGeometry(i,s,n)},o=new Map;this._renderObjects.forEach((e=>{const t=new H({castShadow:!1});s(t,e);const i=e.stateMask||0,n=o.get(i)||[];n.push(t),o.set(i,n)}));const r=[];o.forEach(((e,t)=>r.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:e,layer:t,materials:s}=this._engineResources;s.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>e.forEach((e=>{t.add(e),this.view._stage.add(e)})))),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:t,layer:s,materials:o}=this._engineResources;t.forEach((({objects:e})=>{s.removeMany(e),this.view._stage.removeMany(e)})),o.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(s),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,$);return j(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return L(e,t,this.renderLocation)}_calculateObjectTransform(e,i){return w(i,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&O(i,i,this._worldFrame),O(i,i,this._modelTransform),i[12]+=this.renderLocation[0],i[13]+=this.renderLocation[1],i[14]+=this.renderLocation[2],i[15]=1,t(this._applyObjectTransform)&&this._applyObjectTransform(i),i}get test(){let e=!1;if(t(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function q(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function J(e,t,i){switch(e.viewingMode){case\"local\":return T(i),!0;case\"global\":{const s=S(e.renderCoordsHelper.spatialReference);return P(t,0,ie,0,s.radius),F(c(ie[1]),c(ie[0]),i),!0}}}const K=l(),Q=V.create(),X=B.create(),Y=z(),$=k(),ee=k(),te=W.create(),ie=u(),se=u(),ne=u(),oe=u(),re=u(),ae=u(),ce=new r({x:0,y:0,z:0,spatialReference:null});export{Z as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{f as r,c as n,i as o,n as i}from\"../../../chunks/vec3.js\";import{a}from\"../../../chunks/mat4.js\";import{b as c}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as m}from\"../support/stack.js\";import l from\"../webgl-engine/lib/GeometryUtil.js\";import{hydrateGeometry as u}from\"../../../layers/graphics/hydratedFeatures.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import{ColorMaterial as g}from\"../webgl-engine/materials/ColorMaterial.js\";import{Manipulator3D as f}from\"./Manipulator3D.js\";import{ShadedColorMaterial as h}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(e,t=4){const r=c(e[0],e[1],e[2],e.length>3?e[3]:1),n=e[3]<1;return new h({color:r,transparent:n,writeDepth:!0,cullFace:2,renderOccluded:t})}function j(e,t=4){const r=c(e[0],e[1],e[2],4===e.length?e[3]:1);return new g({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t})}function w(e,t,r){return new f({view:e,renderObjects:[{geometry:l.createSphereGeometry(1,32,32),material:d(c(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,i,c){const l=r(s.get(),e,i),u=b(l,n(s.get(),c,l),i,m.get());a(u,u);const p=o(s.get(),t,u);return Math.atan2(p[1],p[0])}function b(e,t,r,o){const a=i(s.get(),e),c=i(s.get(),t),m=n(s.get(),a,c);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=0,o[4]=c[0],o[5]=c[1],o[6]=c[2],o[7]=0,o[8]=m[0],o[9]=m[1],o[10]=m[2],o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function O(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function k(t,r,n){const o=O(t,n);e(o)?r.elevationAlignedLocation=o:v(r,n.geometry)}function v(e,r){if(t(r))return;const n=p(r);t(n)||(e.location=u(n))}export{y as calculateInputRotationTransform,b as calculateTranslateRotateFromBases,d as createManipulatorMaterial,j as createManipulatorOutlineMaterial,w as createSphereManipulator,O as getGraphicAttachmentOrigin,k as placeAtGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof i&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),t(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}export{e as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as a,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{s,b as o,a as r}from\"../../../../chunks/vec3.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{LaserlineVisualElement as p}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as m}from\"../visualElements/ExtendedLineVisualElement.js\";import{Manipulator3D as h}from\"../Manipulator3D.js\";import{settings as u}from\"./settings.js\";import{OutlineVisualElement as d}from\"../visualElements/OutlineVisualElement.js\";import{GraphicState as g}from\"../../layers/graphics/GraphicState.js\";import{ManipulatorState as f}from\"./ManipulatorState.js\";function v(e){const{view:a,graphic:n}=e,i=new g({graphic:n}),l=y(e,i),s=[l,E(e,l.visualElement,i),a.maskOccludee(n),a.trackGraphicState(i)];return{visualElement:l.visualElement,remove:()=>t(s).remove()}}function y(e,n){const{view:i,graphic:l}=e,s=new d({view:i,geometry:S(l)?l.geometry:null,elevationInfo:c(l),attached:!1});u.visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};u.visualElements.lineGraphics.outline.apply(s);const r=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>s.isDraped=e)),n.on(\"changed\",(()=>s.geometry=S(l)?l.geometry:null)),a(s)];return o(),{visualElement:s,remove:()=>t(r).remove()}}function E(e,l,s){const{graphic:o,view:r}=e,h=[],d=c(o),g=\"on-the-ground\"===d.mode||!d.offset&&\"absolute-height\"!==d.mode,v=new f,y=new m({view:r,extensionType:u.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});u.visualElements.pointGraphics.shadowStyle.apply(y);const E=i(u.visualElements.heightPlaneAngleCutoff),j=new p({view:r,attached:!1,angleCutoff:E});u.visualElements.heightPlane.apply(j);let M=1,G=1;const L=()=>{if(v.update(e),!s.displaying||g&&(s.isDraped||!S(o)||!o.geometry.hasZ))return l.laserlineEnabled=!1,y.attached=!1,void(j.attached=!1);l.laserlineEnabled=!0;{const e=4&v.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==M&&(M=e,u.visualElements.lineGraphics.shadowStyle.apply(l,e),u.visualElements.pointGraphics.shadowStyle.apply(y,e))}{const e=2&v.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==G&&(G=e,u.visualElements.heightPlane.apply(j,e))}w(y,v),b(e,l,j,v)};u.visualElements.zVerticalLine.apply(y),h.push(s.on(\"changed\",L),s.watch(\"displaying\",L),l.events.on(\"attachment-origin-changed\",L),a(y),a(j));const D=[],C=()=>{t(D).remove(),D.length=0,e.forEachManipulator((e=>D.push(e.events.on(\"grab-changed\",L)))),e.forEachManipulator((e=>D.push(e.events.on(\"select-changed\",L)))),L()};return C(),h.push(e.onManipulatorsChanged(C),n((()=>t(D)))),t(h)}function w(t,a){const n=1===a.numSelected?a.firstSelected:a.numSelected>1&&e(a.firstGrabbedXY)?a.firstGrabbedXY:null;e(n)?(t.setStartEndFromWorldDownAtLocation(n.renderLocation),t.attached=!0):t.attached=!1}function b(t,a,n,i){if(i.numSelected>0){s(j,0,0,0);let e=0;t.forEachManipulator(((t,a)=>{1===a&&t.selected&&t instanceof h&&(o(j,j,t.renderLocation),e++)})),e>0?(n.heightManifoldTarget=r(j,j,1/e),n.attached=!0):n.attached=!1}else{const i=a.attachmentOrigin;e(i)&&t.view.renderCoordsHelper.toRenderCoords(i,j)?(n.heightManifoldTarget=j,n.attached=!0):n.attached=!1}}function S(t){return e(t.geometry)&&(\"polygon\"===t.geometry.type||\"polyline\"===t.geometry.type)}const j=l();export{y as createGeometryRepresentationVisualElement,v as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as n,refHandle as o}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../chunks/vec3.js\";import{init as s}from\"../../../../core/watchUtils.js\";import{containsXY as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationAlignmentAtPoint as d}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as f}from\"../../layers/graphics/ElevationContext.js\";import{LaserlineVisualElement as v}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as y}from\"../visualElements/ExtendedLineVisualElement.js\";import{PointVisualElement as E}from\"../visualElements/PointVisualElement.js\";import{settings as w}from\"./settings.js\";import{GraphicState as j}from\"../../layers/graphics/GraphicState.js\";import{ManipulatorState as b}from\"./ManipulatorState.js\";function x(e){const{view:n,graphic:o}=e,i=new j({graphic:o}),r=[],a=L(e,i,r);return S(e,i,r,a),r.push(n.trackGraphicState(i)),{visualElement:a,remove(){t(r).remove()}}}function S(e,t,o,r){const{view:s,graphic:l}=e,c=new y({view:s,extensionType:w.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});w.visualElements.zVerticalLine.apply(c);const m=new v({view:s,intersectsLineInfinite:!0,attached:!1});w.visualElements.pointGraphics.shadowStyle.apply(m);const E=i(w.visualElements.heightPlaneAngleCutoff),j=new v({view:s,attached:!1,angleCutoff:E});w.visualElements.heightPlane.apply(j);const x=g(e.graphic),S=f.fromElevationInfo(x),L=\"on-the-ground\"===x.mode||!x.offset&&\"absolute-height\"!==x.mode,P=new b;let A=1,C=1;const D=()=>{P.update(e);const n=L&&(t.isDraped||!M(l)||!l.geometry.hasZ);let o=!0;if(!n&&M(l)){const e=l.geometry,t=d(l.geometry,s.elevationProvider,S,s.renderCoordsHelper);a(R,e.x,e.y,t),p(R,e.spatialReference,R,s.renderCoordsHelper.spatialReference),c.setStartEndFromWorldDownAtLocation(R),m.intersectsWorldUpAtLocation=R}else o=!1;const i=2&P.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;i!==A&&(A=i,w.visualElements.heightPlane.apply(j,i));const g=h(U);!n&&t.displaying&&r.calculateMapBounds(g)&&p(u(g,R),s.spatialReference,R,s.renderCoordsHelper.spatialReference)?(j.heightManifoldTarget=R,j.attached=!0):j.attached=!1;const f=4&P.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;f!==C&&(C=f,w.visualElements.pointGraphics.shadowStyle.apply(m,f));const v=o&&t.displaying&&!n;m.attached=v,c.attached=v};o.push(t.watch([\"displaying\",\"isDraped\"],D),t.on(\"changed\",D)),e.forEachManipulator((e=>{o.push(e.events.on(\"grab-changed\",D))})),o.push(n(m)),o.push(n(c)),o.push(n(j)),D()}function L(e,t,o){const{view:i,graphic:r}=e,a=new E({view:i,geometry:M(r)?r.geometry:null,elevationInfo:g(r),attached:!1});return P(e,a,t,o),o.push(n(a)),a}function P(e,t,n,o){const i=()=>t.attached=n.displaying;A(e,t,n,o),w.visualElements.pointGraphics.outline.apply(t),o.push(s(n,\"displaying\",i))}function A(t,n,i,r){const{view:a,graphic:s}=t;let l=null;const p=()=>{e(l)&&(l.remove(),l=null),i.isDraped&&M(s)&&(l=C(a,s.geometry,(()=>{n.geometry=s.geometry})))},c=()=>{p(),n.geometry=M(s)?s.geometry:null};r.push(i.on(\"changed\",c),o((()=>l))),c()}function C(e,t,n){const o=e.elevationProvider.spatialReference;c(t,R,o);const i=R[0],r=R[1];return e.elevationProvider.on(\"elevation-change\",(e=>{l(e.extent,i,r)&&n()}))}function M(t){return e(t.geometry)&&\"point\"===t.geometry.type}const R=r(),U=m();export{x as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as t}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as r}from\"./pointGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":return r(i);case\"polygon\":case\"polyline\":return t(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(e/3*2),P=160,i=.5,l=24,n=9,p=P+30,r=P+53,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{dragGraphic as e,resetGraphic as n}from\"../../../../interactive/dragEventPipeline.js\";function r(t,r,a){const c=t.graphic,i=(t,e)=>r({action:t,graphic:c,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return a(((t,r,a)=>{const o=r.next((t=>(\"start\"===t.action&&i(\"start\",t),t))).next(e(c)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&i(\"update\",t);break;case\"end\":i(\"end\",t)}return t}));return a.next(n(c)).next((()=>{i(\"end\",{screenDeltaX:0,screenDeltaY:0})})),o}))}function a(e){if(t(e)||\"polyline\"!==e.type&&\"polygon\"!==e.type)return 0;const n=(\"polyline\"===e.type?e.paths:e.rings)[0];if(!n||n.length<2)return 0;const r=n[0],a=n[1];return Math.atan2(a[1]-r[1],a[0]-r[0])}export{r as createGraphicMoveDragPipeline,a as shapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{b as s,i}from\"../../../../chunks/vec3.js\";import{I as e}from\"../../../../chunks/mat4f64.js\";import{ray as a}from\"../../support/geometryUtils.js\";import{isInstanceHidden as n}from\"../materials/renderers/utils.js\";import{IntersectorOptions as o,IntersectorResults as h,IntersectorTransform as d,getVerticalOffsetObject3D as c,IntersectorResult as l}from\"./intersectorUtils.js\";const f=1e-5;class m{constructor(t){this.options=new o,this.results=new h,this.transform=new d,this.performanceInfo={queryDuration:0,numObjectsTested:0},this.tolerance=f,this.verticalOffset=null,this._ray={origin:r(),direction:r()},this._rayEndPoint=r(),this._rayStartPointTransformed=r(),this._rayEndPointTransformed=r(),this.viewingMode=null==t?1:t}get ray(){return this._ray}get rayBeginPoint(){return this._ray.origin}get rayEndPoint(){return this._rayEndPoint}reset(t,r){this.resetWithRay(a.fromPoints(t,r,this._ray))}resetWithRay(t){t!==this._ray&&a.copy(t,this._ray),0!==this.options.verticalOffset?2===this.viewingMode?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,s(this._rayEndPoint,this._ray.origin,this._ray.direction),this._numObjectsTested=0,this.results.init(this._ray)}intersect(r,s,i,e,a,n){this.point=s,this.camera=i,this.filterPredicate=a,this.tolerance=null==e?f:e;const o=c(this.verticalOffset),h=n?t=>{n(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};if(r&&r.length>0)for(const d of r){const r=d.getSpatialQueryAccelerator&&d.getSpatialQueryAccelerator();t(r)?(t(o)?r.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,h,o):r.forEachAlongRay(this._ray.origin,this._ray.direction,h),this.options.selectionMode&&this.options.hud&&r.forEachDegenerateObject(h)):d.getObjects().forAll((t=>h(t)))}this.sortResults()}intersectObject(r){this._numObjectsTested++;const s=r.geometryRecords;if(!s)return;const a=r.id,o=r.transformation;let h;const d=c(this.verticalOffset);for(const c of s){const{geometry:s,material:f,instanceParameters:m}=c;if(n(m))continue;h=s.id,this.transform.setAndInvalidateLazyTransforms(o,c.getShaderTransformation()),i(this._rayStartPointTransformed,this._ray.origin,this.transform.inverse),i(this._rayEndPointTransformed,this._rayEndPoint,this.transform.inverse);const u=this.transform.transform;t(d)&&(d.objectTransform=this.transform),f.intersect(s,m,this.transform.transform,this,this._rayStartPointTransformed,this._rayEndPointTransformed,((s,i,n,o,d,c)=>{if(s>=0){if(t(this.filterPredicate)&&!this.filterPredicate(this._ray.origin,this._rayEndPoint,s))return;const f=`Object3D ${a}`;if(d)return void((null==this.results.hud.dist||s<this.results.hud.dist)&&this.results.hud.set(r,f,s,i,e,o,c,h,n));const m=t=>t.set(r,f,s,i,u,o,null,h,n);if((null==this.results.min.drapedLayerOrder||o>=this.results.min.drapedLayerOrder)&&(null==this.results.min.dist||s<this.results.min.dist)&&m(this.results.min),0!==this.options.store&&(null==this.results.max.drapedLayerOrder||o<this.results.max.drapedLayerOrder)&&(null==this.results.max.dist||s>this.results.max.dist)&&m(this.results.max),2===this.options.store){const t=new l(this._ray);m(t),this.results.all.push(t)}}}),c.shaderTransformation)}}sortResults(){this.results.all.sort(((t,r)=>t.dist!==r.dist?t.dist-r.dist:t.drapedLayerOrder!==r.drapedLayerOrder?(void 0!==t.drapedLayerOrder?t.drapedLayerOrder:Number.MAX_VALUE)-(void 0!==r.drapedLayerOrder?r.drapedLayerOrder:Number.MAX_VALUE):(void 0!==r.drapedLayerGraphicOrder?r.drapedLayerGraphicOrder:Number.MIN_VALUE)-(void 0!==t.drapedLayerGraphicOrder?t.drapedLayerGraphicOrder:Number.MIN_VALUE)))}}m.DEFAULT_TOLERANCE=f;export{m as Intersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as n}from\"../../../../core/maybe.js\";import{sign as t}from\"../../../../core/mathUtils.js\";import{screenPointObjectToArray as o,castScreenPointArray as s,createScreenPointArray as c}from\"../../../../core/screenUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{g as a,l as i,f as u,d,a as m,b as p,c as f}from\"../../../../chunks/vec3.js\";import{projectPoint as S}from\"../../../../geometry/projection.js\";import{getZForElevationMode as g,getGraphicEffectiveElevationInfo as y}from\"../../../../support/elevationInfoUtils.js\";import{sv2d as E}from\"../../support/stack.js\";import{ray as j,plane as x,vector as b}from\"../../support/geometryUtils.js\";import{TERRAIN_ID as v}from\"../../webgl-engine/lib/intersectorUtils.js\";import{Intersector as w}from\"../../webgl-engine/lib/Intersector.js\";import{EventPipeline as I}from\"../../../interactive/dragEventPipeline.js\";function C(n,t){const c=l(),a=l();let i=!1;return l=>{if(\"start\"===l.action){const r=o(l.screenStart,s(E.get())),a=j.fromScreen(n.state.camera,r,G);e(a)&&(i=x.intersectRay(t,a,c))}if(!i)return null;const u=o(l.screenEnd,s(E.get())),d=j.fromScreen(n.state.camera,u,G);return r(d)?null:x.intersectRay(t,d,a)?{...l,renderStart:c,renderEnd:a,plane:t,ray:d}:null}}function H(n,t,o,s=null,l=null){let a=null;return i=>{if(\"start\"===i.action&&(a=n.sceneIntersectionHelper.intersectElevationFromScreen(c(i.screenStart.x,i.screenStart.y),t,o,l),e(a)&&e(s)&&!S(a,a,s)))return null;if(r(a))return null;const u=n.sceneIntersectionHelper.intersectElevationFromScreen(c(i.screenEnd.x,i.screenEnd.y),t,o,l);return e(u)?e(s)&&!S(u,u,s)?null:{...i,mapStart:a,mapEnd:u}:null}}function P(e,r,n,t=null,o=null){return H(e,n,g(r,e,n),t,o)}function R(e,r,n,t=null,o=null){return P(e,n,y(r),t,o)}function U(r,n,t,o){const s=n.toMap(r.screenStart,{include:[t]});return e(s)?R(n,t,s,o):null}function k(e,r){const n=D,t=q,o=x.create();e.renderCoordsHelper.worldUpAtPosition(r,n);const s=f(o,n,u(t,r,e.state.camera.eye));return f(s,s,n),x.fromPositionAndNormal(r,s,o)}function h(e,r,n){let t=null;const o=new I;return o.next(C(e,k(e,r))).next(T(e,r)).next(A(e,n)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function T(e,r){const n=l(),o=i(r);e.renderCoordsHelper.worldUpAtPosition(r,n);const s=l(),c=l(),f=s=>{if(u(s,s,r),b.projectPoint(n,s,s),\"global\"===e.viewingMode){i(s)*t(d(n,s))<.001-o&&u(s,m(s,n,.001),r)}return p(s,s,r),s};return e=>(e.renderStart=f(a(s,e.renderStart)),e.renderEnd=f(a(c,e.renderEnd)),e)}function A(r,n){const t=r.renderCoordsHelper;return r=>{const o=t.fromRenderCoords(r.renderStart,n),s=t.fromRenderCoords(r.renderEnd,n);return e(o)&&e(s)?{...r,mapStart:o,mapEnd:s}:null}}function F(r){let n=null;return t=>{switch(t.action){case\"start\":n=r.disableDisplay();break;case\"end\":case\"cancel\":e(n)&&(n.remove(),n=null)}return t}}function M(t,s=null){const a=new w(t.state.mode);a.options.selectionMode=!0,a.options.store=0;const i=c(),u={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},d=l(),m=n(s,t.spatialReference),p=e=>{t.map.ground&&t.map.ground.opacity<1?u.exclude.add(v):u.exclude.delete(v),t.sceneIntersectionHelper.intersectIntersectorScreen(o(e,i),a,u);const r=a.results.min;let n;if(r.getIntersectionPoint(d))n=\"TerrainRenderer\"===r.intersector?0:1;else{if(!a.results.ground.getIntersectionPoint(d))return null;n=0}return{location:t.renderCoordsHelper.fromRenderCoords(d,m),surfaceType:n}};let f;return n=>{if(\"start\"===n.action){const r=p(n.screenStart);f=e(r)?r.location:null}if(r(f))return null;const t=p(n.screenEnd);return e(t)&&e(t.location)?{...n,mapStart:f,mapEnd:t.location,surfaceType:t.surfaceType}:null}}const D=l(),q=l(),G=j.create();export{A as convertToMapCoordinates,F as hideManipulatorWhileDragging,T as projectToWorldUp,M as screenToMap3D,P as screenToMapXYAtLocation,U as screenToMapXYForGraphic,R as screenToMapXYForGraphicAtLocation,C as screenToRenderPlane,h as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import r from\"../../../../../core/Evented.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as o}from\"../../../../../chunks/vec3.js\";import s from\"../../../../../core/Handles.js\";import{w as n,i as l,x as p,m as u,r as h,p as m}from\"../../../../../chunks/mat4.js\";import{a as c}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as d}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as f,sm4d as _}from\"../../../support/stack.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as M}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as w,dragAtLocation as v,constrainToMapAxis as j,addScreenDelta as y}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as A}from\"../dragEventPipeline3D.js\";import{Manipulator3D as I}from\"../../Manipulator3D.js\";import{colors as T}from\"../settings.js\";import{DISC_RADIUS as b,DISC_HEIGHT as x,DISC_TRANSLATE_ARROW_OFFSET as D,DISC_TRANSLATE_ARROW_SIZE as P}from\"./config.js\";import{Manipulation as k}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as E}from\"./moveUtils.js\";class S extends k{constructor(t){super(),this._handles=new s,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=b,this._updateAfterDrag=!1,this.events=new r,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles.removeAll(),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){this._arrowManipulatorInfos.map((({manipulator:a})=>t(a,1)))}createGraphicDragPipeline(a,r,e){const i=r.graphic,o=d(i),s=t(i.geometry).spatialReference;return E(r,e,(t=>this.createDragPipeline(((r,e,i,o,s)=>t(r,a(r,e,i,o,s),i)),o,s,i)))}createDragPipeline(t,r,e,i){return a(this._arrowManipulatorInfos.map((({manipulator:a},o)=>w(a,((a,s,n,l,p)=>{const u=s.next((t=>({...t,manipulatorType:1}))).next(v(this._view,a.elevationAlignedLocation)).next(A(this._view,a.elevationAlignedLocation,r,e,i)).next(j(a.location,this.angle+(o+1)*Math.PI*.5)).next(y());t(a,u,n,l,p)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/b,i=P*e,s=Math.sqrt(i*i*3/4),h=g.createExtrudedTriangle(s,i/2,i/2,x);g.transformInPlace(h,n(_.get(),o(f.get(),0,-s/3,0))),t.renderObjects=[{geometry:h,material:this._opaqueMaterial,stateMask:2},{geometry:h,material:this._transparentMaterial,stateMask:1}],t.radius=s/3*2*1.2;const m=l(_.get());p(m,r*Math.PI/2);const c=l(_.get());n(c,o(f.get(),0,D*e,0)),u(a,m,c)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=l(_.get());h(a,a,t,i(0,0,1));const r=m(_.get(),o(f.get(),this.displayScale,this.displayScale,this.displayScale)),e=l(_.get());u(e,r,a);for(const i of this._arrowManipulatorInfos){const t=u(_.get(),e,i.transform);i.manipulator.modelTransform=t}}_createArrowManipulator(t){const a=new I({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)}}),r={manipulator:a,transform:c()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(t=1){const a=e.toUnitRGBA(T.main);return a[3]*=t,new M({color:a,transparent:1!==t,cullFace:2,renderOccluded:2})}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{S as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../../chunks/vec3.js\";import r from\"../../../../../core/Handles.js\";import{p as s}from\"../../../../../chunks/mat4.js\";import{a as o}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as n}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as l,sm4d as p}from\"../../../support/stack.js\";import c from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as u}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as m,dragAtLocation as h,addScreenDelta as d}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as _}from\"../dragEventPipeline3D.js\";import{Manipulator3D as f}from\"../../Manipulator3D.js\";import{colors as g}from\"../settings.js\";import{DISC_RADIUS as M,DISC_HEIGHT as j,GEOMETRY_SEGMENTS as S,DISC_COLLISION_RADIUS as y}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as v}from\"./moveUtils.js\";import{SnapToScene as w}from\"../snapping/SnapToScene.js\";class b extends T{constructor(t){super(),this._handles=new r,this._snapToScene=new w,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=M,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(e,i,a){const r=i.graphic,s=n(r),o=t(r.geometry).spatialReference;return v(i,a,(t=>this.createDragPipeline(((i,a,r,s,o)=>t(i,e(i,a,r,s,o),r)),s,o,r)))}createDragPipeline(t,e,i,a){const r=this._view;return m(this._manipulator,((s,o,n,l,p)=>{const c=o.next(h(r,s.elevationAlignedLocation)).next(_(r,s.elevationAlignedLocation,e,i,a)).next(this._snapToScene.createDragEventPipelineStep(r,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(d());t(s,c,n,l,p)}))}_updateManipulatorTransform(){const t=s(p.get(),a(l.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new f({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=c.createCylinderGeometry(j,1,S,i(0,0,1),i(0,0,0)),e=s(o(),i(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=y*(this._radius/M)}_createMaterial(t=1){const i=e.toUnitRGBA(g.main);return i[3]*=t,new u({color:i,transparent:1!==t,cullFace:2,renderOccluded:2})}get test(){return{discManipulator:this._manipulator}}}export{b as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{c as a,f as i}from\"../../../../../chunks/vec3f64.js\";import{w as o,f as s,n,d as l,c as m,a as p}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{t as u,e as h,s as d}from\"../../../../../chunks/mat4.js\";import{darken as f}from\"../../../../../core/colorUtils.js\";import{a as M}from\"../../../../../chunks/mat4f64.js\";import _ from\"../../../webgl-engine/lib/GeometryUtil.js\";import{createManipulatorDragEventPipeline as g,addScreenDelta as y}from\"../../../../interactive/dragEventPipeline.js\";import{screenToZConstrained as j}from\"../dragEventPipeline3D.js\";import{Manipulator3D as v}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as w}from\"../../manipulatorUtils.js\";import{settings as k}from\"../settings.js\";import{DISC_RADIUS as z}from\"./config.js\";import{Manipulation as b}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as P}from\"./moveUtils.js\";class x extends b{constructor(t){super(),this._handles=new c,this._radius=z,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(e,r,a){const i=t(r.graphic.geometry).spatialReference;return P(r,a,(t=>this.createDragPipeline(((r,a,i,o,s)=>t(r,e(r,a,i,o,s),i)),i)))}createDragPipeline(t,e){const r=this._view;return g(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(j(r,a.renderLocation,e)).next(y());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const t=this._radius/z,e=k.zManipulator.height*t,r=k.zManipulator.coneHeight*t,a=k.zManipulator.coneWidth*t,o=k.zManipulator.width*t,s=[i(0,0,0),i(0,0,e)],n=_.createTubeGeometry(s,o/2,16,!1),l=_.createConeGeometry(r,a/2,16,!1),m=[i(0,0,0),i(0,0,e+r)],p=(t=>{const r=M();if(u(r,r,[0,0,e]),h(r,r,Math.PI/2),t){const e=1+2*t/a;d(r,r,[e,e,e])}return r})(0),c=(t,e)=>{const r=f(k.zManipulator.color,e);return[r.r/255,r.g/255,r.b/255,k.zManipulator.color.a*t]},g=w(c(1,.25),1),y=w(c(1,0),1),j=w(c(.7,0),k.zManipulator.renderOccluded),v=w(c(.85,0),k.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:l,transform:p,material:g,stateMask:1},{geometry:n,material:g,stateMask:1},{geometry:l,transform:p,material:y,stateMask:2},{geometry:n,material:y,stateMask:2},{geometry:l,transform:p,material:j,stateMask:1},{geometry:n,material:j,stateMask:1},{geometry:l,transform:p,material:v,stateMask:2},{geometry:n,material:v,stateMask:2}],this._manipulator.radius=o/2+2,this._manipulator.collisionType={type:\"line\",paths:[m]}}createManipulator(){const t=new v({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,a=D;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const i=o(e.eye,a),c=e.computeRenderPixelSizeAtDist(i),u=s(E,a,e.eye);n(u,u);const h=O;this._view.renderCoordsHelper.worldUpAtPosition(D,h);const d=Math.abs(l(u,h)),f=m(E,u,h),M=m(E,f,h),_=r(d,.01,1),g=1-Math.sqrt(1-_*_)/_/e.fullWidth,y=this._radius/z,j=k.zManipulator.width*y;p(M,n(M,M),(1/g-1)*i+c*j),t[12]-=E[0],t[13]-=E[1],t[14]-=E[2]},this._manipulator=t,this.updateManipulator()}}const D=a(),E=a(),O=a();export{x as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/has.js\";import{isSome as a}from\"../../../../../core/maybe.js\";import{handlesGroup as t}from\"../../../../../core/handleUtils.js\";import e from\"../../../../../core/Handles.js\";import{DISC_RADIUS_SMALL as n,DISC_RADIUS as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class h extends o{constructor(i){super(),this._handles=new e,this._angleDeferred=null,this._interactive=!0;const{tool:a,view:t,snapToScene:n,radius:s}=i;this._view=t,this.xyManipulation=new l({tool:a,view:t,snapToScene:n,radius:s}),this.xyAxisManipulation=new r({tool:a,view:t,radius:s}),this.zManipulation=new p({tool:a,view:t,radius:s}),this.xyManipulation.available=i.xyAvailable,this.xyAxisManipulation.available=i.xyAxisAvailable,this.zManipulation.available=i.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,a,e){return t([this.xyManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(0,a,t,e,n,s)),a,e),this.xyAxisManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(1,a,t,e,n,s)),a,e),this.zManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(2,a,t,e,n,s)),a,e)])}createDragPipeline(i,a,e,n){return t([this.xyManipulation.createDragPipeline(((a,t,e,n,s)=>i(0,a,t,e,n,s)),a,e,n),this.xyAxisManipulation.createDragPipeline(((a,t,e,n,s)=>i(1,a,t,e,n,s)),a,e,n),this.zManipulation.createDragPipeline(((a,t,e,n,s)=>i(2,a,t,e,n,s)),e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const t=this.xyAxisManipulation,e=this.xyManipulation;if(i(\"esri-mobile\"))return;const n=[];e.forEachManipulator((i=>n.push(i))),t.forEachManipulator((i=>n.push(i)));const s=()=>{const i=[];this.xyAxisVisible?a(this._angleDeferred)&&(this.angle=this._angleDeferred()):t.forEachManipulator((a=>i.push(a.disableDisplay()))),this._handles.remove(u),this._handles.add(i,u)};for(const i of n)this._handles.add(i.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const t=a(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!t&&t.length>0&&t.some((i=>\"icon\"===i.type))?n:s}}const u=\"disable-xy-axis-display\";export{h as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import i from\"../../../../../core/Handles.js\";import{createManipulatorDragEventPipeline as e,addMapDelta as r,addScreenDelta as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{screenToMapXYForGraphic as s}from\"../dragEventPipeline3D.js\";import{Manipulation as n}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as l}from\"./moveUtils.js\";class h extends n{constructor(t){super(),this._handles=new i,this._view=t.view,this._tool=t.tool,this._graphicState=t.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return l(this._graphicState,t,(t=>this.createDragPipeline(t)))}createDragPipeline(i){const o=this._view,n=this._graphicState.graphic,l=t(n.geometry)?n.geometry.spatialReference:null;return e(this._manipulator,((t,e,h,p,c)=>{const m=e.next(s(c,o,n,l)).next(r()).next(a());i(t,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new o({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrap as e,isSome as i,isNone as a}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as n}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import r from\"../../../../../core/Evented.js\";import l from\"../../../../../core/Collection.js\";import p from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h,getConvertedElevation as c}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as m}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{EditGeometry as u}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as d}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as g}from\"../../../../interactive/snapping/SnappingContext.js\";import{dragGraphicMany as v,resetGraphicMany as f}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingPipeline as y}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as M}from\"../../SnappingVisualizer3D.js\";import{InteractiveToolBase as w}from\"../../../../interactive/InteractiveToolBase.js\";import{getGraphicAttachmentOrigin as j}from\"../../manipulatorUtils.js\";import{isSupportedGraphic as _}from\"./isSupportedGraphic.js\";import{canMoveZ as b}from\"../manipulatorUtils.js\";import{OutlineVisualElement as x}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as E}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as S}from\"../visualElementUtils.js\";import{DISC_RADIUS as P}from\"../manipulations/config.js\";import{shapeOrientation as A}from\"../manipulations/moveUtils.js\";import{MoveManipulation as D}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as G}from\"../manipulations/MoveXYGraphicManipulation.js\";class z{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class X{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class Y{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let O=class extends(r.EventedMixin(w)){constructor(t){super(t),this.graphics=new l,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new p,this._handles=new p,this.snappingPipeline=new y}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators()}destroy(){this._handles.destroy(),this._handles=null,this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}reset(){}_refreshManipulators(){this._handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===_(t))).map((t=>new R(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this._handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new G({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this._handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this._handles.add(e.manipulationXY.createDragPipeline(((e,i,a,n)=>this.buildDragEventPipeline(t,0,e,i,a,n))))}this.createMoveManipulation(t)}createMoveManipulation(t){const i=new D({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?D.radiusForSymbol(t[0].graphic.symbol):P});this._moveManipulation=i,i.elevationInfo={mode:\"absolute-height\",offset:0},i.forEachManipulator((t=>{this._handles.add(t.events.on(\"immediate-click\",(e=>{i.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...e,graphic:this.graphics.getItemAt(0)}),e.stopPropagation()})))}));const a=()=>this.updateMoveManipulation(t);for(const e of t)this._handles.add([e.state.on(\"changed\",a),e.state.watch(\"displaying\",a)]);const n=t[t.length-1];this._handles.add(n.state.on(\"changed\",(()=>this.updateMoveManipulationAngle(n)))),this._handles.add(i.createDragPipeline(((e,i,a,n,o)=>this.buildDragEventPipeline(t,e,i,a,n,o)),h(n.graphic),e(n.graphic.geometry).spatialReference,n.graphic)),this.updateMoveManipulationAngle(n)}createVisualElements(t){for(const e of t){const i=e.graphic,a=S({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>n()});e.geometryRepresentation=a.visualElement,e.geometryRepresentation instanceof x&&this._handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this.updateMoveManipulation(t)))]),this._handles.add(a)}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>A(t.graphic.geometry)}updateMoveManipulation(t){const e=m(0,0,0,this.view.spatialReference);let a=0,n=!1;const o=this._moveManipulation;for(const s of t){if(!s.state.displaying)continue;const t=s.state.graphic;this.enableZ&&b(t)&&(n=!0);const o=s.geometryRepresentation instanceof x&&!s.state.isDraped?s.geometryRepresentation.attachmentOrigin:j(this.view,t);i(o)&&(e.x+=o.x,e.y+=o.y,e.z+=o.z,a++)}a>0?(e.x/=a,e.y/=a,e.z/=a,o.location=e,o.xyManipulation.available=!0,o.xyAxisManipulation.available=!0,o.zManipulation.available=n):o.available=!1}buildDragEventPipeline(t,e,i,a,n,o){const s=[],r=[];let l=null,p=null;const c=()=>{for(const t of s)t.dragging=!1;s.length=0,r.length=0,l=null,p=null,this._moveManipulation.interactive=!0};if(1===t.length&&0===e){const e=t[0].graphic;a=this.buildSnappingPipelineSteps(e,h(e),a,n,o)}const m=a.next((e=>{if(\"start\"===e.action){s.length=0,r.length=0;for(const e of t)e.dragging||!e.manipulationXY.hasManipulator(i)&&e.manipulationXY.grabbing||(s.push(e),r.push(e.graphic),e.dragging=!0);if(0!==r.length&&(this._moveManipulation.interactive=!1,l=v(r),p=f(r),this.emit(\"graphic-move-start\",new z(r)),this.destroyed))return null}return 0!==r.length?e:null})).next((t=>l(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,n=i.y-e.y;if(this.emit(\"graphic-move\",new X(a,n,r)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new Y(r)),this.destroyed)return null;c()}}));return n.next((t=>p(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new Y(r)),this.destroyed)return null;c()})),m}buildSnappingPipelineSteps(t,e,i,n,o){const s=t.geometry;if(a(s)||\"point\"!==s.type)return i;const r=new g({elevationInfo:e,pointer:o,geometry:new d(u.fromGeometry(s,this.view.viewingMode),\"point\"),visualizer:new M,excludeFeature:t}),l=this.snappingManager;return i.next((e=>{const i=s.clone();i.z=c(this.view,i,h(t),{mode:\"absolute-height\",offset:0});return{...e,snapOrigin:r.coordinateHelper.fromPoint(i)}})).next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:r,snappingManager:l,cancel:n}),this.snappingPipeline.next)}};t([o({constructOnly:!0,nonNullable:!0})],O.prototype,\"view\",void 0),t([o({readOnly:!0})],O.prototype,\"graphics\",void 0),t([o({constructOnly:!0,nonNullable:!0})],O.prototype,\"enableZ\",void 0),t([o({constructOnly:!0})],O.prototype,\"snappingManager\",void 0),t([o({readOnly:!0})],O.prototype,\"type\",void 0),O=t([s(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],O);class R{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new E({graphic:t})}get graphic(){return this.state.graphic}}export{X as GraphicMoveEvent,z as GraphicMoveStartEvent,Y as GraphicMoveStopEvent,O as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,destroyMaybe as i,isNone as a,unwrap as r}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{handlesGroup as o}from\"../../../../../core/handleUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import{c as p}from\"../../../../../chunks/vec3f64.js\";import{e as h,s as u,b as c,a as d}from\"../../../../../chunks/vec3.js\";import m from\"../../../../../core/Handles.js\";import{init as g}from\"../../../../../core/watchUtils.js\";import{getGraphicEffectiveElevationInfo as _}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as v}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{sv3d as M}from\"../../../support/stack.js\";import f from\"../../../webgl-engine/lib/GeometryUtil.js\";import{EditGeometry as y}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as x}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as b}from\"../../../../interactive/snapping/SnappingContext.js\";import{addMapDelta as G,createManipulatorDragEventPipeline as S,dragAtLocation as E}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingPipeline as H}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as I}from\"../../SnappingVisualizer3D.js\";import{screenToMapXYForGraphicAtLocation as O}from\"../dragEventPipeline3D.js\";import{Manipulator3D as P}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as w,createManipulatorOutlineMaterial as V,placeAtGraphic as D}from\"../../manipulatorUtils.js\";import{canMoveZ as j}from\"../manipulatorUtils.js\";import{settings as k}from\"../settings.js\";import{OutlineVisualElement as A}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as U}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as L}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as C}from\"../manipulations/config.js\";import{shapeOrientation as T}from\"../manipulations/moveUtils.js\";import{MoveManipulation as z}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as F}from\"../manipulations/MoveXYGraphicManipulation.js\";let Z=class extends l.EventedAccessor{constructor(e){super(e),this._vertexManipulatorMaterial=w(k.colorToVec4(k.reshapeManipulators.vertex.color),k.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.vertex.outlineColor),k.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.vertex.hoverOutlineColor),k.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=w(k.colorToVec4(k.reshapeManipulators.edge.color),k.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.edge.outlineColor),k.reshapeManipulators.edge.renderOccluded),this._selectedManipulatorMaterial=w(k.colorToVec4(k.reshapeManipulators.selected.color),k.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.selected.outlineColor),k.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.selected.hoverOutlineColor),k.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._handles=new m,this._manipulatorHandles=new m,this._manipulatorInfos=[],this._reshapeHelper=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._snappingPipeline=new H,this._snappingPipelineHandle=new H,this._vertexLaserLineVisualElement=null}initialize(){const e=new U({graphic:this.graphic});this._graphicState=e,this._handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._clear(),this._handles.destroy()}get inputGeometry(){return t(this._reshapeHelper)?this._reshapeHelper.geometry:null}set inputGeometry(e){this._recreateManipulators(e)}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZ(){return this.tool.enableZ}get enableMoveGraphic(){return this.tool.enableMoveGraphic}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_clear(){this._moveManipulation=i(this._moveManipulation),this._graphicMoveManipulation=i(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[],this._reshapeHelper=i(this._reshapeHelper),this._numGrabbing=0,this._numDragging=0}_recreateManipulators(e=this.inputGeometry){if(this._clear(),a(e))return;i(this._reshapeHelper),this._reshapeHelper=new q(y.fromGeometry(e,this.view.viewingMode),e.type);const t=_(this.graphic);for(const i of this._reshapeHelper.editGeometry.components){for(const e of i.vertices)this._createPerVertexManipulator(e,t);for(const e of i.edges)this._createPerVertexManipulator(e,t)}this._createGraphicMoveManipulators(t)}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;const i=[],a=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),o=1===e&&a,n=r(this._reshapeHelper);for(const l of this._manipulatorInfos)\"vertex\"===l.handle.type&&(l.manipulator.grabbing||o&&!l.manipulator.selected||(r(n).moveVertices([l.handle],t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ),i.push(l.handle.pos),this._updateManipulatorPosition(l)));if(0===i.length)return;let s=0;for(const r of this._manipulatorInfos)\"vertex\"===r.handle.type&&s++;this.outputGeometry=n.geometry;if(i.length===s){if(this._updateEventState(1),this.destroyed)return;if(this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic}),this.destroyed)return}else{if(this._updateEventState(2),this.destroyed)return;if(this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic}),this.destroyed)return}}isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)N(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const t=e.mapDeltaX,i=e.mapDeltaY,a=e.mapDeltaZ;if(!t&&!i&&!a)return;const o=[];for(const r of this._manipulatorInfos)N(r)&&(r.manipulator.selected&&!r.manipulator.grabbing||r===e.info)&&o.push(r);const n=r(this._reshapeHelper);for(const r of o)n.moveVertices([r.handle],t,i,a);this.outputGeometry=n.geometry;for(const r of o)this._updateManipulatorPosition(r);this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){this._graphicMoveManipulation=new F({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic?this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((e,t,i)=>{t.next((e=>this._trackNumDragging(e))).next((e=>{this._perGraphicManipulatorDragAction(0,e)})),i.next(this._cancelDragOperation())}))):this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null})),this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\",{...e,graphic:this.graphic}),e.stopPropagation()}))]))),this._moveManipulation=new z({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&j(this.graphic),snapToScene:!1,radius:z.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this._handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\",{...t,graphic:this.graphic}),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const i=r(this.graphic.geometry).spatialReference;this._handles.add([this._moveManipulation.createDragPipeline(((t,i,a,o,n)=>{const s=a.next((e=>this._trackNumDragging(e))).next((e=>{const t=this._manipulatorInfos.filter((e=>N(e)&&e.manipulator.selected));return 1===e.manipulatorType&&1===t.length?{...e,info:t[0],snapOrigin:t[0].handle.pos}:{...e,info:null}})).next(this._snappingPipelineHandle.createSnapDragEventPipelineStep({predicate:e=>!!e.info,cancel:o,snappingManager:this.tool.snappingManager,snappingContext:new b({geometry:r(this._reshapeHelper),elevationInfo:e,pointer:n,excludeFeature:this.graphic,visualizer:new I})}),this._snappingPipelineHandle.next).next(G()).next((e=>(this._perGraphicManipulatorDragAction(1,e),e)));return o.next(this._cancelDragOperation()),s}),e,i,this.graphic),g(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),g(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this._handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this._handles.remove(e)}))]),this._updateMoveManipulationPosition();const a=L({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){t(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});this._outlineVisualElement=a.visualElement instanceof A?a.visualElement:null,t(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(a)}_createPerVertexManipulator(e,t=_(this.graphic)){if(a(this._vertexManipulatorGeometry)||a(this._vertexManipulatorOutlineGeometry)){const e=k.reshapeManipulators.vertex,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._vertexManipulatorGeometry=f.createSphereGeometry(a,16,16);const r=(t+e.outlineSize)/i;this._vertexManipulatorOutlineGeometry=f.createSphereGeometry(r,16,16)}if(a(this._edgeManipulatorGeometry)||a(this._edgeManipulatorOutlineGeometry)){const e=k.reshapeManipulators.edge,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._edgeManipulatorGeometry=f.createSphereGeometry(a,16,16);const r=(t+e.outlineSize)/i;this._edgeManipulatorOutlineGeometry=f.createSphereGeometry(r,16,16)}const i=new P({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|W.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|W.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|W.Vertex},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|W.Edge},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|W.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|W.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|W.Edge},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(i,e,t);const n=\"edge\"===e.type?{manipulator:i,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:i,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(n),this.manipulators.add(i),this._updateManipulatorPosition(n),\"edge\"===n.type){const e=this._getManipulatorInfoFromHandle(n.handle.left).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(n))),t=this._getManipulatorInfoFromHandle(n.handle.right).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(n)));n.locationUpdateHandle=o([e,t]),this._manipulatorHandles.add(n.locationUpdateHandle,i)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(i,!0),i);const s=S(i,((e,i,a,o)=>{i.next((e=>this._trackNumDragging(e))).next((e=>{if(X(n)){const t=this._splitEdgeManipulator(n);return{...e,info:t,snapOrigin:t.handle.pos}}return{...e,info:n,snapOrigin:n.handle.pos}})).next(E(this.view,e.elevationAlignedLocation)).next(O(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference,this.graphic)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>!this.isMultiVertexSelection(),cancel:a,snappingManager:this.tool.snappingManager,snappingContext:new b({geometry:r(this._reshapeHelper),elevationInfo:t,pointer:o,excludeFeature:this.graphic,visualizer:new I})}),this._snappingPipeline.next).next(G()).next((e=>{this._perVertexManipulatorDragAction(e)})),a.next(this._cancelDragOperation())}));return this._manipulatorHandles.add(s,i),this._manipulatorHandles.add([i.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,n))),i.events.on(\"select-changed\",(()=>{n.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))]),this.emit(\"manipulators-changed\"),i}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(){const e=t(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return()=>{switch(this._numDragging--,this.inputGeometry=e,this.outputGeometry=e,t(this.tool.snappingManager)&&this.tool.snappingManager.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=W.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=k.reshapeManipulators.vertex.size/2+k.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i;break;case\"edge\":e.state=W.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=k.reshapeManipulators.edge.size/2+k.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"===i.mode?i:{mode:\"absolute-height\",offset:0}}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const i=r(this._reshapeHelper);if(\"vertex\"===e.handle.type)e.manipulator.location=i.editGeometry.coordinateHelper.toPoint(e.handle.pos,Y),e.manipulator.grabbing&&t(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const a=this._getManipulatorInfoFromHandle(e.handle.left).manipulator,r=this._getManipulatorInfoFromHandle(e.handle.right).manipulator;if(t(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const t=a.location,o=r.location,n=.5,s=t.x+n*(o.x-t.x),l=t.y+n*(o.y-t.y),p=t.hasZ&&o.hasZ?0:void 0;e.manipulator.location=v(s,l,p,i.geometry.spatialReference)}else h(K,a.renderLocation,r.renderLocation,.5),e.manipulator.renderLocation=K}}_splitEdgeManipulator(e){const t=r(this._reshapeHelper),i=r(t.splitEdge(e.handle,.5).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const a=e;a.handle=i,a.type=\"vertex\";const o=_(this.graphic);this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,o),i.left&&this._createPerVertexManipulator(i.left),i.right&&this._createPerVertexManipulator(i.right),this.outputGeometry=t.geometry,this._updateManipulatorPosition(a),this._updateSelection(e.manipulator);const n=this._updateEventState(2),s=t.editGeometry.coordinateHelper.toArray(a.handle.pos),l=t.editGeometry.components.indexOf(i.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:r(i.index)}],added:s}),n&&this._updateEventState(0),a}_updateMoveManipulationPosition(){const e=M.get();u(e,0,0,0);let i=0,o=!1,n=null,s=null;for(const t of this._manipulatorInfos)N(t)&&(t.manipulator.selected?(i++,c(e,e,t.manipulator.renderLocation),a(n)||t.selectedIndex>n.selectedIndex?(s=n,n=t):(a(s)||t.selectedIndex>s.selectedIndex)&&(s=t)):o=!0);if(0!==i){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&j(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==i}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&j(this.graphic)}if(0!==i){let e=0;if(t(n)){const i=n.handle.pos,a=t(s)?s.handle.pos:n.handle.left&&n.handle.left.left?n.handle.left.left.pos:null,r=!t(s)&&n.handle.right&&n.handle.right.right?n.handle.right.right.pos:null;a&&r?this._moveManipulation.xyAxisManipulation.available=!1:a?e=R(a,i):r&&(e=R(i,r))}this._moveManipulation.angle=e,this._moveManipulation.radius=C}else this._moveManipulation.angleDeferred=()=>T(r(this.graphic.geometry)),this._moveManipulation.radius=z.radiusForSymbol(this.graphic.symbol);0!==i&&o?(d(e,e,1/i),Y.spatialReference=r(this._reshapeHelper).geometry.spatialReference,Y.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,Y),this._moveManipulation.elevationAlignedLocation=Y):t(this._outlineVisualElement)&&!this._graphicState.isDraped&&t(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:D(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=r(this._reshapeHelper);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.right));const e=r(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createPerVertexManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.editGeometry.components.indexOf(e.component);return{coordinates:i.editGeometry.coordinateHelper.toArray(e.pos),componentIndex:t,vertexIndex:r(e.index)}}));this.outputGeometry=i.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&2===e.button&&this._removeVertices([t]),X(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function R(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function N(e){return\"vertex\"===e.handle.type}function X(e){return\"edge\"===e.handle.type}e([n({constructOnly:!0})],Z.prototype,\"tool\",void 0),e([n()],Z.prototype,\"inputGeometry\",null),e([n()],Z.prototype,\"outputGeometry\",void 0),Z=e([s(\"esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation\")],Z);const Y=v(0,0,null,null),K=p();var W;!function(e){e.Vertex=16,e.Edge=32}(W||(W={}));class q extends x{constructor(e,t){super(e,t),this.type=t,this._geometry=null}get geometry(){if(this._dirty){switch(this.type){case\"polyline\":this._geometry=this.editGeometry.toPolyline();break;case\"polygon\":this._geometry=this.editGeometry.toPolygon()}this._dirty=!1}return this._geometry}}export{q as ReshapeGeometryHelper,Z as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{destroyMaybe as t,isSome as r,isNone as o}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import a from\"../../../../../core/Evented.js\";import p from\"../../../../../core/Handles.js\";import{init as n}from\"../../../../../core/watchUtils.js\";import{InteractiveToolBase as h}from\"../../../../interactive/InteractiveToolBase.js\";import{isSupportedGraphic as c}from\"./isSupportedGraphic.js\";import{ReshapeOperation as l}from\"./ReshapeOperation.js\";let m=class extends(a.EventedMixin(h)){constructor(e){super(e),this._handles=new p,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZ=!0,this.enableMoveGraphic=!0,this.type=\"reshape-3d\",this.snappingManager=null}destroy(){this._handles.removeAll(),this._reshapeOperation=t(this._reshapeOperation),this._set(\"view\",null),this._set(\"graphic\",null)}get selectionManagementDisabled(){return!0}_updateGeometry(){const e=this.graphic.geometry;0!==c(this.graphic)||!r(e)||\"polygon\"!==e.type&&\"polyline\"!==e.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=e.clone()}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),0!==c(this.graphic))return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_onReshapeGeometryChanged(){o(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)}initialize(){this._reshapeOperation=new l({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(e=>this.emit(\"immediate-click\",e))),n(this,\"graphic\",(()=>{this._updateGraphic()}),!0)])}beforeUndo(){r(this.snappingManager)&&this.snappingManager.doneSnapping()}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}get test(){return{snappingManager:this.snappingManager}}};e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"view\",void 0),e([i({constructOnly:!0})],m.prototype,\"graphic\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableZ\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableMoveGraphic\",void 0),e([i({readOnly:!0})],m.prototype,\"type\",void 0),e([i({constructOnly:!0})],m.prototype,\"snappingManager\",void 0),m=e([s(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],m);export{m as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../../core/maybe.js\";import{addFrameTask as a}from\"../../../../../core/scheduling.js\";import i from\"../../../../../core/Evented.js\";import{clamp as o,rad2deg as s}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray as r,createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{b as l,f as c,c as h}from\"../../../../../chunks/vec3f64.js\";import{a as g}from\"../../../../../chunks/common.js\";import{s as d,f as u,l as m,h as p,c as f,b as D}from\"../../../../../chunks/vec3.js\";import{cyclicalPI as M}from\"../../../support/mathUtils.js\";import S from\"../../../../../core/Handles.js\";import{init as y}from\"../../../../../core/watchUtils.js\";import{i as b,r as R,p as v,m as k,s as w}from\"../../../../../chunks/mat4.js\";import{a as _}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as j}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as A,sm4d as F}from\"../../../support/stack.js\";import{plane as I,ray as E}from\"../../../support/geometryUtils.js\";import P from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as L}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as T,resetSymbol as U}from\"../../../../interactive/dragEventPipeline.js\";import{screenToRenderPlane as x}from\"../dragEventPipeline3D.js\";import{Manipulator3D as O}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as z,placeAtGraphic as C}from\"../../manipulatorUtils.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as N,SCALE_INDICATOR_DIRECTION_BUFFER as Z,RING_HEIGHT as G,ROTATE_INDICATOR_ARROW_TIP_LENGTH as H,ROTATE_INDICATOR_ARROW_TIP_RADIUS as V,RING_THICKNESS as q,DRAG_THRESHOLD_PX as B,RING_RESET_ANIMATION_SPEED_FACTOR as J,RING_INDICATOR_DELAY_MS as K,INDICATOR_THICKNESS as Q,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as W,HANDLE_COLOR as X,RING_RADIUS as Y,ROTATE_INDICATOR_ARC_LENGTH as $,INNER_INDICATOR_RADIUS as tt,OUTER_INDICATOR_RADIUS as et,SCALE_INDICATOR_OFFSET1 as at,SCALE_INDICATOR_OFFSET2 as it,GEOMETRY_SEGMENTS as ot,SCALE_INDICATOR_ARC_LENGTH as st}from\"../manipulations/config.js\";var rt;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(rt||(rt={}));class nt{constructor(e){this.mode=null,this._handles=new S,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new i,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>t(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this._scaleRotateDragData.scale:1,this.tool=e.tool,this.mode=e.mode,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}destroy(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles.removeAll(),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=a({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)}forEachManipulator(t){t(this.ringManipulator,4)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const a=this.ringManipulator,i=this.tool.graphicState.graphic,r=T(a,((a,r,n)=>{this._scaleRotateDragData=null;const c=ct(this.tool.view,i);if(e(c))return this.updateDragState(),null;const h={mode:\"none\",origin:l(a.renderLocation),angle:0,startAngle:this.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,startSymbolData:c};this._scaleRotateDragData=h,this.updateDragState();const g=A.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(a.renderLocation,g),r.next(x(this.tool.view,I.fromPositionAndNormal(a.renderLocation,g))).next((e=>{const a=I.normal(e.plane),r=z(e.renderStart,e.renderEnd,h.origin,a),n=M.shortestSignedDiff(h.angle,r);h.angleDir=o(h.angleDir+n,-N,N),h.angle=r;const l=lt(h,e),c=l-h.scale;if(h.scaleDir=o(h.scaleDir+c,-Z,Z),h.scale=l,this.onScaleChanged(),\"none\"===h.mode){const a=this.mode||ht(e,e.plane,h.origin,this.tool.view.state.camera);if(t(a)){switch(a){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:i,angle:s(h.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:i,xScale:h.scale,yScale:h.scale})}h.mode=a}}if(this.updateDragState(),t(i.symbol)){const t=i.symbol.clone();let e=0,a=1;switch(h.mode){default:case\"none\":break;case\"scale\":a=h.scale;break;case\"rotate\":e=h.angle}this.applySymbolData(t,h.startSymbolData,e,a),i.symbol=t,this.updateManipulatorTransform()}switch(e.action){case\"start\":case\"update\":switch(h.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:i,angle:s(h.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:i,xScale:h.scale,yScale:h.scale})}break;case\"end\":switch(h.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:s(h.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,xScale:h.scale,yScale:h.scale});break;default:case\"none\":}}\"end\"===e.action&&(this.startAnimation(dt(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),n.next(U(i)).next((()=>{if(t(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:s(this._scaleRotateDragData.startAngle)});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,xScale:1,yScale:1})}this.startAnimation(dt(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null}}))}));this._handles.add(r),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(ut(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),y(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t)),this.tool.graphicState.on(\"changed\",(()=>C(this.tool.view,this.ringManipulator,i)))]),C(this.tool.view,this.ringManipulator,i)}onScaleChanged(){this.events.emit(\"scale-changed\"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(rt.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(rt.Unlocked,!(t(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),t(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut,!1),this.ringManipulator.updateStateEnabled(rt.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(rt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(rt.RotateLeft|rt.RotateRight,!1),this.ringManipulator.updateStateEnabled(rt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(rt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut|rt.RotateLeft|rt.RotateRight,!1)}updateManipulatorTransform(){const t=b(F.get()),e=this.tool.symbolRotationAngle;R(t,t,e,c(0,0,1));const a=this.getScale(),i=v(F.get(),d(A.get(),a,a,a)),o=b(F.get());k(o,i,t),this.ringManipulator.modelTransform=o}createRingManipulator(){const t=(t,e,a)=>{const i=[],o=Math.ceil(ot*(e-t)/(2*Math.PI));for(let s=0;s<o+1;s++){const r=t+s*(e-t)/o;i.push(c(a*Math.cos(r),a*Math.sin(r),0))}return i},e=e=>t(0,2*Math.PI,e),a=t=>[[-t/2,0],[t/2,0],[t/2,G/2],[-t/2,G/2]],i=(t,e)=>P.createPathExtrusionGeometry(a(e),t,[],[],!1),o=e(Y),s=i(o,q),r={left:[],right:[]},n=[];for(let c=0;c<2;c++){const e=c*Math.PI-Math.PI/4,a=Math.PI/2-$,o=e+a,s=e+Math.PI/2-a,l=t(o,s,tt),h=i(l,Q);n.push(l),n.push(t(o,s,et-q/2)),r.left.push(h),r.right.push(h);for(let t=0;t<2;t++){const e=0===t,a=_();if(e){w(a,a,[1,-1,1]),R(a,a,-o,[0,0,1]);const t=Math.round(W*(l.length-1));a[12]=l[t][0],a[13]=l[t][1],a[14]=l[t][2]}else{R(a,a,s,[0,0,1]);const t=Math.round((1-W)*(l.length-1));a[12]=l[t][0],a[13]=l[t][1],a[14]=l[t][2]}const i=P.createExtrudedTriangle(H,0,V,G);P.transformInPlace(i,a),(e?r.left:r.right).push(i)}}const l=[];for(let c=0;c<2;c++){const e=c*Math.PI-Math.PI/4,a=Math.PI/2-st,o=e+a,s=e+Math.PI/2-a,r=t(o,s,et);l.push(i(r,Q))}const h=e(Y+at),g=e(Y+it),d=i(h,Q),u=i(g,Q),m=e(Y-at),p=e(Y-it),f=i(m,Q),D=i(p,Q),M=this.createMaterial(),S=this.createMaterial(.66),y=this.createMaterial(.5),b=this.createMaterial(.33);let v=[{geometry:s,material:M,stateMask:rt.DelayedFocused},{geometry:s,material:y,stateMask:0}];this.mode&&\"scale\"!==this.mode||(v=v.concat([{geometry:l,material:M,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:d,material:S,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:u,material:b,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:f,material:S,stateMask:rt.DelayedFocused|rt.ScaleOut},{geometry:D,material:b,stateMask:rt.DelayedFocused|rt.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(v=v.concat([{geometry:r.right,material:M,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:r.left,material:M,stateMask:rt.DelayedFocused|rt.RotateLeft},{geometry:r.right,material:M,stateMask:rt.DelayedFocused|rt.RotateRight}]));const k=[o,...n];return new O({view:this.tool.view,renderObjects:v,autoScaleRenderObjects:!1,worldOriented:!0,radius:q,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:j(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:k,direction:c(0,0,1)}})}createMaterial(t=1){const e=[...X,t];return new L({color:e,transparent:1!==t,cullFace:2,renderOccluded:2})}applySymbolData(e,a,i,o){e.symbolLayers.forEach(((e,s)=>{const{heading:r,size:n}=a.symbolLayers[s];\"object\"===e.type&&(e.heading=(t(r)?r:0)-g(i),t(n)&&\"width\"in n&&(n.width=this.enforceNonZeroSize(n.width),n.height=this.enforceNonZeroSize(n.height),n.depth=this.enforceNonZeroSize(n.depth),e.width=n.width*o,e.depth=n.depth*o,e.height=n.height*o))}))}enforceNonZeroSize(t){return t||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)}get test(){return{ringManipulator:this.ringManipulator}}}function lt(t,e){const a=u(A.get(),e.renderStart,t.origin),i=u(A.get(),e.renderEnd,t.origin),o=m(a),s=m(i);return 0===o?0:s/o}function ct(t,a){const i=t.allLayerViews.find((t=>t.layer===a.layer));if(e(a.symbol))return null;const o=a.symbol;return{symbolLayers:o.symbolLayers.map((t=>{let e=null,a=null;return\"object\"===t.type&&(e=t.heading),a=i.getSymbolLayerSize(o,t),{heading:e,size:a}})).toArray()}}function ht(t,e,a,i){const{renderStart:o,renderEnd:s}=t,r=gt(o,i,A.get()),n=gt(s,i,A.get());if(p(r,n)<B*B)return null;const l=u(A.get(),o,a),c=f(A.get(),l,e),h=o,g=D(A.get(),h,c),d=gt(a,i,A.get()),m=r,M=gt(g,i,A.get()),S=u(A.get(),M,m),y=u(A.get(),r,d),b=E.wrap(m,S),R=E.wrap(d,y);return E.distance2(b,n)<E.distance2(R,n)?\"rotate\":\"scale\"}function gt(t,e,a){const i=e.projectToRenderScreen(t,r(mt)),o=e.renderToScreen(i,pt);return d(a,o[0],o[1],0)}function dt(t,e){let a=null,i=1;const o=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=o,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*J,1),e(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=a,e()}}}function ut(t,e){let a=0,i=null;const o=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=o,a=0,e()},update:t=>(a+=t,!i()||a>K?1:0),destroy:()=>{t.getFocused=i,e()}}}const mt=h(),pt=n();export{nt as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as i,destroyMaybe as e,isNone as a}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as o}from\"../../../../../core/handleUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import r from\"../../../../../core/Evented.js\";import{t as l}from\"../../../../../chunks/common.js\";import p from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{EditGeometry as c}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as m}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as u}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as g}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as d}from\"../../SnappingVisualizer3D.js\";import{InteractiveToolBase as v}from\"../../../../interactive/InteractiveToolBase.js\";import{placeAtGraphic as y}from\"../../manipulatorUtils.js\";import{canMoveZ as M}from\"../manipulatorUtils.js\";import{GraphicState as f}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as S}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as b}from\"../manipulations/config.js\";import{MoveManipulation as j}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as w}from\"./GraphicScaleRotateTransform.js\";let R=class extends(r.EventedMixin(v)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.handles=new p,this.scaleRotate=null,this.snappingPipeline=new g}initialize(){this.graphicState=new f({graphic:this.graphic}),this.moveManipulation=new j({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&M(this.graphic),radius:j.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>t.stopPropagation()))))),this.moveManipulation.elevationInfo=h(this.graphic);const t=this.graphic.geometry;if(this.moveManipulation.createGraphicDragPipeline(((e,a,o,n,s)=>(i(t)&&\"point\"===t.type&&0===e&&(o=o.next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:new u({elevationInfo:h(this.graphic),pointer:s,geometry:new m(c.fromGeometry(t,this.view.viewingMode),\"point\"),visualizer:new d,excludeFeature:this.graphic}),snappingManager:this.snappingManager,cancel:n}),this.snappingPipeline.next)),o)),this.graphicState,(t=>{const{action:i,graphic:e,dxScreen:a,dyScreen:o}=t,n={graphic:e,dxScreen:a,dyScreen:o};switch(i){case\"start\":this.emit(\"graphic-translate-start\",n);break;case\"update\":this.emit(\"graphic-translate\",n);break;case\"end\":this.emit(\"graphic-translate-stop\",n)}})),this.moveManipulation.angle=this.symbolRotationAngle,this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new w({tool:this,mode:t}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this.onScaleChanged())))}this.handles.add([S({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>o()}),this.graphic.watch(\"symbol\",(()=>this.updateMoveAngle())),this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged()}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),i(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((i=>i.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&M(this.graphic)}))}destroy(){this.handles.destroy(),this.moveManipulation.destroy(),this.scaleRotate=e(this.scaleRotate),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get symbolRotationAngle(){const t=this.graphic.symbol;if(t){const i=t.symbolLayers.find((t=>\"object\"===t.type)),e=i&&i.heading||0;return l(-e)}return 0}reset(){}onDetach(){i(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){i(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(a(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){\"local\"===this.view.viewingMode||this.view.scale<b?this.moveManipulation.angle=this.symbolRotationAngle:this.moveManipulation.angle=0}onGeometryChanged(){y(this.view,this.moveManipulation,this.graphic)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:i(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([n({constructOnly:!0,nonNullable:!0})],R.prototype,\"view\",void 0),t([n({constructOnly:!0,nonNullable:!0})],R.prototype,\"graphic\",void 0),t([n({constructOnly:!0,nonNullable:!0})],R.prototype,\"enableZ\",void 0),t([n()],R.prototype,\"enableRotation\",void 0),t([n()],R.prototype,\"enableScaling\",void 0),t([n({value:!1})],R.prototype,\"snapToScene\",null),t([n({constructOnly:!0})],R.prototype,\"snappingManager\",void 0),t([n({readOnly:!0})],R.prototype,\"type\",void 0),R=t([s(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],R);export{R as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t,unwrap as i}from\"../../../../core/maybe.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as l}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as p}from\"../lib/DefaultVertexAttributeLocations.js\";import n from\"../../../webgl/Program.js\";import{separateBlendingParams as a,makePipelineState as u,defaultColorWriteParams as d,defaultDepthWriteParams as h}from\"../../../webgl/renderState.js\";import{View as c}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as m}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as f}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{depthCompareLess as g,stencilWriteMaskOn as b,stencilToolMaskBaseParams as x,stencilBaseAllZerosParams as P}from\"../lib/StencilUtils.js\";import{N as E}from\"../../../../chunks/NativeLine.glsl.js\";class T extends s{constructor(e,t){super(e,t),this.stipplePattern=null,this.stippleTextureBind=null,this.stippleTextureRepository=e.stippleTextureRepository}initializeProgram(e){const t=T.shader.get(),i=this.configuration,r=t.build({output:i.output,attributeColor:i.vertexColors,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,stippleEnabled:i.stippleEnabled,stippleOffColorEnabled:i.stippleOffColorEnabled,stippleUVMaxEnabled:!1,stippleIntegerRepeatsEnabled:i.stippleIntegerRepeatsEnabled});return new n(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),p)}dispose(){super.dispose(),this.stippleTextureRepository.release(this.stipplePattern),this.stipplePattern=null,this.stippleTextureBind=null}bindPass(e,r,s){if(c.bindProjectionMatrix(this.program,s.camera.projectionMatrix),this.stipplePattern!==r.stipplePattern){const e=r.stipplePattern;this.stippleTextureBind=this.stippleTextureRepository.swap(this.stipplePattern,e),this.stipplePattern=e}if(this.configuration.stippleEnabled){const i=t(this.stippleTextureBind)?this.stippleTextureBind(e,0)*s.camera.pixelRatio:1;this.program.setUniform1i(\"stipplePatternTexture\",0),this.program.setUniform1f(\"stipplePatternPixelSizeInv\",1/i),this.program.setUniform2f(\"ndcToPixel\",s.camera.fullViewport[2]/2,s.camera.fullViewport[3]/2)}if(this.program.setUniform4fv(\"constantColor\",r.color),this.program.setUniform1f(\"alphaCoverage\",Math.min(1,r.width*s.camera.pixelRatio)),this.configuration.stippleOffColorEnabled){const e=i(r.stippleOffColor);this.program.setUniform4f(\"stippleOffColor\",e[0],e[1],e[2],e.length>3?e[3]:1)}4===this.configuration.output&&f.bindOutputHighlight(e,this.program,s)}bindDraw(e){c.bindView(this.program,e),m.bindUniformsWithOrigin(this.program,this.configuration,e)}initializePipeline(){const e=this.configuration,t=a(770,1,771,771),i=(t,i=null,r=null)=>u({blending:i,depthTest:g,depthWrite:r,colorWrite:d,stencilWrite:e.sceneHasOcludees?b:null,stencilTest:e.sceneHasOcludees?t?x:P:null});return 0===e.output?(this._occludeePipelineState=i(!0,e.transparent||e.stippleEnabled?t:null,h),i(!1,e.transparent||e.stippleEnabled?t:null,h)):i(!1)}get primitiveType(){return 1}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}T.shader=new r(E,(()=>import(\"./NativeLine.glsl.js\")));class v extends o{constructor(){super(...arguments),this.output=0,this.slicePlaneEnabled=!1,this.vertexColors=!1,this.transparent=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stippleIntegerRepeatsEnabled=!1,this.sceneHasOcludees=!1}}e([l({count:8})],v.prototype,\"output\",void 0),e([l()],v.prototype,\"slicePlaneEnabled\",void 0),e([l()],v.prototype,\"vertexColors\",void 0),e([l()],v.prototype,\"transparent\",void 0),e([l()],v.prototype,\"stippleEnabled\",void 0),e([l()],v.prototype,\"stippleOffColorEnabled\",void 0),e([l()],v.prototype,\"stippleIntegerRepeatsEnabled\",void 0),e([l()],v.prototype,\"sceneHasOcludees\",void 0);export{T as NativeLineTechnique,v as NativeLineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import s from\"../../../../core/Logger.js\";import{createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as n,f as o,d as a,a as c,b as u,g as l,l as p,k as m}from\"../../../../chunks/vec3.js\";import{c as f}from\"../../../../chunks/vec2.js\";import{BufferViewVec3f as h}from\"../../support/buffer/BufferView.js\";import{plane as d,lineSegment as g}from\"../../support/geometryUtils.js\";import{isTranslationMatrix as P}from\"../lib/Util.js\";import{computeAttachmentOriginLines as b}from\"../lib/geometryDataUtils.js\";import{isInstanceHidden as j}from\"./renderers/utils.js\";import q from\"../lib/GLMaterial.js\";import{intersectDrapedRenderLineGeometry as v}from\"./internal/MaterialUtil.js\";import{Material as C,materialParametersDefaults as x}from\"../lib/Material.js\";import{writeDefaultAttributes as y}from\"./internal/bufferWriterUtils.js\";import{PositionColorLayout as L,PositionLayout as O,DefaultBufferWriter as w}from\"./internal/DefaultBufferWriter.js\";import{NativeLineTechniqueConfiguration as D,NativeLineTechnique as S}from\"../shaders/NativeLineTechnique.js\";const A=s.getLogger(\"esri.views.3d.webgl-engine.materials.NativeLineMaterial\");class B extends C{constructor(e){super(e,T),this.techniqueConfig=new D}getTechniqueConfig(t){this.techniqueConfig.output=t,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.vertexColors=this.params.vertexColors,this.techniqueConfig.transparent=this.params.color[3]<1||this.params.width<1;const s=e(this.params.stipplePattern);return this.techniqueConfig.stippleEnabled=s,this.techniqueConfig.stippleOffColorEnabled=s&&e(this.params.stippleOffColor),this.techniqueConfig.stippleIntegerRepeatsEnabled=s&&this.params.stippleIntegerRepeats,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,t,s,r,i,n,o,a,c){c?v(e,r,n,1,o):this.intersectLineGeometry(e,t,s,r,o)}intersectLineGeometry(e,t,s,r,i){if(!r.options.selectionMode||j(t))return;if(!P(s))return void A.error(\"intersection assumes a translation-only matrix\");const h=e.vertexAttributes.get(\"position\").data,b=r.camera,q=F;f(q,r.point);const v=2;n(X[0],q[0]-v,q[1]+v,0),n(X[1],q[0]+v,q[1]+v,0),n(X[2],q[0]+v,q[1]-v,0),n(X[3],q[0]-v,q[1]-v,0);for(let n=0;n<4;n++)if(!b.unprojectFromRenderScreen(X[n],z[n]))return;d.fromPoints(b.eye,z[0],z[1],J),d.fromPoints(b.eye,z[1],z[2],K),d.fromPoints(b.eye,z[2],z[3],Q),d.fromPoints(b.eye,z[3],z[0],Y);let C=Number.MAX_VALUE;for(let n=0;n<h.length-5;n+=3){if(M[0]=h[n]+s[12],M[1]=h[n+1]+s[13],M[2]=h[n+2]+s[14],U[0]=h[n+3]+s[12],U[1]=h[n+4]+s[13],U[2]=h[n+5]+s[14],d.signedDistance(J,M)<0&&d.signedDistance(J,U)<0||d.signedDistance(K,M)<0&&d.signedDistance(K,U)<0||d.signedDistance(Q,M)<0&&d.signedDistance(Q,U)<0||d.signedDistance(Y,M)<0&&d.signedDistance(Y,U)<0)continue;if(b.projectToRenderScreen(M,G),b.projectToRenderScreen(U,N),G[2]<0&&N[2]>0){o(H,M,U);const e=b.frustum,t=-d.signedDistance(e[4],M)/a(H,d.normal(e[4]));c(H,H,t),u(M,M,H),b.projectToRenderScreen(M,G)}else if(G[2]>0&&N[2]<0){o(H,U,M);const e=b.frustum,t=-d.signedDistance(e[4],U)/a(H,d.normal(e[4]));c(H,H,t),u(U,U,H),b.projectToRenderScreen(U,N)}else if(G[2]<0&&N[2]<0)continue;G[2]=0,N[2]=0;const e=g.distance2(g.fromPoints(G,N,I),q);e<C&&(C=e,l(V,M),l(_,U))}const x=r.rayBeginPoint,y=r.rayEndPoint;if(C<v*v){let e=Number.MAX_VALUE;if(g.closestLineSegmentPoint(g.fromPoints(V,_,I),g.fromPoints(x,y,W),k)){o(k,k,x);const t=p(k);c(k,k,1/t),e=t/m(x,y)}i(e,k)}}computeAttachmentOrigin(e,t){const s=e.vertexAttributes;if(!s)return!1;const r=s.get(\"position\");return b(r,null,!1,t)}createBufferWriter(){const e=this.params.vertexColors?L:O;return t(this.params.stipplePattern)?new w(e):new R(e.clone().vec3f(\"auxpos1\"))}getGLMaterial(e){return 0===e.output||4===e.output?new E(e):void 0}}class E extends q{constructor(e){super(e),this.updateParameters()}updateParameters(){this.technique=this.techniqueRep.acquireAndReleaseExisting(S,this.material.getTechniqueConfig(this.output),this.technique)}beginSlot(e){return 3===e}_updateOccludeeState(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&(this.material.setParameterValues({sceneHasOcludees:e.hasOccludees}),this.updateParameters())}ensureParameters(e){0===this.output&&this._updateOccludeeState(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}getPipelineState(e,t){return this.technique.getPipelineState(t)}}class R{constructor(e){this.vertexBufferLayout=e}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,s,r){y(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,s,r),this.writeAuxpos1(e,t,s,r)}writeAuxpos1(e,t,s,r){const i=s.getField(\"auxpos1\",h),n=t.indices.get(\"position\"),o=t.vertexAttributes.get(\"position\").data,a=e.transformation,c=i.typedBufferStride,u=i.typedBuffer;r*=c;for(let l=0;l<n.length;l+=2){const e=3*n[l],t=o[e],s=o[e+1],i=o[e+2],p=a[0]*t+a[4]*s+a[8]*i+a[12],m=a[1]*t+a[5]*s+a[9]*i+a[13],f=a[2]*t+a[6]*s+a[10]*i+a[14];for(let n=0;n<2;++n)u[r]=p,u[r+1]=m,u[r+2]=f,r+=c}}}const T={color:[1,1,1,1],vertexColors:!1,slicePlaneEnabled:!1,width:1,stipplePattern:null,stippleIntegerRepeats:!1,stippleOffColor:null,sceneHasOcludees:!1,...x},M=i(),U=i(),H=i(),k=i(),G=r(),N=r(),V=i(),_=i(),I=g.create(),W=g.create(),F=i(),X=[r(),r(),r(),r()],z=[i(),i(),i(),i()],J=d.create(),K=d.create(),Q=d.create(),Y=d.create();export{B as NativeLineMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{Z as r,c as s}from\"../../../../chunks/vec3f64.js\";import{s as i}from\"../../../../chunks/vec3.js\";import{i as o,t as n}from\"../../../../chunks/mat4.js\";import{a as l}from\"../../../../chunks/mat4f64.js\";import{g as a,c as h}from\"../../../../chunks/vec4.js\";import{f as p,c as d,a as f}from\"../../../../chunks/vec4f32.js\";import{RibbonLineMaterial as _}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createGeometry as c}from\"../../layers/graphics/lineUtils.js\";import{Object3DVisualElement as m}from\"./Object3DVisualElement.js\";class u extends m{constructor(e){super(e),this._renderOccluded=4,this._width=1,this._color=p(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stippleIntegerRepeats=!1,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromExtent(e){const t=this.view.spatialReference,r=s(),o=s(),n=100,l=[];i(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[2],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[2],e[3],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[0],e[3],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),this.geometry=[l]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;o(g),n(g,g,t),this.transform=g;const{points:r}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[r]}setGeometryFromSegments(e,t=r){o(g),n(g,g,t),this.transform=g,this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){a(e,this._color)||(h(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(r){e(r)?!t(this._innerColor)&&a(r,this._innerColor)||(this._innerColor=h(d(),r),this._updateMaterial()):e(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!a(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?f(r):null,this._updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){this._stippleIntegerRepeats!==e&&(this._stippleIntegerRepeats=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new _(this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const s=c(t[r]);e.addGeometry(s,this._material)}}forEachExternalMaterial(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,stippleIntegerRepeats:this._stippleIntegerRepeats,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameterValues(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(t(e)||0===e.length)return[];const r=[];return e.forEach((e=>{const t=e.length,s=new Float64Array(3*t);e.forEach(((e,t)=>{s[3*t+0]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const i={attributeData:{position:s},removeDuplicateStartEnd:0};r.push(i)})),r}}const g=l();export{u as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport o from\"../../../../../core/has.js\";import{deg2rad as t}from\"../../../../../core/mathUtils.js\";const r=o(\"mac\")?\"Meta\":\"Control\",s=\"Shift\",a=2,c=1.15,m=1.15,h=1.1,e=2500,i=.02,f=Math.cos(t(45)),p=Math.cos(t(5)),M=.95,j=.3,l=.7,n=[1,.5,0],x=2,C=1,S=[...n,l],U=[0,0,0,.04],b=[...n,.5],d=[...n,1],g=[1,1,1,1],k=[1,.8,.6,1],q=[1,.93,.86,1],u=[...n,1],v=[...n,1],w=3,y=11,z=22.5,A=40,B=48,D=2.25,E=4,F=1,G=.3,H=6,I=4,J=12,K=40,L=27,N=1600,O=.4;export{a as DISPLAY_FOCUS_MULTIPLIER,b as GRID_COLOR,n as HANDLE_COLOR,l as HANDLE_OPACITY,i as INITIAL_DEPTH_OFFSET_FRAC,O as INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION,U as PLANE_BACKGROUND_COLOR,N as PLANE_MIN_BASIS_SCREEN_LEN2,S as PLANE_OUTLINE_COLOR,C as PLANE_OUTLINE_WIDTH,x as PLANE_PREVIEW_OUTLINE_WIDTH,e as POINTER_MOVE_TIMER_MS,M as PREVIEW_FADE_DOT_THRESHOLD,j as PREVIEW_FADE_DURATION_SECONDS,H as RESIZE_HANDLE_CORNER_INPUT_RADIUS,E as RESIZE_HANDLE_CORNER_WIDTH,I as RESIZE_HANDLE_EDGE_INPUT_RADIUS,G as RESIZE_HANDLE_EDGE_PADDING_FRAC,F as RESIZE_HANDLE_EDGE_WIDTH,d as ROTATE_HEADING_CALLOUT_COLOR,L as ROTATE_HEADING_DISC_RADIUS,h as ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER,K as ROTATE_HEADING_OFFSET_DISTANCE,J as ROTATE_HEADING_TIP_LENGTH,k as SHIFT_RESTART_ARROW_CAP_COLOR,B as SHIFT_RESTART_ARROW_LENGTH,D as SHIFT_RESTART_ARROW_OUTLINE_WIDTH,g as SHIFT_RESTART_ARROW_TIP_COLOR,u as SHIFT_RESTART_CALLOUT_COLOR,A as SHIFT_RESTART_OFFSET_DISTANCE,v as SHIFT_RESTART_OUTLINE_COLOR,m as SHIFT_RESTART_TIP_FOCUS_MULTIPLIER,z as SHIFT_RESTART_TIP_LENGTH,y as SHIFT_RESTART_TIP_RADIUS,q as SHIFT_RESTART_TUBE_COLOR,c as SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER,w as SHIFT_RESTART_TUBE_RADIUS,p as SMALL_ANGLE_DOT_THRESHOLD,f as VERTICAL_DOT_THRESHOLD,r as forceHorizontalModifier,s as forceVerticalModifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import o from\"../../../webgl/Program.js\";import{makePipelineState as t,separateBlendingParams as a,defaultColorWriteParams as n}from\"../../../webgl/renderState.js\";import{View as s}from\"../core/shaderLibrary/util/View.glsl.js\";import{S as l}from\"../../../../chunks/SlicePlaneMaterial.glsl.js\";class m extends e{initializeProgram(r){const e=m.shader.get().build();return new o(r.rctx,e.generateSource(\"vertex\"),e.generateSource(\"fragment\"),i)}bindPass(r,e,i){s.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"backgroundColor\",e.backgroundColor),this.program.setUniform4fv(\"gridColor\",e.gridColor),this.program.setUniform1f(\"gridWidth\",e.gridWidth)}bindDraw(r){s.bindView(this.program,r)}initializePipeline(){return t({blending:a(1,1,771,771),depthTest:{func:513},colorWrite:n})}}m.shader=new r(l,(()=>import(\"./SlicePlaneMaterial.glsl.js\")));export{m as SlicePlaneMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{autoDispose as t}from\"../lib/AutoDisposable.js\";import e from\"../lib/GLMaterial.js\";import{intersectTriangleGeometry as i}from\"./internal/MaterialUtil.js\";import{Material as o,materialParametersDefaults as s}from\"../lib/Material.js\";import{DefaultBufferWriter as a,PositionUVLayout as n}from\"./internal/DefaultBufferWriter.js\";import{SlicePlaneMaterialTechnique as u}from\"../shaders/SlicePlaneMaterialTechnique.js\";class l extends o{constructor(r){super(r,m)}intersect(r,t,e,o,s,a,n){return i(r,t,o,s,a,void 0,n)}createBufferWriter(){return new a(n)}getGLMaterial(r){return 0===r.output?new c(r):void 0}}class c extends e{constructor(r){super(r),this.technique=new u(this.techniqueRep.constructionContext,null),this.updateParameters()}updateParameters(){}beginSlot(r){return 8===r}bind(r,t){r.bindProgram(this.technique.program),this.technique.bindPass(r,this.material.params,t)}}r([t()],c.prototype,\"technique\",void 0);const m={backgroundColor:[1,0,0,.5],gridColor:[0,1,0,.5],gridWidth:4,...s};export{l as SlicePlaneMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../../../../core/maybe.js\";import{c as e}from\"../../../../chunks/vec4.js\";import{f as t}from\"../../../../chunks/vec4f32.js\";import i from\"../../webgl-engine/lib/GeometryUtil.js\";import{Object3DVisualElement as a}from\"./Object3DVisualElement.js\";import{SlicePlaneMaterial as s}from\"../../webgl-engine/materials/SlicePlaneMaterial.js\";class d extends a{constructor(r){super(r),this._material=null,this._renderOccluded=4,this._gridWidth=1,this._gridColor=t(1,0,0,1),this._backgroundColor=t(1,0,0,1),this.applyProps(r)}get renderOccluded(){return this._renderOccluded}set renderOccluded(r){r!==this._renderOccluded&&(this._renderOccluded=r,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(r){this._gridWidth!==r&&(this._gridWidth=r,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(r){e(this._gridColor,r),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(r){e(this._backgroundColor,r),this._updateMaterial()}createExternalResources(){this._material=new s(this.materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){r(this._material)&&e(this._material)}createGeometries(e){if(r(this._material)){const r=i.createSquareGeometry();e.addGeometry(r,this._material)}}get materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}_updateMaterial(){r(this._material)&&this._material.setParameterValues(this.materialParameters)}}export{d as SlicePlaneVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../lib/DefaultVertexAttributeLocations.js\";import o from\"../../../webgl/Program.js\";import{makePipelineState as n,defaultDepthWriteParams as l,defaultColorWriteParams as p,simpleBlendingParams as c}from\"../../../webgl/renderState.js\";import{View as u}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as d}from\"../core/shaderLibrary/Slice.glsl.js\";import{OITBlending as h,OITDepthTest as m,OITDepthWrite as f,getOITPolygonOffset as b}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as g}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{stencilWriteMaskOn as y,stencilToolMaskBaseParams as P,stencilBaseAllZerosParams as T}from\"../lib/StencilUtils.js\";import{I as v}from\"../../../../chunks/ImageMaterial.glsl.js\";class j extends r{initializeProgram(e){const t=j.shader.get(),r=this.configuration,i=t.build({output:r.output,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,OITEnabled:0===r.transparencyPassType,multipassTerrainEnabled:r.multipassTerrainEnabled,cullAboveGround:r.cullAboveGround});return new o(e.rctx,i.generateSource(\"vertex\"),i.generateSource(\"fragment\"),a)}bindPass(e,t,r){u.bindProjectionMatrix(this.program,r.camera.projectionMatrix),this.program.setUniform1f(\"opacity\",t.opacity),r.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",r.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",r.inverseViewport),g(this.program,e,r))}bindDraw(e){u.bindView(this.program,e),d.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e,t){const r=this.configuration,i=3===e,s=2===e,a=e=>0!==e&&{face:1===e?1028:1029,mode:2305};return n({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?S:h(e),culling:a(r.cullFace),depthTest:{func:m(e)},depthWrite:i?r.writeDepth&&l:f(e),colorWrite:p,stencilWrite:r.sceneHasOcludees?y:null,stencilTest:r.sceneHasOcludees?t?P:T:null,polygonOffset:i||s?null:b(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0),this.setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}j.shader=new t(v,(()=>import(\"./ImageMaterial.glsl.js\")));const S=c(1,771);class w extends i{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}e([s({count:8})],w.prototype,\"output\",void 0),e([s({count:3})],w.prototype,\"cullFace\",void 0),e([s()],w.prototype,\"slicePlaneEnabled\",void 0),e([s()],w.prototype,\"transparent\",void 0),e([s()],w.prototype,\"enableOffset\",void 0),e([s()],w.prototype,\"writeDepth\",void 0),e([s()],w.prototype,\"sceneHasOcludees\",void 0),e([s({count:4})],w.prototype,\"transparencyPassType\",void 0),e([s()],w.prototype,\"multipassTerrainEnabled\",void 0),e([s()],w.prototype,\"cullAboveGround\",void 0);export{j as ImageMaterialTechnique,w as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../lib/GLMaterialTexture.js\";import{intersectTriangleGeometry as t}from\"./internal/MaterialUtil.js\";import{Material as i,materialParametersDefaults as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as s}from\"../lib/OrderIndependentTransparency.js\";import{DefaultBufferWriter as r,PositionUVLayout as n}from\"./internal/DefaultBufferWriter.js\";import{ImageMaterialTechniqueConfiguration as u,ImageMaterialTechnique as h}from\"../shaders/ImageMaterialTechnique.js\";class c extends i{constructor(e){super(e,o),this.supportsEdges=!0,this.techniqueConfig=new u}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.enableOffset=!t||t.camera.relativeElevation<s,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!t||t.cullAboveGround,this.techniqueConfig}intersect(e,i,a,s,r,n,u){t(e,i,s,r,n,void 0,u)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new l(e):void 0}createBufferWriter(){return new r(n)}}class l extends e{constructor(e){super({...e,...e.material.params}),this.updateParameters()}updateParameters(e){const t=this.material.params;this.updateTexture(t.textureId),this.technique=this.techniqueRep.acquireAndReleaseExisting(h,this.material.getTechniqueConfig(this.output,e),this.technique)}beginSlot(e){if(4===this.output)return 3===e;return e===(this.technique.configuration.transparent?this.technique.configuration.writeDepth?5:8:3)}_updateOccludeeState(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&(this.material.setParameterValues({sceneHasOcludees:e.hasOccludees}),this.updateParameters(e))}ensureParameters(e){0!==this.output&&7!==this.output||this._updateOccludeeState(e),this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.bindTexture(e,this.technique.program),this.bindTextureScale(e,this.technique.program),this.technique.bindPass(e,this.material.params,t)}getPipelineState(e,t){return this.technique.getPipelineState(t)}}const o={transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1,opacity:1,textureId:null,initTextureTransparent:!0,...a};export{c as ImageMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{clone as o}from\"../../core/lang.js\";import{isSome as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import{ensureNumber as i}from\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{persistable as h}from\"../../core/accessorSupport/decorators/persistable.js\";import{JSONSupport as a}from\"../../core/JSONSupport.js\";import n from\"../../geometry/Point.js\";import\"../../geometry.js\";import{cyclicalDeg as m}from\"../../views/3d/support/mathUtils.js\";var l;let c=l=class extends a{constructor(t){super(t),this.type=\"plane\",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}clone(){return new l({position:o(this.position),heading:this.heading,tilt:this.tilt,width:this.width,height:this.height})}equals(t){return this.heading===t.heading&&this.tilt===t.tilt&&e(this.position)&&e(t.position)&&this.position.equals(t.position)&&this.width===t.width&&this.height===t.height}};t([r({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,\"type\",void 0),t([r({type:n}),h()],c.prototype,\"position\",void 0),t([r({type:Number,nonNullable:!0,range:{min:0,max:360}}),h(),s((t=>m.normalize(i(t),0,!0)))],c.prototype,\"heading\",void 0),t([r({type:Number,nonNullable:!0,range:{min:0,max:360}}),h(),s((t=>m.normalize(i(t),0,!0)))],c.prototype,\"tilt\",void 0),t([r({type:Number,nonNullable:!0}),h()],c.prototype,\"width\",void 0),t([r({type:Number,nonNullable:!0}),h()],c.prototype,\"height\",void 0),c=l=t([p(\"esri.widgets.Slice.SlicePlane\")],c);var d=c;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../../core/compilerUtils.js\";import{isSome as t,isNone as i}from\"../../../../../core/maybe.js\";import s from\"../../../../../core/Logger.js\";import o from\"../../../../../geometry/Point.js\";import\"../../../../../geometry.js\";import{rad2deg as r,deg2rad as n}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray3 as a}from\"../../../../../core/screenUtils.js\";import{b as c,c as l,f as m}from\"../../../../../chunks/vec3f64.js\";import{a as d,g,d as u,c as p,n as f,b,l as h,f as w,o as y,s as j}from\"../../../../../chunks/vec3.js\";import{g as M,i as k,s as P,m as v,e as O,t as R,q as U}from\"../../../../../chunks/mat4.js\";import{a as T}from\"../../../../../chunks/mat4f64.js\";import{r as A}from\"../../../../../chunks/quat.js\";import{sv3d as L,sm4d as S,sq4d as E}from\"../../../support/stack.js\";import{b as F}from\"../../../../../chunks/vector.js\";import{plane as G,boundedPlane as C,ray as I}from\"../../../support/geometryUtils.js\";import{Geometry as x}from\"../../../webgl-engine/lib/Geometry.js\";import z from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as V}from\"../../../webgl-engine/materials/RibbonLineMaterial.js\";import{NativeLineMaterial as D}from\"../../../webgl-engine/materials/NativeLineMaterial.js\";import{ColorMaterial as B}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{Manipulator3D as N}from\"../../Manipulator3D.js\";import{calculateTranslateRotateFromBases as q}from\"../../manipulatorUtils.js\";import{LineVisualElement as H}from\"../../visualElements/LineVisualElement.js\";import{SMALL_ANGLE_DOT_THRESHOLD as W,RESIZE_HANDLE_EDGE_PADDING_FRAC as $,PLANE_MIN_BASIS_SCREEN_LEN2 as J,INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION as K,SHIFT_RESTART_OFFSET_DISTANCE as Q,SHIFT_RESTART_ARROW_TIP_COLOR as X,SHIFT_RESTART_ARROW_CAP_COLOR as Y,SHIFT_RESTART_TUBE_COLOR as Z,SHIFT_RESTART_OUTLINE_COLOR as _,SHIFT_RESTART_CALLOUT_COLOR as ee,SHIFT_RESTART_TIP_RADIUS as te,ROTATE_HEADING_CALLOUT_COLOR as ie,PLANE_OUTLINE_COLOR as se,PLANE_OUTLINE_WIDTH as oe,PLANE_BACKGROUND_COLOR as re,GRID_COLOR as ne,RESIZE_HANDLE_CORNER_INPUT_RADIUS as ae,RESIZE_HANDLE_EDGE_INPUT_RADIUS as ce,ROTATE_HEADING_TIP_LENGTH as le,VERTICAL_DOT_THRESHOLD as me,SHIFT_RESTART_TUBE_RADIUS as de,SHIFT_RESTART_TIP_LENGTH as ge,SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER as ue,SHIFT_RESTART_TIP_FOCUS_MULTIPLIER as pe,SHIFT_RESTART_ARROW_OUTLINE_WIDTH as fe,ROTATE_HEADING_OFFSET_DISTANCE as be,ROTATE_HEADING_DISC_RADIUS as he,ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER as we,HANDLE_COLOR as ye,DISPLAY_FOCUS_MULTIPLIER as je,RESIZE_HANDLE_EDGE_WIDTH as Me,SHIFT_RESTART_ARROW_LENGTH as ke,RESIZE_HANDLE_CORNER_WIDTH as Pe}from\"./sliceToolConfig.js\";import{SlicePlaneVisualElement as ve}from\"../../visualElements/SlicePlaneVisualElement.js\";import{ImageMaterial as Oe}from\"../../../webgl-engine/materials/ImageMaterial.js\";import Re from\"../../../../../widgets/Slice/SlicePlane.js\";const Ue=s.getLogger(\"esri.views.3d.interactive.analysisTools.slice.sliceToolUtils\");function Te(e,t,i,s,o,r,n,a){return Ae(t,n.worldUpAtPosition(e,L.get()),o,r,a.basis1,a.basis2),d(a.basis1,a.basis1,i),d(a.basis2,a.basis2,s),g(a.origin,e),G.fromVectorsAndPoint(a.basis2,a.basis1,a.origin,a.plane),a}function Ae(e,t,i,s,o,r){const n=u(e,t),a=L.get(),c=L.get();switch(0===s?Math.abs(n)>me?1:2:s){case 2:{const s=Math.abs(n)<=W?e:i.viewUp;p(a,s,t),g(c,t);break}case 1:p(a,i.viewUp,t),p(c,t,a);break;case 3:{const s=Math.abs(n)<=W?t:i.viewUp;p(a,s,e),p(c,e,a);break}}const l=p(L.get(),a,c);u(l,i.viewForward)>0&&d(c,c,-1),f(o,a),f(r,c)}function Le(e,t,i){const s=t.worldUpAtPosition(e.origin,L.get()),o=e.basis1,r=tt(e,s),n=Math.round(r/ct)*ct;return C.rotate(e,n-r,o,i)}function Se(e,t,i,s,o,r){const n=g(L.get(),o.origin);b(n,n,d(L.get(),o.basis1,e.direction[0]<0?1:-1)),b(n,n,d(L.get(),o.basis2,e.direction[1]<0?1:-1));const a=h(o.basis1),c=h(o.basis2),l=w(L.get(),i,n),m=w(L.get(),t,n);let p=0,f=0;if(We(e)){const t=He(o),i=He(r);p=a-.5*e.direction[0]*u(o.basis1,m)/a,f=c-.5*e.direction[1]*u(o.basis2,m)/c;const s=i/t;p*=s,f*=s}const y=p+.5*e.direction[0]*u(o.basis1,l)/a,j=f+.5*e.direction[1]*u(o.basis2,l)/c,M=d(L.get(),o.basis1,y/a),k=d(L.get(),o.basis2,j/c);(y<=0||Ne(r.origin,M,s)<=J)&&g(M,r.basis1),(j<=0||Ne(r.origin,k,s)<=J)&&g(k,r.basis2);const P=g(L.get(),n);return b(P,P,d(L.get(),M,e.direction[0]<0?-1:1)),b(P,P,d(L.get(),k,e.direction[1]<0?-1:1)),C.fromValues(P,M,k,r)}function Ee(e,t){return K*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function Fe(e,t,i,s){const o=p(L.get(),t,i);return p(o,o,t),G.fromPositionAndNormal(e,o,s)}function Ge(e,t){return q(e.basis1,e.basis2,e.origin,t)}function Ce(e,t,i,s){const o=t.worldUpAtPosition(e.origin,L.get()),r=L.get();switch(i){case 1:g(r,o);break;case 2:g(r,e.basis1)}return G.fromPositionAndNormal(e.origin,r,s)}function Ie(e,t,i,s){const o=Be(i,2),r=S.get();M(r,t,o.edge*Math.PI/2);const n=f(L.get(),o.basis);let l=d(L.get(),n,o.direction*s.computeScreenPixelSizeAt(o.position)*Q);b(l,l,o.position);const m=s.projectToRenderScreen(l,a(L.get())),g=xe(s,m);I.fromRender(s,m,at),f(at.direction,at.direction);const u=L.get();!g&&C.intersectRay(i,at,u)&&(l=u),r[12]=0,r[13]=0,r[14]=0,e.modelTransform=r,e.renderLocation=c(l),g?e.state|=nt:e.state&=~nt}function xe(e,t){const[i,s,o,r]=e.viewport,n=Math.min(o,r)/16;let a=!0;return t[0]<i+n?(t[0]=i+n,a=!1):t[0]>i+o-n&&(t[0]=i+o-n,a=!1),t[1]<s+n?(t[1]=s+n,a=!1):t[1]>s+r-n&&(t[1]=s+r-n,a=!1),a}function ze(e,t,i,s){const o=h(s.basis1),r=h(s.basis2),n=qe(s),a=He(s),c=j(L.get(),0,0,0);b(c,d(L.get(),s.basis1,t.direction[0]),d(L.get(),s.basis2,t.direction[1])),b(c,s.origin,c);let l=0,m=1;if(We(t))1===t.direction[0]&&-1===t.direction[1]?l=ct:1===t.direction[0]&&1===t.direction[1]?l=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(l=3*Math.PI/2),m=a;else{const e=0!==t.direction[0]?1:2;l=1===e?ct:0,m=(1===e?r:o)-n}const g=k(S.get());M(g,g,l),P(g,g,j(L.get(),m,m,m)),v(g,i,g),g[12]=0,g[13]=0,g[14]=0,e.modelTransform=g,e.renderLocation=c}function Ve(e,t,i,s){const o=s.worldUpAtPosition(i.origin,L.get()),r=Be(i,0),n=k(S.get());M(n,n,r.edge*Math.PI/2),O(n,n,-tt(i,o)),v(n,t,n),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=r.position}function De(e,t,i){const s=Be(i,1),o=k(S.get());M(o,o,s.edge*Math.PI/2),O(o,o,ct),v(o,t,o),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=s.position}function Be(e,t){switch(t){case 0:return{basis:e.basis1,direction:1,position:b(L.get(),e.origin,e.basis1),edge:t};case 1:return{basis:e.basis2,direction:1,position:b(L.get(),e.origin,e.basis2),edge:t};case 2:return{basis:e.basis1,direction:-1,position:w(L.get(),e.origin,e.basis1),edge:t};case 3:return{basis:e.basis2,direction:-1,position:w(L.get(),e.origin,e.basis2),edge:t}}}function Ne(e,t,i){const s=i.projectToRenderScreen(b(L.get(),e,t),a(L.get())),o=i.projectToRenderScreen(w(L.get(),e,t),a(L.get()));return y(w(s,s,o))}function qe(e){const t=h(e.basis1),i=h(e.basis2);return $*Math.min(t,i)}function He(e){return qe(e)}function We(e){return 0!==e.direction[0]&&0!==e.direction[1]}function $e(e,t=1){const i=0===t?Q:0,s=[m(i,0,-ke/2),m(i,0,ke/2)],o=_e(s,!0),r=(e,t)=>Ye(s,s,{tubeRadius:de,tipRadius:te,tipLength:ge,tubeFocusMultiplier:ue,tipFocusMultiplier:pe,padding:e,bothEnds:!0,flat:null,focusTipLength:!0,addCap:t}),n=r(0,!1),a=r(fe,!0),c=new B({color:X,cullFace:2,renderOccluded:16}),l=new B({color:Y,cullFace:2,renderOccluded:16}),d=new B({color:Z,cullFace:2,renderOccluded:16}),g=new B({color:_,transparent:!0,writeDepth:!1,cullFace:1,renderOccluded:2}),u=z.createPolylineGeometry([[i,0,0],[i-Q,0,0]]),p=z.createPolylineGeometry([[i,0,0],[i-Q,0,0]]),f=new D({color:ee,renderOccluded:4});return new N({view:e,renderObjects:[...n.normal.map((({part:e,geometry:t,transform:i})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:d,transform:i,stateMask:1|rt}))),...a.normal.map((({geometry:e,transform:t})=>({geometry:e,material:g,transform:t,stateMask:1|rt}))),{geometry:u,material:f,stateMask:1|rt|nt},...n.focused.map((({part:e,geometry:t,transform:i})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:d,transform:i,stateMask:2|rt}))),...a.focused.map((({geometry:e,transform:t})=>({geometry:e,material:g,transform:t,stateMask:2|rt}))),{geometry:p,material:f,stateMask:2|rt|nt}],autoScaleRenderObjects:!1,collisionType:{type:\"line\",paths:[o]},collisionPriority:1,radius:te,state:rt})}function Je(e,t){const i=new Oe({transparent:!0,writeDepth:!1,textureId:t.id,renderOccluded:16}),s=be,o=he,r=o*we,n=e=>{const t=new Uint32Array([0,1,2,2,3,0]);return new x([[\"position\",{size:3,data:[s-e,-e,0,s+e,-e,0,s+e,e,0,s-e,e,0],exclusive:!0}],[\"uv0\",{size:2,data:[0,0,1,0,1,1,0,1]}]],[[\"position\",t],[\"uv0\",t]])},a=z.createPolylineGeometry([[0,0,0],[s-o,0,0]]),c=z.createPolylineGeometry([[0,0,0],[s-r,0,0]]),l=new D({color:ie,renderOccluded:4}),m=[{geometry:n(o),material:i,stateMask:1|rt},{geometry:a,material:l,stateMask:1|rt},{geometry:n(r),material:i,stateMask:2|rt},{geometry:c,material:l,stateMask:2|rt}];return new N({view:e,renderObjects:m,autoScaleRenderObjects:!1,collisionType:{type:\"disc\",direction:[0,0,1],offset:[s,0,0]},collisionPriority:1,radius:o/2,state:rt})}function Ke(e){return new H({view:e,attached:!0,color:se,width:oe,writeDepthEnabled:!1,renderOccluded:4,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})}function Qe(e){return new ve({view:e,attached:!0,backgroundColor:[...re],gridColor:ne,gridWidth:4,renderOccluded:4})}function Xe(e,t){const i=We(t),s=i?[m(1,0,0),m(0,0,0),m(0,1,0)]:[m(1,0,0),m(-1,0,0)],o=z.createPolylineGeometry(s),r=[...ye,1],n=e=>new V({color:r,width:e,renderOccluded:4}),a=()=>new D({color:r,renderOccluded:4}),c=i?Pe:Me,l=c*je,d=Me,g=e=>e>1?n(e):a(),u=[{geometry:o,material:g(c),stateMask:1|lt},{geometry:o,material:g(l),stateMask:2|lt},{geometry:o,material:g(d),stateMask:mt}],p=new N({view:e,renderObjects:u,collisionType:{type:\"line\",paths:[s]},autoScaleRenderObjects:!1,worldSized:!0,radius:i?ae:ce,idHint:i?1:2});return p.state=lt,p}function Ye(e,i,s){const o=o=>{const r=(o?i:e).slice(0),n=w(L.get(),r[0],r[1]);f(n,n);const a=w(L.get(),r[r.length-1],r[r.length-2]);if(f(a,a),s.padding>0){const e=d(l(),a,-s.padding);if(r[r.length-1]=b(e,e,r[r.length-1]),s.bothEnds){const e=d(l(),n,-s.padding);r[0]=b(e,e,r[0])}}const c=o?s.tipFocusMultiplier:1,g=s.tipLength*(s.focusTipLength?c:1),u=s.tipRadius*c,p=k(S.get());if(s.padding>0){const e=g/4,t=j(L.get(),0,e,0),i=1+s.padding/e;R(p,p,t),P(p,p,j(L.get(),i,i,i)),R(p,p,d(t,t,-1/i))}const h=k(T()),y=m(0,1,0),M=U(T(),A(E.get(),y,a));M[12]=r[r.length-1][0],M[13]=r[r.length-1][1],M[14]=r[r.length-1][2],v(M,M,p);const O=[{part:\"tube\",geometry:Ze(s.tubeRadius*(o?s.tubeFocusMultiplier:1)+s.padding,s.flat,r),transform:h}];let F,G;if(t(s.flat)?F=z.createExtrudedTriangle(g,u,u,s.flat.thickness):(F=z.createConeGeometry(g,u,24,!1,!1,!0),G=z.createConeGeometry(g,u,24,!1,!0,!1)),O.push({part:\"tip\",geometry:F,transform:M}),G&&O.push({part:\"cap\",geometry:G,transform:M}),s.bothEnds){const e=U(T(),A(E.get(),y,n));e[12]=r[0][0],e[13]=r[0][1],e[14]=r[0][2],v(e,e,p),O.push({part:\"tip\",geometry:F,transform:e}),G&&O.push({part:\"cap\",geometry:G,transform:e})}return O};return{normal:o(!1),focused:o(!0)}}function Ze(e,i,s){const o=[];if(t(i))o.push([e,i.thickness/2],[-e,i.thickness/2],[-e,-i.thickness/2],[e,-i.thickness/2]);else{const t=12;for(let i=0;i<t;i++){const s=i/t*2*Math.PI;o.push([Math.cos(s)*e,Math.sin(s)*e])}}return z.createPathExtrusionGeometry(o,s,[],[],!1)}function _e(e,t){const i=w(l(),e[e.length-1],e[e.length-2]);if(f(i,i),d(i,i,le),b(i,i,e[e.length-1]),t){const t=w(l(),e[0],e[1]);return f(t,t),d(t,t,le),b(t,t,e[0]),[t,...e,i]}return[...e,i]}function et(e,s,n,a=new Re){if(i(e))return null;const c=t(a.position)?a.position:new o;s.fromRenderCoords(e.origin,c,n),a.position=c;const l=s.worldUpAtPosition(e.origin,L.get()),m=s.worldBasisAtPosition(e.origin,1,L.get());return a.width=2*h(e.basis1),a.height=2*h(e.basis2),a.tilt=r(tt(e,l)),a.heading=r(it(e,l,m)),a}function tt(e,t){return F(t,e.basis2,e.basis1)+ct}function it(e,t,i){return F(e.basis1,i,t)-ct}function st(e,t,s=C.create()){return i(e)||i(e.position)?null:t.toRenderCoords(e.position,s.origin)?(t.worldBasisAtPosition(s.origin,0,s.basis1),t.worldBasisAtPosition(s.origin,1,s.basis2),G.fromVectorsAndPoint(s.basis2,s.basis1,s.origin,s.plane),C.rotate(s,-n(e.heading),C.normal(s),s),C.rotate(s,n(e.tilt),s.basis1,s),d(s.basis1,s.basis1,e.width/2),d(s.basis2,s.basis2,e.height/2),C.updateUnboundedPlane(s),s):(Ue.error(`Failed to project slice plane position, projection from ${e.position.spatialReference.wkid} is not supported`),null)}function ot(t){switch(t.type){case\"building-scene\":case\"csv\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"kml\":case\"map-notes\":case\"ogc-feature\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"unknown\":case\"unsupported\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(t.type),!1}}const rt=16,nt=32,at=I.create(),ct=Math.PI/2,lt=16,mt=32;export{rt as DidPointerMoveRecentlyFlag,nt as IsShiftEdgeOnScreenFlag,_e as addArrowTips,Ge as calculateBoundedPlaneTranslateRotate,He as calculateDiagonalResizeHandleScale,Ee as calculatePlaneHalfSize,qe as calculateResizeHandlePadding,Ne as calculateScreenSpaceBasisLength2,Ye as createArrowGeometry,Qe as createGridVisualElement,Ke as createOutlineVisualElement,Te as createPlane,Xe as createResizeManipulator,Je as createRotateManipulator,Ce as createRotatePlane,$e as createShiftManipulator,Fe as createShiftPlane,Le as forceHorizontalOrVertical,ot as isAlwaysDrapedLayer,We as isDiagonalResizeHandle,Ae as normalToBases,et as planeToShape,lt as resizeNormal,mt as resizeOutlineOnly,Se as resizePlane,st as shapeToPlane,ze as updateResizeHandle,Ve as updateRotateHeadingHandle,De as updateRotateTiltHandle,Ie as updateShiftRestartHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{EventPipeline as a}from\"../../../../interactive/dragEventPipeline.js\";import{isDiagonalResizeHandle as e}from\"../../analysisTools/slice/sliceToolUtils.js\";class s{constructor(){this.lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(a){if(this._enabled!==a&&t(this.lastDragEvent)){const t={...this.lastDragEvent,action:\"update\"};a&&this.adjustScaleFactors(t),this.next.execute(t)}this._enabled=a}createDragEventPipelineStep(){return this.lastDragEvent=null,t=>(this.lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this.adjustScaleFactors(t),t)}adjustScaleFactors(t){const a=e(t.handle)?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.handle.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-a:a,t.factor2=t.factor2<0?-a:a}get test(){return{adjustScaleFactors:t=>this.adjustScaleFactors(t)}}}export{s as PreserveAspectRatio};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{f as s,Z as o}from\"../../../../chunks/vec3f64.js\";import{b as i,E as t,a as n,f as r,e as a,c as e,n as c,d as g,l as b}from\"../../../../chunks/vec3.js\";import{d as f,a as p,g as u,p as m,s as d,u as I,w as N,h as j}from\"../../../../chunks/vec2.js\";import{sv2d as E,sv3d as T}from\"../../../3d/support/stack.js\";import{boundedPlane as V}from\"../../../3d/support/geometryUtils.js\";import{UpdateVertices as x}from\"../operations/UpdateVertices.js\";import{MoveVertex as h}from\"../operations/MoveVertex.js\";import{RotateVertex as l}from\"../operations/RotateVertex.js\";import{ScaleVertex as R}from\"../operations/ScaleVertex.js\";function v(s,o){return k(s,o,!1)}function C(s,o){return k(s,o,!0)}function k(s,o,i){if(s instanceof x){if(s.operation instanceof h)return F(s.operation,o,i),!0;if(s.operation instanceof l)return Y(s.operation,o,i),!0;if(s.operation instanceof R)return _(s.operation,o,i),!0}return!1}function F(o,t,n=!1){const r=n?-1:1,a=s(r*o.dx,r*o.dy,r*o.dz);i(t.origin,t.origin,a)}function Y(s,i,n=!1){const r=n?-s.angle:s.angle;t(i.basis1,i.basis1,o,r),t(i.basis2,i.basis2,o,r)}function _(s,o,i=!1){const t=i?1/s.factor1:s.factor1,r=i?1/s.factor2:s.factor2;n(o.basis1,o.basis1,t),n(o.basis2,o.basis2,r),P(o.origin,s.origin,s.axis1,t),P(o.origin,s.origin,s.axis2,r)}function P(s,o,i,t){const n=E.get(),r=f(n,s,o),a=p(n,i,u(i,r));m(s,s,a,t-1)}function S(s,o,i,t){t||(t=V.create());const n=d(E.get(),s[1],-s[0]),r=d(E.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),a=d(E.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),e=E.get();o.components.forEach((o=>o.vertices.forEach((o=>{const i=o.pos;d(e,u(s,i),u(n,i)),I(r,r,e),N(a,a,e)}))));const c=1e-6,g=d(E.get(),a[0]-r[0]<c?i/2:0,a[1]-r[1]<c?i/2:0);return f(r,r,g),j(a,a,g),p(t.basis1,s,(a[0]-r[0])/2),p(t.basis2,n,(a[1]-r[1])/2),d(t.origin,r[0]*s[0]+r[1]*n[0],r[0]*s[1]+r[1]*n[1]),j(t.origin,t.origin,t.basis1),j(t.origin,t.origin,t.basis2),t}function U(s,o,t,f=0,p){p||(p=V.create()),o.toRenderCoords(s.origin,t,p.origin);const u=T.get();i(u,s.origin,s.basis1),i(u,u,s.basis2),o.toRenderCoords(u,t,u);const m=T.get();i(m,s.origin,s.basis1),r(m,m,s.basis2),o.toRenderCoords(m,t,m);const d=T.get();r(d,s.origin,s.basis1),r(d,d,s.basis2),o.toRenderCoords(d,t,d);const I=T.get();r(I,s.origin,s.basis1),i(I,I,s.basis2),o.toRenderCoords(I,t,I);const N=a(T.get(),u,m,.5);r(N,N,p.origin);const j=a(T.get(),d,I,.5);r(j,p.origin,j),a(p.basis1,N,j,.5);const E=a(T.get(),I,u,.5);r(E,E,p.origin);const x=a(T.get(),m,d,.5);r(x,p.origin,x),a(p.basis2,E,x,.5);const h=e(T.get(),p.basis1,p.basis2),l=e(h,h,p.basis1);return c(l,l),n(p.basis2,l,g(p.basis2,l)),n(p.basis1,p.basis1,1+f/b(p.basis1)),n(p.basis2,p.basis2,1+f/b(p.basis2)),V.updateUnboundedPlane(p),p}export{v as apply,S as calculateOrientedBounds,U as mapPlaneToRenderPlane,C as unapply};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as e,unwrapOr as i,isNone as a,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as r}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import p from\"../../../../../core/Evented.js\";import{rad2deg as h}from\"../../../../../core/mathUtils.js\";import{screenPointObjectToArray as l}from\"../../../../../core/screenUtils.js\";import{b as c,c as d}from\"../../../../../chunks/vec3f64.js\";import{s as u,g as m,D as g,f as y,n as v,l as f,d as M}from\"../../../../../chunks/vec3.js\";import S from\"../../../../../core/Handles.js\";import{init as b}from\"../../../../../core/watchUtils.js\";import{getMetersPerUnitForSR as B}from\"../../../../../core/unitUtils.js\";import{g as w}from\"../../../../../chunks/mat4.js\";import{containsXY as x}from\"../../../../../geometry/support/aaBoundingRect.js\";import{a as D}from\"../../../../../chunks/vec2f64.js\";import{d as j,e as R,s as _}from\"../../../../../chunks/vec2.js\";import{getGraphicEffectiveElevationInfo as E}from\"../../../../../support/elevationInfoUtils.js\";import{sv2d as H,sv3d as G,sm4d as A}from\"../../../support/stack.js\";import{boundedPlane as P,plane as z,ray as U}from\"../../../support/geometryUtils.js\";import{evaluateElevationAlignmentAtPoint as T}from\"../../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as k}from\"../../../layers/graphics/ElevationContext.js\";import{Texture as Z}from\"../../../webgl-engine/lib/Texture.js\";import{EditGeometry as O}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{createManipulatorDragEventPipeline as C,addScreenDelta as V,addMapDelta as X}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as Y}from\"../../../../interactive/InteractiveToolBase.js\";import{screenToZConstrained as I,screenToRenderPlane as L}from\"../dragEventPipeline3D.js\";import{getGraphicAttachmentOrigin as N,calculateInputRotationTransform as F}from\"../../manipulatorUtils.js\";import{canMoveZ as q}from\"../manipulatorUtils.js\";import{createShiftManipulator as J,IsShiftEdgeOnScreenFlag as K,createResizeManipulator as Q,createRotateManipulator as W,resizeNormal as $,resizeOutlineOnly as tt,isDiagonalResizeHandle as et,calculateDiagonalResizeHandleScale as it,createRotatePlane as at,calculateBoundedPlaneTranslateRotate as st,updateRotateHeadingHandle as rt,updateResizeHandle as ot}from\"../../analysisTools/slice/sliceToolUtils.js\";import nt from\"../../analysisTools/slice/images/heading-rotate-png.js\";import{OutlineVisualElement as pt}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as ht}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as lt}from\"../visualElementUtils.js\";import{MoveXYGraphicManipulation as ct}from\"../manipulations/MoveXYGraphicManipulation.js\";import{ReshapeGeometryHelper as dt}from\"../reshapeGraphic/ReshapeOperation.js\";import{PreserveAspectRatio as ut}from\"./PreserveAspectRatio.js\";import{calculateOrientedBounds as mt,mapPlaneToRenderPlane as gt,apply as yt,unapply as vt}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";let ft=class extends(p.EventedMixin(Y)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this._preserveAspectRatio=new ut,this.grabbing=!1,this.inputState=null,this.type=\"transform-3d\",this.handles=new S,this.moveZManipulator=null,this.resizeManipulators=null,this.rotateManipulator=null,this.attachmentOrigin=null,this.outlineVisualElement=null,this.mapBounds=P.create(),this.mapBoundsStart=P.create(),this.displayBounds=P.create(),this.displayBoundsStart=P.create(),this.displayBoundsMarginStart=0,this.resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}]}initialize(){this.graphicState=new ht({graphic:this.graphic});const t=this.graphic.geometry;this.reshapeHelper=new dt(O.fromGeometry(t,this.view.viewingMode),t.type),this.graphicMoveManipulation=new ct({tool:this,view:this.view,graphicState:this.graphicState}),this.handles.add(this._createMoveXYGraphicDragPipeline()),this.moveZManipulator=J(this.view,0),this.moveZManipulator.state|=K,this.handles.add(this.watch(\"enableZ\",(()=>this.updateManipulatorAvailability(this.moveZManipulator,0)))),this.handles.add(this._createMoveZDragPipeline()),this.manipulators.add(this.moveZManipulator),this.resizeManipulators=this.resizeHandles.map((t=>{const e=Q(this.view,t);return this.handles.add(this.watch(\"enableScaling\",(()=>this.updateManipulatorAvailability(e,2)))),e.events.on(\"grab-changed\",(t=>this._onResizeGrab(t))),this.handles.add(this._createResizeDragPipeline(e,t)),e})),this.manipulators.addMany(this.resizeManipulators),this.rotateManipulatorTexture=new Z(nt,{width:64,height:64,mipmap:!0,preMultiplyAlpha:!0}),this.view._stage&&this.view._stage.add(this.rotateManipulatorTexture),this.rotateManipulator=W(this.view,this.rotateManipulatorTexture),this.handles.add(this.watch(\"enableRotation\",(()=>this.updateManipulatorAvailability(this.rotateManipulator,3)))),this.rotateManipulator.events.on(\"grab-changed\",(t=>{this._onRotateGrab(t)})),this.handles.add(this._createRotateDragPipeline(this.rotateManipulator)),this.manipulators.add(this.rotateManipulator),this.calculateMapBounds(),this.updateDisplayBounds(this.mapBounds);const i=lt({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>r()});this.outlineVisualElement=i.visualElement instanceof pt?i.visualElement:null,e(this.outlineVisualElement)&&this.handles.add(this.outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>this.updateDisplayBounds(this.mapBounds)))),this.handles.add(i),this.handles.add([this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.graphicState.watch(\"displaying\",(()=>this.updateAllManipulatorAvailability())),b(this.graphicState,\"isDraped\",(()=>this.graphicDrapedChanged())),this.view.trackGraphicState(this.graphicState)]);const a=this.view.pointsOfInterest;a&&this.handles.add(a.focus.watch(\"location\",(()=>this.updateDisplayBounds(this.mapBounds))));const s=t=>{this.handles.add(t.events.on(\"grab-changed\",(()=>{this.grabbing=t.grabbing,this.updateAllManipulatorAvailability()})))};this.forEachManipulator(s),this.graphicMoveManipulation.forEachManipulator(s);const o=(t,e)=>{this.handles.add(t.events.on(\"immediate-click\",(t=>{1===e&&this.emit(\"immediate-click\",{...t,graphic:this.graphic}),t.stopPropagation()})))};this.forEachManipulator(o),this.graphicMoveManipulation.forEachManipulator(o),this.onGeometryChanged(),this.updateAllManipulatorAvailability()}graphicDrapedChanged(){this.handles.remove(Mt),this.updateDisplayBounds(this.mapBounds),this.graphicState.isDraped&&this.handles.add(this.view.elevationProvider.on(\"elevation-change\",(t=>{e(this.attachmentOrigin)&&x(t.extent,this.attachmentOrigin.x,this.attachmentOrigin.y)&&this.updateDisplayBounds(this.mapBounds)})),Mt)}updateAllManipulatorAvailability(){this.forEachManipulator(((t,e)=>this.updateManipulatorAvailability(t,e)))}updateManipulatorAvailability(t,e){const i=this.graphicState.displaying,a=this.grabbing&&!t.grabbing;t.interactive=!a;const s=this.enableZ&&q(this.graphic);switch(e){case 3:t.available=i&&this.enableRotation;break;case 2:t.available=i&&(this.enableScaling||this.enableRotation||s),t.interactive=!a&&this.enableScaling,t.state=this.enableScaling?$:tt;break;case 0:t.available=i&&s;break;default:t.available=i}}forEachManipulator(t){this.resizeManipulators.forEach((e=>t(e,2))),t(this.rotateManipulator,3),t(this.moveZManipulator,0)}destroy(){this.view._stage&&this.view._stage.remove(this.rotateManipulatorTexture),this.handles.destroy(),this.graphicMoveManipulation.destroy(),this.reshapeHelper.destroy(),this._set(\"view\",null),this._set(\"graphic\",null)}get preserveAspectRatio(){return this._preserveAspectRatio.enabled}set preserveAspectRatio(t){this._preserveAspectRatio.enabled=t,this._set(\"preserveAspectRatio\",t)}reset(){}onDetach(){this.mapBounds=null,this.displayBounds=null}onGeometryChanged(){this.updateDisplayBounds(this.mapBounds)}calculateMapBounds(){const t=this.graphic.geometry,e=this.reshapeHelper.editGeometry,a=e.components[0].edges[0],s=j(H.get(),a.left.pos,a.right.pos);R(s,s);const r=i(N(this.view,this.graphic),t.extent.center);let o=bt*this.view.pixelSizeAt(r);const n=this.view.spatialReference;n!==t.spatialReference&&(o*=B(n)/B(t.spatialReference)),mt(s,e,o,this.mapBounds)}updateDisplayBounds(t){const a=this.graphic.geometry,s=e(this.outlineVisualElement)&&!this.graphicState.isDraped&&e(this.outlineVisualElement.attachmentOrigin)?this.outlineVisualElement.attachmentOrigin:N(this.view,this.graphic);this.attachmentOrigin=i(s,a.extent.center);const r=e(s)?s.z:T(t.origin,this.view.elevationProvider,k.fromElevationInfo(E(this.graphic)),this.view.renderCoordsHelper),o=P.copy(t);u(o.origin,t.origin[0],t.origin[1],r),gt(o,this.view.renderCoordsHelper,a.spatialReference,this.displayBoundsMargin(),this.displayBounds),this.updateManipulators()}displayBoundsMargin(){const t=this.view.pointsOfInterest,e=t?t.focus.location:this.reshapeHelper.geometry.extent.center;return St*this.view.pixelSizeAt(e)}_createMoveXYGraphicDragPipeline(){return this.graphicMoveManipulation.createDragPipeline(((t,e,i)=>this.applyGraphicMoveSteps(e,i)))}_createMoveZDragPipeline(){const t=this.view,e=this.reshapeHelper.geometry.spatialReference;return C(this.moveZManipulator,((i,a,s)=>{const r=c(i.renderLocation),o=a.next(I(t,r,e)).next(V());this.applyGraphicMoveSteps(o,s)}))}applyGraphicMoveSteps(t,i){const a=t.next((t=>(\"start\"===t.action&&(this.inputState={type:\"move\"},P.copy(this.mapBounds,this.mapBoundsStart),this.emit(\"graphic-translate-start\",{graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY})),t))).next(X()).next(this._moveDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY};switch(t.action){case\"start\":case\"update\":(t.mapEnd.x-t.mapStart.x||t.mapEnd.y-t.mapStart.y||t.mapEnd.z-t.mapStart.z)&&this.emit(\"graphic-translate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-translate-stop\",e)}return t}));return i.next((()=>{e(this.inputState)&&this.emit(\"graphic-translate-stop\",{graphic:this.graphic,dxScreen:0,dyScreen:0}),this.cancel()})),a}_moveDragUpdateGeometry(){return t=>{if(a(this.inputState)||\"move\"!==this.inputState.type)return t;const e=[];for(const a of this.reshapeHelper.editGeometry.components)e.push(...a.vertices);const i=\"start\"===t.action?0:1,s=this.reshapeHelper.moveVertices(e,t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i);return yt(s,this.mapBounds),this.graphic.geometry=this.reshapeHelper.geometry,t}}_onResizeGrab(t){if(\"start\"!==t.action)return;const e=this._calculatePickRay(t.screenPoint);z.intersectRay(this.displayBounds.plane,e,G.get())&&(P.copy(this.displayBounds,this.displayBoundsStart),P.copy(this.mapBounds,this.mapBoundsStart),this.displayBoundsMarginStart=this.displayBoundsMargin(),this.inputState={type:\"resize\"})}_createResizeDragPipeline(t,i){return C(t,((t,s,r)=>{a(this.inputState)||(s.next((t=>(\"start\"===t.action&&this.emit(\"graphic-scale-start\",{graphic:this.graphic,xScale:1,yScale:1}),t))).next(L(this.view,this.displayBoundsStart.plane)).next((t=>({...t,handle:i}))).next(this._resizeDragRenderPlaneToFactors()).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(this._resizeDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,xScale:t.factor1,yScale:t.factor2};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-scale\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-scale-stop\",e)}return t})),r.next((()=>{e(this.inputState)&&this.emit(\"graphic-scale-stop\",{graphic:this.graphic,xScale:1,yScale:1}),this.cancel()})))}))}_resizeDragRenderPlaneToFactors(){return t=>{const e=this.displayBoundsStart,i=t.handle.direction,a=this.displayBoundsMargin(),s=this.displayBoundsMarginStart,r=m(G.get(),e.origin);g(r,r,e.basis1,-i[0]),g(r,r,e.basis2,-i[1]);const o=y(G.get(),t.renderEnd,r),n=y(G.get(),t.renderStart,r),p=et(t.handle),h=it(e),l=it(this.displayBounds)/h,c=(t,e)=>{if(0===t)return 1;let i=f(e),r=.5*t*M(e,o)/i;const h=r<0?-1:1;if(p){r+=(i-.5*t*M(e,n)/i)*h*l}const c=i<1.5*s?1:Bt;return i=Math.max(i-s,Bt),h>0&&(r-=a),h*Math.max(h*(r/i),c)};return{...t,factor1:c(i[0],e.basis1),factor2:c(i[1],e.basis2)}}}_resizeDragUpdateGeometry(){return t=>{const e=m(d(),this.mapBoundsStart.origin);g(e,e,this.mapBoundsStart.basis1,-t.handle.direction[0]),g(e,e,this.mapBoundsStart.basis2,-t.handle.direction[1]);const i=_(D(),this.mapBoundsStart.basis1[0],this.mapBoundsStart.basis1[1]);R(i,i);const a=[];for(const o of this.reshapeHelper.editGeometry.components)a.push(...o.vertices);const s=\"start\"===t.action?0:1,r=this.reshapeHelper.scaleVertices(a,this.reshapeHelper.editGeometry.coordinateHelper.fromXYZ(e),i,t.factor1,t.factor2,s,1);return P.copy(this.mapBoundsStart,this.mapBounds),yt(r,this.mapBounds),this.graphic.geometry=this.reshapeHelper.geometry,t}}_onRotateGrab(t){if(\"start\"!==t.action)return;const e=at(this.displayBounds,this.view.renderCoordsHelper,1,z.create()),i=this._calculatePickRay(t.screenPoint);z.intersectRay(e,i,G.get())&&(P.copy(this.displayBounds,this.displayBoundsStart),P.copy(this.mapBounds,this.mapBoundsStart),this.inputState={type:\"rotate\",rotatePlane:e})}_createRotateDragPipeline(t){return C(t,((t,i,s)=>{const r=this.inputState;a(r)||(i.next((t=>(\"start\"===t.action&&this.emit(\"graphic-rotate-start\",{graphic:this.graphic,angle:0}),t))).next(L(this.view,r.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(r)).next(this._rotateDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,angle:h(t.rotateAngle)};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-rotate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-rotate-stop\",e)}return t})),s.next((()=>{e(this.inputState)&&this.emit(\"graphic-rotate-stop\",{graphic:this.graphic,angle:0}),this.cancel()})))}))}_rotateDragRenderPlaneToRotate(t){return e=>{const i=z.normal(t.rotatePlane),a=F(e.renderStart,e.renderEnd,this.displayBounds.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdateGeometry(){return t=>{const e=m(d(),this.mapBoundsStart.origin),i=[];for(const r of this.reshapeHelper.editGeometry.components)i.push(...r.vertices);const a=\"start\"===t.action?0:1,s=this.reshapeHelper.rotateVertices(i,this.reshapeHelper.editGeometry.coordinateHelper.fromXYZ(e),t.rotateAngle,a,1);return P.copy(this.mapBoundsStart,this.mapBounds),yt(s,this.mapBounds),this.graphic.geometry=this.reshapeHelper.geometry,t}}_calculatePickRay(t){const e=U.create(),i=l(t);return U.fromScreen(this.view.state.camera,i,e),v(e.direction,e.direction),e}updateManipulators(){if(!this.visible)return;const t=st(this.displayBounds,A.get());rt(this.rotateManipulator,t,this.displayBounds,this.view.renderCoordsHelper),this.updateZMoveHandle(this.moveZManipulator,t),this.resizeManipulators.forEach(((e,i)=>{ot(e,this.resizeHandles[i],t,this.displayBounds)}))}updateZMoveHandle(t,e){const i=this.displayBounds,a={basis:i.basis1,direction:-1,position:y(G.get(),i.origin,i.basis1),edge:2},s=A.get();w(s,e,a.edge*Math.PI/2),s[12]=0,s[13]=0,s[14]=0,t.modelTransform=s,t.renderLocation=a.position}cancel(){const t=this.reshapeHelper.editGeometry.lastOperation;a(t)||(this.reshapeHelper.undo(),this.graphic.geometry=this.reshapeHelper.geometry,vt(t,this.mapBounds),this.updateDisplayBounds(this.mapBounds),this.inputState=null)}canUndo(){return this.reshapeHelper.canUndo}undo(){if(e(this.inputState))this.view.activeTool=null;else if(this.canUndo()){const t=this.reshapeHelper.undo();this.graphic.geometry=this.reshapeHelper.geometry,vt(s(t),this.mapBounds),this.updateDisplayBounds(this.mapBounds)}}canRedo(){return this.reshapeHelper.canRedo}redo(){if(this.canRedo()){const t=this.reshapeHelper.redo();this.graphic.geometry=this.reshapeHelper.geometry,yt(s(t),this.mapBounds),this.updateDisplayBounds(this.mapBounds)}}};t([o({constructOnly:!0,nonNullable:!0})],ft.prototype,\"view\",void 0),t([o({constructOnly:!0,nonNullable:!0})],ft.prototype,\"graphic\",void 0),t([o({constructOnly:!0,nonNullable:!0})],ft.prototype,\"enableZ\",void 0),t([o()],ft.prototype,\"enableRotation\",void 0),t([o()],ft.prototype,\"enableScaling\",void 0),t([o()],ft.prototype,\"preserveAspectRatio\",null),t([o()],ft.prototype,\"grabbing\",void 0),t([o()],ft.prototype,\"inputState\",void 0),t([o({readOnly:!0})],ft.prototype,\"type\",void 0),ft=t([n(\"esri.views.3d.interactive.editingTools.graphicTransform3D.ExtentTransformTool\")],ft);const Mt=\"draped-elevation-changes\",St=10,bt=80,Bt=1e-6;export{Bt as EPSILON,ft as ExtentTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nvar A=\"data:image/png;base64,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\";export default A;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const i=t&&t.length,u=i?t[0]*r:e.length;let o=n(e,0,u,r,!0);const l=new Array;if(!o||o.next===o.prev)return l;let y,p,c,v,s;if(i&&(o=f(e,t,o,r)),e.length>80*r){y=c=e[0],p=v=e[1];for(let n=r;n<u;n+=r){const t=e[n],x=e[n+1];y=Math.min(y,t),p=Math.min(p,x),c=Math.max(c,t),v=Math.max(v,x)}s=Math.max(c-y,v-p),s=0!==s?1/s:0}return x(o,l,r,y,p,s),l}function n(e,n,t,x,r){let i;if(r===a(e,n,t,x)>0)for(let o=n;o<t;o+=x)i=u(o,e[o],e[o+1],i);else for(let o=t-x;o>=n;o-=x)i=u(o,e[o],e[o+1],i);return i&&z(i,i.next)&&(o(i),i=i.next),i}function t(e,n=e){if(!e)return e;let t,x=e;do{if(t=!1,x.steiner||!z(x,x.next)&&0!==h(x.prev,x,x.next))x=x.next;else{if(o(x),x=n=x.prev,x===x.next)break;t=!0}}while(t||x!==n);return n}function x(e,n,u,l,f,y,p=0){if(!e)return;!p&&y&&(e=c(e,l,f,y));let v=e;for(;e.prev!==e.next;){const c=e.prev,s=e.next;if(y?i(e,l,f,y):r(e))n.push(c.index/u),n.push(e.index/u),n.push(s.index/u),o(e),e=s.next,v=s.next;else if((e=s)===v){p?1===p?x(e=m(e,n,u),n,u,l,f,y,2):2===p&&k(e,n,u,l,f,y):x(t(e),n,u,l,f,y,1);break}}}function r(e){const n=e.prev,t=e,x=e.next;if(h(n,t,x)>=0)return!1;let r=e.next.next;const i=r;let u=0;for(;r!==e.prev&&(0===u||r!==i);){if(u++,w(n.x,n.y,t.x,t.y,x.x,x.y,r.x,r.y)&&h(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function i(e,n,t,x){const r=e.prev,i=e,u=e.next;if(h(r,i,u)>=0)return!1;const o=r.x<i.x?r.x<u.x?r.x:u.x:i.x<u.x?i.x:u.x,l=r.y<i.y?r.y<u.y?r.y:u.y:i.y<u.y?i.y:u.y,f=r.x>i.x?r.x>u.x?r.x:u.x:i.x>u.x?i.x:u.x,y=r.y>i.y?r.y>u.y?r.y:u.y:i.y>u.y?i.y:u.y,p=M(o,l,n,t,x),c=M(f,y,n,t,x);let v=e.prevZ,s=e.nextZ;for(;v&&v.z>=p&&s&&s.z<=c;){if(v!==e.prev&&v!==e.next&&w(r.x,r.y,i.x,i.y,u.x,u.y,v.x,v.y)&&h(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,s!==e.prev&&s!==e.next&&w(r.x,r.y,i.x,i.y,u.x,u.y,s.x,s.y)&&h(s.prev,s,s.next)>=0)return!1;s=s.nextZ}for(;v&&v.z>=p;){if(v!==e.prev&&v!==e.next&&w(r.x,r.y,i.x,i.y,u.x,u.y,v.x,v.y)&&h(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;s&&s.z<=c;){if(s!==e.prev&&s!==e.next&&w(r.x,r.y,i.x,i.y,u.x,u.y,s.x,s.y)&&h(s.prev,s,s.next)>=0)return!1;s=s.nextZ}return!0}function u(e,n,t,x){const r=new B(e,n,t);return x?(r.next=x.next,r.prev=x,x.next.prev=r,x.next=r):(r.prev=r,r.next=r),r}function o(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function l(e){let n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function f(e,x,r,i){const u=new Array;for(let t=0,o=x.length;t<o;t++){const r=n(e,x[t]*i,t<o-1?x[t+1]*i:e.length,i,!1);r===r.next&&(r.steiner=!0),u.push(l(r))}u.sort(b);for(const n of u)y(n,r),r=t(r,r.next);return r}function y(e,n){if(n=p(e,n)){const x=q(n,e);t(x,x.next)}}function p(e,n){let t=n;const x=e.x,r=e.y;let i,u=-1/0;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const e=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(e<=x&&e>u){if(u=e,e===x){if(r===t.y)return t;if(r===t.next.y)return t.next}i=t.x<t.next.x?t:t.next}}t=t.next}while(t!==n);if(!i)return null;if(x===u)return i.prev;const o=i,l=i.x,f=i.y;let y,p=1/0;for(t=i.next;t!==o;)x>=t.x&&t.x>=l&&x!==t.x&&w(r<f?x:u,r,l,f,r<f?u:x,r,t.x,t.y)&&(y=Math.abs(r-t.y)/(x-t.x),(y<p||y===p&&t.x>i.x)&&g(t,e)&&(i=t,p=y)),t=t.next;return i}function c(e,n,t,x){for(let r;r!==e;r=r.next){if(r=r||e,null===r.z&&(r.z=M(r.x,r.y,n,t,x)),r.prev.next!==r||r.next.prev!==r)return r.prev.next=r,r.next.prev=r,c(e,n,t,x);r.prevZ=r.prev,r.nextZ=r.next}return e.prevZ.nextZ=null,e.prevZ=null,v(e)}function v(e){let n,t=1;for(;;){let x,r=e;e=null,n=null;let i=0;for(;r;){i++,x=r;let u=0;for(;u<t&&x;u++)x=x.nextZ;let o=t;for(;u>0||o>0&&x;){let t;0===u?(t=x,x=x.nextZ,o--):0!==o&&x?r.z<=x.z?(t=r,r=r.nextZ,u--):(t=x,x=x.nextZ,o--):(t=r,r=r.nextZ,u--),n?n.nextZ=t:e=t,t.prevZ=n,n=t}r=x}if(n.nextZ=null,t*=2,i<2)return e}}function s(e,n,t,x){const r=n&&n.length,i=r?n[0]*t:e.length;let u=Math.abs(a(e,0,i,t));if(r)for(let l=0,f=n.length;l<f;l++){const x=n[l]*t,r=l<f-1?n[l+1]*t:e.length;u-=Math.abs(a(e,x,r,t))}let o=0;for(let l=0;l<x.length;l+=3){const n=x[l]*t,r=x[l+1]*t,i=x[l+2]*t;o+=Math.abs((e[n]-e[i])*(e[r+1]-e[n+1])-(e[n]-e[r])*(e[i+1]-e[n+1]))}return 0===u&&0===o?0:Math.abs((o-u)/u)}function h(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function d(e,n,t,x){return!!(z(e,n)&&z(t,x)||z(e,x)&&z(t,n))||h(e,n,t)>0!=h(e,n,x)>0&&h(t,x,e)>0!=h(t,x,n)>0}function Z(e,n){let t=e;do{if(t.index!==e.index&&t.next.index!==e.index&&t.index!==n.index&&t.next.index!==n.index&&d(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function a(e,n,t,x){let r=0;for(let i=n,u=t-x;i<t;i+=x)r+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return r}function w(e,n,t,x,r,i,u,o){return(r-u)*(n-o)-(e-u)*(i-o)>=0&&(e-u)*(x-o)-(t-u)*(n-o)>=0&&(t-u)*(i-o)-(r-u)*(x-o)>=0}function g(e,n){return h(e.prev,e,e.next)<0?h(e,n,e.next)>=0&&h(e,e.prev,n)>=0:h(e,n,e.prev)<0||h(e,e.next,n)<0}function M(e,n,t,x,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-x)*r)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function z(e,n){return e.x===n.x&&e.y===n.y}function b(e,n){return e.x-n.x}function m(e,n,t){let x=e;do{const r=x.prev,i=x.next.next;!z(r,i)&&d(r,x,x.next,i)&&g(r,i)&&g(i,r)&&(n.push(r.index/t),n.push(x.index/t),n.push(i.index/t),o(x),o(x.next),x=e=i),x=x.next}while(x!==e);return x}function k(e,n,r,i,u,o){let l=e;do{let e=l.next.next;for(;e!==l.prev;){if(l.index!==e.index&&A(l,e)){let f=q(l,e);return l=t(l,l.next),f=t(f,f.next),x(l,n,r,i,u,o),void x(f,n,r,i,u,o)}e=e.next}l=l.next}while(l!==e)}function A(e,n){return e.next.index!==n.index&&e.prev.index!==n.index&&!Z(e,n)&&g(e,n)&&g(n,e)&&j(e,n)}function j(e,n){let t=e,x=!1;const r=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&r<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(x=!x),t=t.next}while(t!==e);return x}function q(e,n){const t=new B(e.index,e.x,e.y),x=new B(n.index,n.x,n.y),r=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=r,r.prev=t,x.next=t,t.prev=x,i.next=x,x.prev=i,x}class B{constructor(e,n,t){this.index=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}}export{s as deviation,e as earcut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{RgbaFloatEncoding as a}from\"../util/RgbaFloatEncoding.glsl.js\";function t(t){t.fragment.include(a),t.fragment.uniforms.add(\"uShadowMapTex\",\"sampler2D\"),t.fragment.uniforms.add(\"uShadowMapNum\",\"int\"),t.fragment.uniforms.add(\"uShadowMapDistance\",\"vec4\"),t.fragment.uniforms.add(\"uShadowMapMatrix\",\"mat4\",4),t.fragment.uniforms.add(\"uDepthHalfPixelSz\",\"float\"),t.fragment.code.add(e`\n    int chooseCascade(float _linearDepth, out mat4 mat) {\n      vec4 distance = uShadowMapDistance;\n      float depth = _linearDepth;\n\n      //choose correct cascade\n      int i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\n\n      mat = i == 0 ? uShadowMapMatrix[0] : i == 1 ? uShadowMapMatrix[1] : i == 2 ? uShadowMapMatrix[2] : uShadowMapMatrix[3];\n\n      return i;\n    }\n\n    vec3 lightSpacePosition(vec3 _vpos, mat4 mat) {\n      vec4 lv = mat * vec4(_vpos, 1.0);\n      lv.xy /= lv.w;\n      return 0.5 * lv.xyz + vec3(0.5);\n    }\n\n    vec2 cascadeCoordinates(int i, vec3 lvpos) {\n      return vec2(float(i - 2 * (i / 2)) * 0.5, float(i / 2) * 0.5) + 0.5 * lvpos.xy;\n    }\n\n    float readShadowMapDepth(vec2 uv, sampler2D _depthTex) {\n      return rgba2float(texture2D(_depthTex, uv));\n    }\n\n    float posIsInShadow(vec2 uv, vec3 lvpos, sampler2D _depthTex) {\n      return readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;\n    }\n\n    float filterShadow(vec2 uv, vec3 lvpos, float halfPixelSize, sampler2D _depthTex) {\n      float texSize = 0.5 / halfPixelSize;\n\n      // filter, offset by half pixels\n      vec2 st = fract((vec2(halfPixelSize) + uv) * texSize);\n\n      float s00 = posIsInShadow(uv + vec2(-halfPixelSize, -halfPixelSize), lvpos, _depthTex);\n      float s10 = posIsInShadow(uv + vec2(halfPixelSize, -halfPixelSize), lvpos, _depthTex);\n      float s11 = posIsInShadow(uv + vec2(halfPixelSize, halfPixelSize), lvpos, _depthTex);\n      float s01 = posIsInShadow(uv + vec2(-halfPixelSize, halfPixelSize), lvpos, _depthTex);\n\n      return mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n    }\n\n    float readShadowMap(const in vec3 _vpos, float _linearDepth) {\n      mat4 mat;\n      int i = chooseCascade(_linearDepth, mat);\n\n      if (i >= uShadowMapNum) { return 0.0; }\n\n      vec3 lvpos = lightSpacePosition(_vpos, mat);\n\n      // vertex completely outside? -> no shadow\n      if (lvpos.z >= 1.0) { return 0.0; }\n      if (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\n\n      // calc coord in cascade texture\n      vec2 uv = cascadeCoordinates(i, lvpos);\n\n      return filterShadow(uv, lvpos, uDepthHalfPixelSz, uShadowMapTex);\n    }\n  `)}!function(e){function a(e,a,t){a.shadowMappingEnabled&&(a.shadowMap.bind(e,t),a.shadowMap.bindView(e,a.origin))}function t(e,a,t){a.shadowMappingEnabled&&a.shadowMap.bindView(e,t)}function o(e,a){a.shadowMappingEnabled&&a.shadowMap.bindView(e,a.origin)}e.bindUniforms=a,e.bindViewCustomOrigin=t,e.bindView=o}(t||(t={}));export{t as ReadShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function a(a,r){0===r.output&&r.receiveShadows?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.code.add(e`\n      void forwardLinearDepth() { linearDepth = gl_Position.w; }\n    `)):1===r.output||3===r.output?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),a.vertex.code.add(e`\n      void forwardLinearDepth() {\n        linearDepth = (-position_view().z - cameraNearFar[0]) / (cameraNearFar[1] - cameraNearFar[0]);\n      }\n    `)):a.vertex.code.add(e`\n      void forwardLinearDepth() {}\n    `)}export{a as ForwardLinearDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isNone as o,isSome as i}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as y,project as g,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),o=e?e.offset:0;return new b({mode:t,offset:o})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const s=t.geometry;if(o(s))return null;const r=this._get(\"focusedSymbol\"),l=i(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,s,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;const l=1;let a=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?l:null;if(o(a)||!a.originalPoint.equals(s)){const t=s,o=e.spatialReference;if(y(t.spatialReference,o)){const e=g(t,o);a={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=a}}if(i(a)){const o=h(t,G),i=e.toScreen(a.mapPoint),s=a.radiusPx,n=i.x+c(r.xoffset),p=i.y-c(r.yoffset);return _(o,[n,p])<s*s?l:null}return null}_intersectDistance3D(e,t,o){const i=e.toMap(t,{include:[o]});return i&&d(i,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){const a=t.fragment.code;a.add(e`\n    vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)\n    {\n      return ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;\n    }\n    `),a.add(e`\n    float integratedRadiance(float cosTheta2, float roughness)\n    {\n      return (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);\n    }\n    `),a.add(e`\n    vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)\n    {\n      float cosTheta2 = 1.0 - RdotNG * RdotNG;\n      float intRadTheta = integratedRadiance(cosTheta2, roughness);\n\n      // Calculate the integrated directional radiance of the ground and the sky\n      float ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;\n      float sky = 2.0 - ground;\n      return (ground * ambientGround + sky * ambientSky) * 0.5;\n    }\n    `)}export{t as AnalyticalSkyModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{PiUtils as o}from\"./PiUtils.glsl.js\";import{AnalyticalSkyModel as t}from\"./AnalyticalSkyModel.glsl.js\";function n(n,a){const r=n.fragment.code;n.include(o),3===a.pbrMode||4===a.pbrMode?(r.add(e`\n    struct PBRShadingWater\n    {\n        float NdotL;   // cos angle between normal and light direction\n        float NdotV;   // cos angle between normal and view direction\n        float NdotH;   // cos angle between normal and half vector\n        float VdotH;   // cos angle between view direction and half vector\n        float LdotH;   // cos angle between light direction and half vector\n        float VdotN;   // cos angle between view direction and normal vector\n    };\n\n    float dtrExponent = ${a.useCustomDTRExponentForWater?\"2.2\":\"2.0\"};\n    `),r.add(e`\n    vec3 fresnelReflection(float angle, vec3 f0, float f90) {\n      return f0 + (f90 - f0) * pow(1.0 - angle, 5.0);\n    }\n    `),r.add(e`\n    float normalDistributionWater(float NdotH, float roughness)\n    {\n      float r2 = roughness * roughness;\n      float NdotH2 = NdotH * NdotH;\n      float denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;\n      return r2 / denom;\n    }\n    `),r.add(e`\n    float geometricOcclusionKelemen(float LoH)\n    {\n        return 0.25 / (LoH * LoH);\n    }\n    `),r.add(e`\n    vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)\n    {\n      vec3  F = fresnelReflection(props.VdotH, F0, F0Max);\n      float dSun = normalDistributionWater(props.NdotH, roughness);\n      float V = geometricOcclusionKelemen(props.LdotH);\n\n      float diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);\n      float strengthSunHaze  = 1.2;\n      float dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;\n\n      return ((dSun + dSunHaze) * V) * F;\n    }\n\n    vec3 tonemapACES(const vec3 x) {\n      return (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);\n    }\n    `)):1!==a.pbrMode&&2!==a.pbrMode||(n.include(t),r.add(e`\n    struct PBRShadingInfo\n    {\n        float NdotL;                  // cos angle between normal and light direction\n        float NdotV;                  // cos angle between normal and view direction\n        float NdotH;                  // cos angle between normal and half vector\n        float VdotH;                  // cos angle between view direction and half vector\n        float LdotH;                  // cos angle between view light direction and half vector\n        float NdotNG;                 // cos angle between normal and normal of the ground\n        float RdotNG;                 // cos angle between view direction reflected of the normal and normal of the ground\n        float NdotAmbDir;             // cos angle between view direction and the fill light in ambient illumination\n        float NdotH_Horizon;          // cos angle between normal and half vector defined with horizon illumination\n        vec3 skyRadianceToSurface;         // integrated radiance of the sky based on the surface roughness (used for specular reflection)\n        vec3 groundRadianceToSurface;      // integrated radiance of the ground based on the surface roughness (used for specular reflection)\n        vec3 skyIrradianceToSurface;       // irradiance of the sky (used for diffuse reflection)\n        vec3 groundIrradianceToSurface;    // irradiance of the ground (used for diffuse reflection)\n\n        float averageAmbientRadiance;      // average ambient radiance used to deduce black level in gamut mapping\n        float ssao;                   // ssao coefficient\n        vec3 albedoLinear;            // linear color of the albedo\n        vec3 f0;                      // fresnel value at normal incident light\n        vec3 f90;                     // fresnel value at 90o of incident light\n\n        vec3 diffuseColor;            // diffuse color of the material used in environment illumination\n        float metalness;              // metalness of the material\n        float roughness;              // roughness of the material\n    };\n    `),r.add(e`\n    float normalDistribution(float NdotH, float roughness)\n    {\n        float a = NdotH * roughness;\n        float b = roughness / (1.0 - NdotH * NdotH + a * a);\n        return b * b * INV_PI;\n    }\n    `),r.add(e`\n    const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);\n    const vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);\n    const vec2 c2 = vec2(-1.04, 1.04);\n\n    vec2 prefilteredDFGAnalytical(float roughness, float NdotV) {\n        vec4 r = roughness * c0 + c1;\n        float a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;\n        return c2 * a004 + r.zw;\n    }\n    `),r.add(e`\n    vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {\n      vec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);\n      vec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);\n\n      // From diffuse illumination calculate reflected color\n      vec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;\n\n      // From specular illumination calculate reflected color\n      vec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);\n      vec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;\n      vec3 specularComponent = specularColor * indirectSpecular;\n\n      return (diffuseComponent + specularComponent);\n    }\n    `),r.add(e`\n    float gamutMapChanel(float x, vec2 p){\n      return (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );\n    }`),r.add(e`\n    vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){\n      vec3 outColor;\n      vec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));\n      outColor.x = gamutMapChanel(inColor.x, p) ;\n      outColor.y = gamutMapChanel(inColor.y, p) ;\n      outColor.z = gamutMapChanel(inColor.z, p) ;\n      return outColor;\n    }\n    `))}export{n as PhysicallyBasedRendering};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as s,unwrap as r}from\"../../../../core/maybe.js\";import{c as e,b as i}from\"../../../../chunks/vec3f64.js\";import{e as a,a as n,l as h,b as o,g as c,n as l,q as f,f as m}from\"../../../../chunks/vec3.js\";import{a as u,b as p,c as d,m as b}from\"../../../../chunks/mat4.js\";import{a as g}from\"../../../../chunks/mat3f64.js\";import{a as y}from\"../../../../chunks/mat4f64.js\";import{a as v}from\"../../../../chunks/quatf64.js\";import{a as S}from\"../../../../chunks/vec4f64.js\";import{b as T}from\"../../../../chunks/mat3.js\";import{t as z}from\"../../../../chunks/vec4.js\";import{c as O}from\"../../../../chunks/quat.js\";import{c as _}from\"../../../../chunks/vec3f32.js\";import{c as L}from\"../../../../chunks/sphere.js\";import{e as x}from\"../../../../chunks/boundedPlane.js\";import{ray as M}from\"../../support/geometryUtils.js\";import{Object3D as q}from\"./Object3D.js\";function I(t){return(s,r,e)=>(a(X,s,r,e),!x(t,X))}class V{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.store=2}}class j{constructor(){this._transform=y(),this._transformInverse=new w({value:this._transform},u,y),this._transformInverseTranspose=new w(this._transformInverse,p,y),this._transformTranspose=new w({value:this._transform},p,y),this._transformInverseRotation=new w({value:this._transform},T,g)}invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){d(this._transform,t)}multiplyTransform(t){b(this._transform,this._transform,t)}set(t){d(this._transform,t),this.invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this.invalidateLazyTransforms()}}class w{constructor(t,s,r){this.original=t,this.update=s,this.dirty=!0,this.transform=r()}invalidate(){this.dirty=!0}get value(){return this.dirty&&(this.update(this.transform,this.original.value),this.dirty=!1),this.transform}}class k{constructor(){this.min=new G,this.max=new G,this.hud=new G,this.ground=new G}init(t){this.min.init(t),this.max.init(t),this.hud.init(t),this.ground.init(t),this.all=[]}}class G{constructor(t){this.normal=e(),this.transformation=y(),this._ray=M.create(),this.init(t)}get ray(){return this._ray}get hasIntersectionPoint(){return null!=this.dist}get distanceInRenderSpace(){if(null!=this.dist)return n(Y,this.ray.direction,this.dist),h(Y)}getIntersectionPoint(t){return!!this.hasIntersectionPoint&&(n(Y,this.ray.direction,this.dist),o(t,this.ray.origin,Y),!0)}getTransformedNormal(t){return c(Z,this.normal),Z[3]=0,z(Z,Z,this.transformation),c(t,Z),l(t,t),t}init(t){this.dist=void 0,this.target=void 0,this.name=void 0,this.drapedLayerOrder=void 0,this.drapedLayerGraphicOrder=void 0,this.center=null,this.geometryId=null,this.triangleNr=null,this.intersector=\"Stage\",t?M.copy(t,this._ray):this._ray=M.create()}set(t,s,r,e,a,n,h,o,l,f){t instanceof q&&(t={type:\"stage\",obj:t}),this.dist=r,c(this.normal,e),d(this.transformation,a),this.target=t,this.name=s,this.drapedLayerOrder=n,this.center=h?i(h):null,this.geometryId=o,this.triangleNr=l,this.drapedLayerGraphicOrder=f}copyFrom(t){M.copy(t._ray,this._ray),this.dist=t.dist,this.target=t.target,this.name=t.name,this.drapedLayerOrder=t.drapedLayerOrder,this.center=t.center?i(t.center):null,this.geometryId=t.geometryId,this.triangleNr=t.triangleNr,this.intersector=t.intersector,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,c(this.normal,t.normal),d(this.transformation,t.transformation)}toOwner(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return U(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return P(this.target,t);case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return U(this.target.metadata,t);case\"TerrainRenderer\":return t.map&&t.map.ground}}return null}toGraphic(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return R(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return N(this.target);case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return R(this.target.metadata,t)}}return null}}function U(r,e){return t(r)||null==r.layerUid?null:s(e.graphicsView)&&r.layerUid===e.graphicsView.graphics3d.layer.id?e.graphics:e.map.findLayerByUid(r.layerUid)}function R(e,i){if(t(e))return null;const a=U(e,i);if(t(a))return null;if(a===i.graphics)return s(i.graphicsView)?r(i.graphicsView.getGraphicFromGraphicUid(e.graphicUid)):null;const n=i.allLayerViews.find((t=>t.layer===a));return n?F(n,e):null}function F(t,s){return!t||t.suspended?null:\"getGraphicFromIntersectorMetadata\"in t&&s?t.getGraphicFromIntersectorMetadata(s):\"getGraphicFromGraphicUid\"in t&&null!=s.graphicUid?t.getGraphicFromGraphicUid(s.graphicUid):null}function P(t,s){const r=t.metadata.layerUid;return null!=r?s.map.findLayerByUid(r):null}function N(t){return t.metadata.createGraphic()}class A{constructor(t=0){this.offset=t,this.tmpVertex=e()}applyToVertex(t,s,r){const e=t+this.localOrigin[0],i=s+this.localOrigin[1],a=r+this.localOrigin[2],n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0]+this.localOrigin[0],r=t[1]+this.localOrigin[1],e=t[2]+this.localOrigin[2],i=t[3]+this.localOrigin[0],a=t[4]+this.localOrigin[1],n=t[5]+this.localOrigin[2],h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}}class B{constructor(t=0){this.offset=t,this.componentLocalOriginLength=0,this.tmpVertex=e(),this.mbs=S(),this.obb={center:e(),halfSize:_(),quaternion:null}}set localOrigin(t){this.componentLocalOriginLength=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}applyToVertex(t,s,r){const e=t,i=s,a=r+this.componentLocalOriginLength,n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0],r=t[1],e=t[2]+this.componentLocalOriginLength,i=t[3],a=t[4],n=t[5]+this.componentLocalOriginLength,h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}applyToMbs(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=this.offset/s;return this.mbs[0]=t[0]+t[0]*r,this.mbs[1]=t[1]+t[1]*r,this.mbs[2]=t[2]+t[2]*r,this.mbs[3]=t[3]+t[3]*this.offset/s,this.mbs}applyToObb(t){const s=t.center,r=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);this.obb.center[0]=s[0]+s[0]*r,this.obb.center[1]=s[1]+s[1]*r,this.obb.center[2]=s[2]+s[2]*r,f(this.obb.halfSize,t.halfSize,t.quaternion),o(this.obb.halfSize,this.obb.halfSize,t.center);const e=this.offset/Math.sqrt(this.obb.halfSize[0]*this.obb.halfSize[0]+this.obb.halfSize[1]*this.obb.halfSize[1]+this.obb.halfSize[2]*this.obb.halfSize[2]);return this.obb.halfSize[0]+=this.obb.halfSize[0]*e,this.obb.halfSize[1]+=this.obb.halfSize[1]*e,this.obb.halfSize[2]+=this.obb.halfSize[2]*e,m(this.obb.halfSize,this.obb.halfSize,t.center),O($,t.quaternion),f(this.obb.halfSize,this.obb.halfSize,$),this.obb.halfSize[0]*=this.obb.halfSize[0]<0?-1:1,this.obb.halfSize[1]*=this.obb.halfSize[1]<0?-1:1,this.obb.halfSize[2]*=this.obb.halfSize[2]<0?-1:1,this.obb.quaternion=t.quaternion,this.obb}}class D{constructor(t=0){this.offset=t,this.sphere=L(),this.tmpVertex=e()}applyToVertex(t,s,r){const e=this.objectTransform.transform;let i=e[0]*t+e[4]*s+e[8]*r+e[12],a=e[1]*t+e[5]*s+e[9]*r+e[13],n=e[2]*t+e[6]*s+e[10]*r+e[14];const h=this.offset/Math.sqrt(i*i+a*a+n*n);i+=i*h,a+=a*h,n+=n*h;const o=this.objectTransform.inverse;return this.tmpVertex[0]=o[0]*i+o[4]*a+o[8]*n+o[12],this.tmpVertex[1]=o[1]*i+o[5]*a+o[9]*n+o[13],this.tmpVertex[2]=o[2]*i+o[6]*a+o[10]*n+o[14],this.tmpVertex}applyToMinMax(t,s){const r=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*r,t[1]+=t[1]*r,t[2]+=t[2]*r;const e=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]+=s[0]*e,s[1]+=s[1]*e,s[2]+=s[2]*e}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=this.offset/s;return this.sphere[0]=t[0]+t[0]*r,this.sphere[1]=t[1]+t[1]*r,this.sphere[2]=t[2]+t[2]*r,this.sphere[3]=t[3]+t[3]*this.offset/s,this.sphere}}const C=new D;function E(t){return s(t)?(C.offset=t,C):null}const H=new B;function J(t){return s(t)?(H.offset=t,H):null}const K=new A;function Q(t){return s(t)?(K.offset=t,K):null}const W=\"terrain\",X=e(),Y=e(),Z=S(),$=v();export{B as I3SVerticalOffsetGlobalViewingMode,V as IntersectorOptions,G as IntersectorResult,k as IntersectorResults,j as IntersectorTransform,D as Object3DVerticalOffsetGlobalViewingMode,W as TERRAIN_ID,A as TerrainVerticalOffsetGlobalViewingMode,J as getVerticalOffsetI3S,E as getVerticalOffsetObject3D,Q as getVerticalOffsetTerrain,I as sliceFilterPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{getOwnPropertyMetadata as o}from\"../metadata.js\";import{propertyJSONMeta as i}from\"./property.js\";import{isMultiOriginJSONMixin as n}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as s,isBlobProtocol as u,join as p,getPathExtension as a}from\"../../urlUtils.js\";import{generateUUID as c}from\"../../uuid.js\";import{nameToId as l}from\"../PropertyOrigin.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const n=w(r,t,o);for(const r of e){const e=i(t,r,o);for(const t in n)e[t]=n[t]}}}function w(r,e,o){if(t(r)&&\"resource\"===r.type)return v(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(e,i,p){const a=o(i,p);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return a.type===String?o:\"function\"==typeof a.type?new a.type({url:o}):void 0},write:{writer(o,i,c,f){if(!f||!f.resources)return\"string\"==typeof o?void(i[c]=y(o,f)):void(i[c]=o.write({},f));const m=P(o),d=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=a.type!==String&&(!n(this)||f&&f.origin&&this.originIdOf(p)>l(f.origin));f&&f.portalItem&&t(d)&&!s(d)?g?j(this,p,o,d,i,c,f,e):I(d,i,c,f):f&&f.portalItem&&(r(d)||t(h(d))||u(d)||g)?U(this,p,o,d,i,c,f,e):i[c]=d}}}}function U(t,r,o,i,n,s,a,l){const m=c(),y=S(o,i,a),h=p(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=a.portalItem.resourceFromPath(d);u(i)&&a.resources.pendingOperations.push(b(i).then((t=>{g.path=`${h}.${f(t)}`,n[s]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,a.resources.toAdd),n[s]=g.itemRelativeUrl}function j(t,r,e,o,i,n,s,u){const p=s.portalItem.resourceFromPath(o),c=S(e,o,s);f(c)===a(p.path)?(O(t,r,p,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,u)}function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{R(t,r,e)}})}function S(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function b(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function P(t){return r(t)?null:\"string\"==typeof t?t:t.url}function R(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";function n(n,f,i){var u;const c=n.byteLength/(4*f),s=new Uint32Array(n,0,c*f);let a=new Uint32Array(c);const h=null!=(u=null==i?void 0:i.minReduction)?u:0,d=(null==i?void 0:i.originalIndices)||null,g=d?d.length:0,y=(null==i?void 0:i.componentOffsets)||null;let U=0;if(y)for(let t=0;t<y.length-1;t++){const n=y[t+1]-y[t];n>U&&(U=n)}else U=c;const w=Math.floor(1.1*U)+1;(null==o||o.length<2*w)&&(o=new Uint32Array(t(2*w)));for(let t=0;t<2*w;t++)o[t]=0;let A=0;const m=!!y&&!!d,b=m?g:c,p=m?new Uint32Array(g):null,v=1.96;let M=0!==h?Math.ceil(4*v*v/(h*h)*h*(1-h)):b,q=1,x=y?y[1]:b;for(let t=0;t<b;t++){if(t===M){const n=1-A/t;if(n+v*Math.sqrt(n*(1-n)/t)<h)return null;M*=2}if(t===x){for(let t=0;t<2*w;t++)o[t]=0;if(d)for(let t=y[q-1];t<y[q];t++)p[t]=a[d[t]];x=y[++q]}const n=m?d[t]:t,l=n*f,i=r(s,l,f);let u=i%w,c=A;for(;0!==o[2*u+1];){if(o[2*u]===i){const t=o[2*u+1]-1;if(e(s,l,t*f,f)){c=a[t];break}}u++,u>=w&&(u-=w)}c===A&&(o[2*u]=i,o[2*u+1]=n+1,A++),a[n]=c}if(0!==h&&1-A/c<h)return null;if(m){for(let t=y[q-1];t<p.length;t++)p[t]=a[d[t]];a=p}const j=new Uint32Array(f*A);A=0;for(let t=0;t<b;t++)if(a[t]===A){l(s,(m?d[t]:t)*f,j,A*f,f),A++}if(d&&!m){const t=new Uint32Array(g);for(let n=0;n<t.length;n++)t[n]=a[d[n]];a=t}return{buffer:j.buffer,indices:a,uniqueCount:A}}function e(t,n,e,l){for(let r=0;r<l;r++)if(t[n+r]!==t[e+r])return!1;return!0}function l(t,n,e,l,r){for(let o=0;o<r;o++)e[l+o]=t[n+o]}function r(t,n,e){let l=0;for(let r=0;r<e;r++)l=t[n+r]+l|0,l=l+(l<<11)+(l>>>2)|0;return l>>>0}let o=null;export default n;export{n as deduplicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{FoamIntensity as t}from\"./FoamRendering.glsl.js\";function r(r){r.fragment.uniforms.add(\"texWaveNormal\",\"sampler2D\"),r.fragment.uniforms.add(\"texWavePerturbation\",\"sampler2D\"),r.fragment.uniforms.add(\"waveParams\",\"vec4\"),r.fragment.uniforms.add(\"waveDirection\",\"vec2\"),r.include(t),r.fragment.code.add(e`\n      const vec2  FLOW_JUMP = vec2(6.0/25.0, 5.0/24.0);\n\n      vec2 textureDenormalized2D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rg - 1.0;\n      }\n\n      float sampleNoiseTexture(vec2 _uv) {\n        return texture2D(texWavePerturbation, _uv).b;\n      }\n\n      vec3 textureDenormalized3D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rgb - 1.0;\n      }\n\n      float computeProgress(vec2 uv, float time) {\n        return fract(time);\n      }\n\n      float computeWeight(vec2 uv, float time) {\n        float progress = computeProgress(uv, time);\n        return 1.0 - abs(1.0 - 2.0 * progress);\n      }\n\n      vec3 computeUVPerturbedWeigth(sampler2D texFlow, vec2 uv, float time, float phaseOffset) {\n        float flowStrength = waveParams[2];\n        float flowOffset = waveParams[3];\n\n        vec2 flowVector = textureDenormalized2D(texFlow, uv) * flowStrength;\n\n        float progress = computeProgress(uv, time + phaseOffset);\n        float weight = computeWeight(uv, time + phaseOffset);\n\n        vec2 result = uv;\n        result -= flowVector * (progress + flowOffset);\n        result += phaseOffset;\n        result += (time - progress) * FLOW_JUMP;\n\n        return vec3(result, weight);\n      }\n\n      const float TIME_NOISE_TEXTURE_REPEAT = 0.3737;\n      const float TIME_NOISE_STRENGTH = 7.77;\n\n      vec3 getWaveLayer(sampler2D _texNormal, sampler2D _dudv, vec2 _uv, vec2 _waveDir, float time) {\n        float waveStrength = waveParams[0];\n\n        // overall directional shift in uv's for directional wave movement for\n        // now we do a hard coded scale for wave speed such that a unit length\n        // direction is not too fast.\n        vec2 waveMovement = time * -_waveDir;\n\n        float timeNoise = sampleNoiseTexture(_uv * TIME_NOISE_TEXTURE_REPEAT) * TIME_NOISE_STRENGTH;\n\n        // compute two perturbed uvs and blend weights\n        // then sample the wave normals at the two positions and blend\n        vec3 uv_A = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.0);\n        vec3 uv_B = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.5);\n\n        vec3 normal_A = textureDenormalized3D(_texNormal, uv_A.xy) * uv_A.z;\n        vec3 normal_B = textureDenormalized3D(_texNormal, uv_B.xy) * uv_B.z;\n\n        // logic to flatten the wave pattern\n        // scale xy components of the normal, then adjust z (up) component\n        vec3 mixNormal = normalize(normal_A + normal_B);\n        mixNormal.xy *= waveStrength;\n        mixNormal.z = sqrt(1.0 - dot(mixNormal.xy, mixNormal.xy));\n\n        return mixNormal;\n      }\n\n      vec4 getSurfaceNormalAndFoam(vec2 _uv, float _time) {\n        float waveTextureRepeat = waveParams[1];\n        vec3 normal = getWaveLayer(texWaveNormal, texWavePerturbation, _uv * waveTextureRepeat, waveDirection, _time);\n        float foam  = normals2FoamIntensity(normal, waveParams[0]);\n        return vec4(normal, foam);\n      }\n    `)}!function(e){function t(e,t){e.setUniform1i(\"texWaveNormal\",0),e.setUniform1i(\"texWavePerturbation\",1),e.setUniform4f(\"waveParams\",t.waveStrength,t.waveTextureRepeat,t.flowStrength,t.flowOffset),e.setUniform2f(\"waveDirection\",t.waveDirection[0]*t.waveVelocity,t.waveDirection[1]*t.waveVelocity)}e.bindUniforms=t}(r||(r={}));export{r as WaterDistortion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as t}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{OutputHighlight as n}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{multipassTerrainTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ReadShadowMap as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{WaterDistortion as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{ForwardLinearDepth as g}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{NormalUtils as c}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js\";import{Water as m}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js\";function p(p){const u=new a;return u.include(r,{linearDepth:!1}),u.attributes.add(\"position\",\"vec3\"),u.attributes.add(\"uv0\",\"vec2\"),u.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"localOrigin\",\"vec3\"),u.vertex.uniforms.add(\"waterColor\",\"vec4\"),0!==p.output&&7!==p.output||(u.include(c,p),u.include(g,p),u.varyings.add(\"vuv\",\"vec2\"),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vnormal\",\"vec3\"),u.varyings.add(\"vtbnMatrix\",\"mat3\"),p.multipassTerrainEnabled&&u.varyings.add(\"depth\",\"float\"),u.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(d)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vuv = uv0;\n        vpos = position;\n\n        vnormal = getLocalUp(vpos, localOrigin);\n        vtbnMatrix = getTBNMatrix(vnormal);\n\n        ${p.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n\n        gl_Position = transformPosition(proj, view, vpos);\n        ${0===p.output?\"forwardLinearDepth();\":\"\"}\n      }\n    `)),p.multipassTerrainEnabled&&(u.fragment.include(t),u.include(l,p)),7===p.output&&(u.include(i,p),u.fragment.uniforms.add(\"waterColor\",\"vec4\"),u.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n          ${p.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n          gl_FragColor = vec4(waterColor.a);\n        }\n      `)),0===p.output&&(u.include(v,p),u.include(i,p),p.receiveShadows&&u.include(s,p),u.include(m,p),u.fragment.uniforms.add(\"waterColor\",\"vec4\").add(\"lightingMainDirection\",\"vec3\").add(\"lightingMainIntensity\",\"vec3\").add(\"camPos\",\"vec3\").add(\"timeElapsed\",\"float\").add(\"view\",\"mat4\"),u.fragment.include(o),u.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${p.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        vec3 localUp = vnormal;\n        // the created normal is in tangent space\n        vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n\n        // we rotate the normal according to the tangent-bitangent-normal-Matrix\n        vec3 n = normalize(vtbnMatrix * tangentNormalFoam.xyz);\n        vec3 v = -normalize(vpos - camPos);\n        vec3 l = normalize(-lightingMainDirection);\n        float shadow = ${p.receiveShadows?e`1.0 - readShadowMap(vpos, linearDepth)`:\"1.0\"};\n        vec4 vPosView = view*vec4(vpos, 1.0);\n        vec4 final = vec4(getSeaColor(n, v, l, waterColor.rgb, lightingMainIntensity, localUp, shadow, tangentNormalFoam.w, vPosView.xyz), waterColor.w);\n\n        // gamma correction\n        gl_FragColor = delinearizeGamma(final);\n        gl_FragColor = highlightSlice(gl_FragColor, vpos);\n        ${p.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),2===p.output&&(u.include(c,p),u.include(v,p),u.include(i,p),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vuv\",\"vec2\"),u.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(d)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vuv = uv0;\n          vpos = position;\n\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),u.fragment.uniforms.add(\"timeElapsed\",\"float\"),u.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n\n          // the created normal is in tangent space and foam\n          vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n          tangentNormalFoam.xyz = normalize(tangentNormalFoam.xyz);\n\n          gl_FragColor = vec4((tangentNormalFoam.xyz + vec3(1.0)) * 0.5, tangentNormalFoam.w);\n        }\n    `)),5===p.output&&(u.varyings.add(\"vpos\",\"vec3\"),u.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(d)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vpos = position;\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),u.fragment.uniforms.add(\"waterColor\",\"vec4\"),u.fragment.code.add(e`\n        void main() {\n          gl_FragColor = waterColor;\n        }\n    `)),4===p.output&&(u.include(n),u.varyings.add(\"vpos\",\"vec3\"),u.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(d)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vpos = position;\n        gl_Position = transformPosition(proj, view, vpos);\n      }\n    `),u.include(i,p),u.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        outputHighlight();\n      }\n    `)),u}var u=Object.freeze({__proto__:null,build:p});export{u as W,p as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ScreenSpacePass as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";function n(){const n=new r;return n.include(o),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"color\",\"vec4\"),n.fragment.code.add(e`\n    void main() {\n      vec4 texColor = texture2D(tex, uv);\n      gl_FragColor = texColor * color;\n    }\n  `),n}var a=Object.freeze({__proto__:null,build:n});export{a as T,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";var i;!function(i){function r(i,r){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`\n    float computeRenderPixelSizeAt( vec3 pWorld ){\n      vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\n      float viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\n      return viewDirectionDistance*perScreenPixelRatio;\n    }\n\n    vec3 screenSizeScaling(vec3 position, vec3 anchor){\n      return position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n    }\n  `)}function o(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}i.builder=r,i.bindPassUniforms=o}(i||(i={}));export{i as ScreenSizeScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as d}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{symbolAlphaCutoff as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{multipassTerrainTest as n}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ScreenSizeScaling as s}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";function t(t){const c=new i;return c.include(r,{linearDepth:!1}),c.include(s.builder,{}),c.include(a,t),c.fragment.include(o),c.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),c.fragment.uniforms.add(\"color\",\"vec4\"),c.attributes.add(\"position\",\"vec3\"),c.varyings.add(\"vWorldPosition\",\"vec3\"),t.multipassTerrainEnabled&&c.varyings.add(\"depth\",\"float\"),t.screenSizeEnabled&&c.attributes.add(\"offset\",\"vec3\"),t.shadingEnabled&&(c.vertex.uniforms.add(\"viewNormal\",\"mat4\"),c.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),c.attributes.add(\"normal\",\"vec3\"),c.varyings.add(\"vViewNormal\",\"vec3\")),c.vertex.code.add(e`\n    void main(void) {\n      vWorldPosition = ${t.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),t.shadingEnabled&&c.vertex.code.add(e`\n      vec3 worldNormal = normal;\n      vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;\n    `),c.vertex.code.add(e`\n    ${t.multipassTerrainEnabled?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),t.multipassTerrainEnabled&&(c.fragment.include(d),c.include(n,t)),c.fragment.code.add(e`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${t.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    `),t.shadingEnabled?c.fragment.code.add(e`\n      vec3 viewNormalNorm = normalize(vViewNormal);\n      float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 finalColor = mix(color, shadedColor, shadingFactor);\n    `):c.fragment.code.add(e`\n      vec4 finalColor = color;\n    `),c.fragment.code.add(e`\n      if (finalColor.a < ${e.float(l)}) {\n        discard;\n      }\n      ${7===t.output?e`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${0===t.output?e`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${t.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),c}var c=Object.freeze({__proto__:null,build:t});export{c as S,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as t}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{symbolAlphaCutoff as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{LineStipple as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";import{VertexColor as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";function n(n){const p=new o;return p.include(i,{linearDepth:!1}),p.include(s,n),p.include(a,n),p.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),p.attributes.add(\"position\",\"vec3\"),p.varyings.add(\"vpos\",\"vec3\"),p.vertex.code.add(e`\n    void main(void) {\n      vpos = position;\n      forwardNormalizedVertexColor();\n      gl_Position = transformPosition(proj, view, vpos);\n  `),n.stippleEnabled&&(p.attributes.add(\"auxpos1\",\"vec3\"),p.vertex.uniforms.add(\"ndcToPixel\",\"vec2\"),p.vertex.code.add(e`\n    vec4 vpos2 = transformPosition(proj, view, auxpos1);\n    float lineSegmentPixelSize = length((vpos2.xy / vpos2.w - gl_Position.xy / gl_Position.w) * ndcToPixel);\n\n    stipplePatternUv = lineSegmentPixelSize * stipplePatternPixelSizeInv;\n    ${n.stippleIntegerRepeatsEnabled?\"stipplePatternUv = floor(stipplePatternUv + 0.5);\":\"\"}\n\n    // Cancel out perspective correct interpolation because we want this length the really represent\n    // the screen distance\n    stipplePatternUv *= gl_Position.w;\n    `)),p.vertex.code.add(e`\n  }\n  `),4===n.output&&p.include(t),p.include(r,n),p.fragment.uniforms.add(\"constantColor\",\"vec4\").add(\"alphaCoverage\",\"float\"),p.fragment.code.add(e`\n  void main() {\n    discardBySlice(vpos);\n\n    vec4 color = ${n.attributeColor?\"vColor\":\"constantColor\"};\n\n    float stippleAlpha = getStippleAlpha();\n    discardByStippleAlpha(stippleAlpha, stippleAlphaColorDiscard);\n\n    vec4 finalColor = blendStipple(vec4(color.rgb, color.a * alphaCoverage), stippleAlpha);\n\n    if (finalColor.a < ${e.float(l)}) {\n      discard;\n    }\n\n    ${0===n.output?e`gl_FragColor = highlightSlice(finalColor, vpos);`:\"\"}\n    ${4===n.output?e`outputHighlight();`:\"\"}\n  }\n  `),p}var p=Object.freeze({__proto__:null,build:n});export{p as N,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as e}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function r(){const r=new e;return r.extensions.add(\"GL_OES_standard_derivatives\"),r.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),r.attributes.add(\"position\",\"vec3\"),r.attributes.add(\"uv0\",\"vec2\"),r.varyings.add(\"vUV\",\"vec2\"),r.vertex.code.add(d`\n    void main(void) {\n      vUV = uv0;\n      gl_Position = proj * view * vec4(position, 1.0);\n    }\n  `),r.fragment.uniforms.add(\"backgroundColor\",\"vec4\").add(\"gridColor\",\"vec4\").add(\"ratio\",\"float\").add(\"gridWidth\",\"float\"),r.fragment.code.add(d`\n    void main() {\n      const float LINE_WIDTH = 1.0;\n\n      vec2 uvScaled = vUV * gridWidth;\n      vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));\n      vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);\n\n      // mask aliasing along edges\n      grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);\n      grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);\n\n      float gridFade = max(grid.x, grid.y);\n\n      float gridAlpha = gridColor.a * gridFade;\n\n      // premultiply alpha in output\n      gl_FragColor =\n        vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +\n        vec4(gridColor.rgb, 1.0) * gridAlpha;\n    }\n  `),r}var a=Object.freeze({__proto__:null,build:r});export{a as S,r as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as d}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{defaultMaskAlphaCutoff as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{multipassTerrainTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";function s(s){const n=new a;return n.include(r,{linearDepth:!1}),n.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),n.attributes.add(\"position\",\"vec3\"),n.attributes.add(\"uv0\",\"vec2\"),n.varyings.add(\"vpos\",\"vec3\"),s.multipassTerrainEnabled&&n.varyings.add(\"depth\",\"float\"),n.vertex.uniforms.add(\"textureCoordinateScaleFactor\",\"vec2\"),n.vertex.code.add(e`\n    void main(void) {\n      vpos = position;\n      ${s.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),n.include(i,s),s.multipassTerrainEnabled&&(n.fragment.include(d),n.include(l,s)),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"opacity\",\"float\"),n.varyings.add(\"vTexCoord\",\"vec2\"),7===s.output?n.fragment.code.add(e`\n    void main() {\n      discardBySlice(vpos);\n      ${s.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${e.float(t)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(n.fragment.include(o),n.fragment.code.add(e`\n    void main() {\n      discardBySlice(vpos);\n      ${s.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${e.float(t)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${s.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),n}var n=Object.freeze({__proto__:null,build:s});export{n as I,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.code.add(t`\n    float normals2FoamIntensity(vec3 n, float waveStrength){\n      float normalizationFactor =  max(0.015, waveStrength);\n      return max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n    }\n  `)}function n(o){o.fragment.code.add(t`\n    vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\n      return foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n    }\n  `)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function n(n,r){1===r.viewingMode?n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return normalize(pos + origin);\n      }\n    `):n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return vec3(0.0, 0.0, 1.0); // WARNING: up-axis dependent code\n      }\n    `),1===r.viewingMode?n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = normalize(cross(vec3(0.0, 0.0, 1.0), n));\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `):n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = vec3(1.0, 0.0, 0.0);\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `)}export{n as NormalUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../core/lang.js\";import{isSome as t,filterNones as o,isNone as n}from\"../../../core/maybe.js\";import{equals as r}from\"../../../core/arrayUtils.js\";import{isValid as a}from\"../../../geometry/support/spatialReferenceUtils.js\";import s from\"../../../geometry/Point.js\";import i from\"../../../geometry/Multipoint.js\";import{unnormalizeGeometryOnDatelineCrossing as l,isClockwise as y,unnormalizeVerticesOnDatelineCrossing as c}from\"../../../geometry/support/coordsUtils.js\";import p from\"../../../geometry/Polygon.js\";import x from\"../../../geometry/Polyline.js\";import\"../../../geometry.js\";import{getMetersPerUnitForSR as m}from\"../../../core/unitUtils.js\";import u from\"../../../geometry/Circle.js\";import{simplify as f,distance as h}from\"../../../geometry/geometryEngine.js\";import{makeSurfacePoint as M}from\"./surfaceCoordinateSystems.js\";function g(e,o,n=null){return t(n)?[e,o,n]:[e,o]}function d(e,t){const o=new s({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(o.z=e[2]),o}function R(e,t){return new i({points:e,spatialReference:t})}function j(e,t,o){const n=new x({paths:e,spatialReference:t});return o&&l(n),n}function b(t,o,n,s=!0){const i=e(t);i.forEach((e=>{const t=e[0],o=e[e.length-1];r(t,o)&&1!==e.length||e.push(e[0])}));let c=new p({rings:i,spatialReference:o});return c.rings.forEach((e=>{y(e,!1,!1)||e.reverse()})),n&&l(c),s&&c.isSelfIntersecting&&a(o)&&(c=f(c)),c}function T(e,t,n){const r=t.mapToLocalMultiple(e),a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y},l=Math.round(i.x-s.x),y=Math.round(i.y-s.y),c=Math.max(Math.abs(l),Math.abs(y));if(n){const e={x:s.x+c,y:s.y+c},t={x:s.x-c,y:s.y-c};a.push(M(e.x,t.y),M(t.x,t.y),M(t.x,e.y),M(e.x,e.y))}else{const e={x:l>0?s.x+c:s.x-c,y:y>0?s.y+c:s.y-c};a.push(M(s.x,s.y),M(e.x,s.y),M(e.x,e.y),M(s.x,e.y))}return b([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function U(e,t,n){let r=t.mapToLocalMultiple(e);if(1===r.length){const e=48,t=r[0];r=[M(t.x-e,t.y+e),M(t.x+e,t.y-e),M(t.x+e,t.y-e),M(t.x-e,t.y+e)]}const a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y};if(n){const e=Math.round(i.x-s.x),t=Math.round(i.y-s.y);a.push(M(s.x-e,s.y-t),M(i.x,s.y-t),M(i.x,i.y),M(s.x-e,i.y))}else a.push(M(s.x,s.y),M(i.x,s.y),M(i.x,i.y),M(s.x,i.y));return b([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function w(e,t,o,r){const s=t.mapToLocalMultiple(e);let i=null,l=null;if(o)i=s[0],l=s[1];else{const e=s[0],t=s[1],o=Math.round(t.x-e.x),n=Math.round(t.y-e.y),r=Math.max(Math.abs(o),Math.abs(n));i=M(o>0?e.x+r/2:e.x-r/2,n>0?e.y+r/2:e.y-r/2),l=M(Math.abs(o)>Math.abs(n)?i.x-r/2:i.x,Math.abs(o)>Math.abs(n)?i.y:i.y-r/2)}const y=t.localToMap(i),p=t.localToMap(l);if(n(y)||n(p))return null;t.doUnnormalization&&c([[y,p]],t.spatialReference);const x=d(y,t.spatialReference),f=d(p,t.spatialReference),g=m(t.spatialReference);let R=0;if(a(t.spatialReference))R=g*h(x,f,null);else{const e=i.x-l.x,t=i.y-l.y;R=g*Math.sqrt(e*e+t*t)*(r||1)}const j=new u({center:x,radius:R,radiusUnit:\"meters\",spatialReference:t.spatialReference});return b(j.rings,j.spatialReference,!1)}function z(e,t,n){const r=t.mapToLocalMultiple(e),a=r[0],s=r[1],i=Math.round(s.x-a.x),l=Math.round(s.y-a.y),y=M(n?a.x:a.x+i/2,n?a.y:a.y+l/2),c=n?i:i/2,p=n?l:l/2,x=60,m=[],u=2*Math.PI/x;for(let o=0;o<x;o++){const e=Math.cos(o*u),t=Math.sin(o*u),n=M(c*e+y.x,p*t+y.y);m.push(n)}return m.push(m[0]),b([o(m.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!1)}export{w as createCircle,z as createEllipse,R as createMultipoint,d as createPoint,b as createPolygon,j as createPolyline,U as createRectangle,T as createSquare,g as makeMapPoint};\n"],"sourceRoot":""}