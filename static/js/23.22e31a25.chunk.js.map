{"version":3,"sources":["../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/views/2d/engine/RasterBitmap.js","../node_modules/@arcgis/core/views/2d/engine/RasterTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/ClipArea.js","../node_modules/@arcgis/core/views/layers/support/ClipRect.js","../node_modules/@arcgis/core/views/layers/support/Geometry.js","../node_modules/@arcgis/core/views/layers/support/Path.js","../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js"],"names":["p","u","constructor","super","arguments","this","_rasterFieldPrefix","layer","view","fullExtent","tileInfo","datumTransformation","renderer","dynamicRangeAdjustment","e","r","i","Promise","reject","o","popupEnabled","a","n","l","t","popupTemplate","value","identify","f","m","join","ObjectId","_formatAttributeValue","rasterInfo","attributeTable","features","length","filter","attributes","Value","VALUE","String","hasOwnProperty","s","clone","sourceLayer","push","updateFullExtent","spatialReference","_set","resolve","fieldInfos","_getFieldInfo","format","trim","indexOf","_formatDelimitedString","_formatNumberFromString","toLowerCase","some","fieldName","replace","split","map","Number","isNaN","prototype","readOnly","_","bandCount","outMin","outMax","minCutOff","maxCutOff","factor","useGamma","gamma","gammaCorrection","colormap","colormapOffset","type","x","_textureInvalidated","_memoryUsed","_supportsBilinear","stencilRef","coordScale","_symbolizerParameters","height","isRendereredSource","pixelRatio","resolution","rotation","_source","rawPixelData","_suspended","_bandIds","_interpolation","_transformGrid","width","y","transforms","dvs","source","transformGrid","interpolation","destroy","getTextures","textures","forEach","dispose","_rasterTexture","_transformGridTexture","_colormapTexture","_rasterTextureBandIds","stage","ready","requestRender","invalidateTexture","setSamplingMode","setTransform","toScreenNoRotation","h","d","Math","PI","displayViewMat3","names","getMemoryUsage","descriptor","reduce","onAttach","onDetach","updateTexture","context","pixels","_createOrDestroyRasterTexture","_updateColormapTexture","setData","suspended","bandIds","capabilities","textureFloat","textureFloatLinear","_colormap","symbolizerParameters","bitmap","once","isCustomTilingScheme","createTile","_getTileBounds","_tileInfoView","size","destroyTile","prepareRenderPasses","registerRenderPass","name","brushes","raster","target","children","drawPhase","MAP","doRender","visible","getTileBounds","world","lodAt","level","V","getLogger","L","q","z","C","j","T","_tileStrategy","_fetchQueue","_blockCacheRegistryUrl","_blockCacheRegistryId","_bitmapView","_emptyTilePixelBlock","_srcResolutions","_previousLOD","_needBlockCacheUpdate","_globalSymbolizerParams","_symbolizerParams","_abortController","_globalUpdateRequested","_isCustomTilingScheme","useWebGLForProcessing","_redrawDebounced","_redrawImage","initialize","addResolvingPromise","_get","useProgressiveUpdate","removeAllChildren","_getCacheSize","v","cachePolicy","resampling","acquireTile","releaseTile","cacheSize","tileInfoView","requestUpdate","hitTest","toMap","geometry","update","pause","state","resume","extent","scale","getClosestInfoForScale","toJSON","fromJSON","ioConfig","sampling","_updateSymbolizerParams","updateCacheSize","notifyChange","attach","increaseRasterJobHandlerUsage","S","supportsTextureFloat","allowPartialFill","_initializeTileInfo","R","U","concurrency","process","fetchTile","k","container","addChild","handles","add","catch","error","_canUseMajorityInterpolationOnDataSource","refreshDebounced","_updateBlockCacheRegistry","detach","remove","decreaseRasterJobHandlerUsage","clear","w","moveStart","viewChange","moveEnd","hasTilingEffects","abort","signal","then","createFetchPopupFeaturesQueryGeometry","updateRequested","updateRenderer","reset","tiles","_enqueueTileFetch","isUpdating","getTileCoords","key","getTileResolution","id","removeChild","_canUseWebGLForProcessing","registryId","requestRawData","srcResolution","row","col","symbolizer","canRenderInWebGL","c","xmin","ymax","scales","srcResolutions","b","create","origin","has","moving","pixelBlock","applyRenderer","_createEmptyTilePixelBlock","_getLayerInterpolation","_updateGlobalSymbolizerParams","async","Uint8Array","mask","pixelType","fetchPixels","generateWebGLParameters","g","isGCS","isGeographic","round","url","multidimensionalDefinition","multidimensionalInfo","getSliceIndex","P","I","D","EventedMixin","parent","when","title","declaredClass","get","canResume","getSuspendInfo","legendEnabled","updatingHandles","updating","_override","_clearOverride","suspendInfo","viewNotReady","loaded","layerNotLoaded","layerInvisible","Boolean","left","right","top","bottom","json","write","base","typeMap","polygon","types","read","path","ofType","rect","clips","attached","lastUpdateId","fadeTransitionEnabled","opacity","blendMode","effect","on","whenLayerView","destroyed","isVisibleAtScale","minScale","maxScale","processUpdate","isFulfilled","isResolved","isRendering","set","triangleCountReportedInDebug","tileMat3","triangleCount","bounds","coordRange","texture","_coords","_bounds","coords","renderChildren","sortChildren","setStencilReference","createRenderParams","requiredLevel","displayLevel","scaleToZoom","DEBUG","HIGHLIGHT","getStencilTarget","updateTransforms","isWGS84","isWebMercator","equals","M","center","xmax","ymin","valid","abs","max","apply","min","N","cols","ceil","rows","W","G","inverseTransform","NaN","A","Float32Array","E","F","offsets","coefficients","spacing","log","pixelSize","LN2","storageInfo","maximumPyramidLevel","floor","pyramidLevel","pyramidResolution","nativePixelSize","excessiveReading","projectedPixelSize","wkid","getRequiredFields","fields","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","_timer","_cachedBlocks","Map","_size","_duration","_interval","decreaseRefCount","refCount","delete","controller","getBlock","ts","Date","now","block","putBlock","updateTimer","deleteBlock","updateMaxSize","empty","clearTimer","getCurrentSize","setInterval","Array","from","clearInterval","cache","isRejected","normalize","transform","Set","B","pyramidBlockWidth","blockWidth","pyramidBlockHeight","blockHeight","$","H"],"mappings":"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","file":"static/js/23.22e31a25.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import s from\"../../Graphic.js\";import{getDefaultDatumTransformationForDataset as a,projectExtent as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as l}from\"./support/popupUtils.js\";const p=p=>{let u=class extends p{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.fullExtent=null,this.tileInfo=null,this.datumTransformation=null}get hasTilingEffects(){return this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment}async fetchPopupFeatures(e,r){const{layer:i}=this;if(!e)return Promise.reject(new o(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:i}));const{popupEnabled:a}=i,n=l(i,r);if(!a||!t(n))throw new o(\"imageryTileLayerView:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:n});const p=[],{value:u}=await i.identify(e);if(u){var f,m;const e=u.join(\", \"),t={ObjectId:0},r=\"Raster.ServicePixelValue\";t[r]=this._formatAttributeValue(e,r);const o=null==(f=i.rasterInfo)||null==(m=f.attributeTable)?void 0:m.features;if(o&&o.length>0){const r=o.filter((t=>{const r=t.attributes.value||t.attributes.Value||t.attributes.VALUE;return String(r)===e}));if(r.length>0){const e=r[0];if(e)for(const r in e.attributes)if(e.attributes.hasOwnProperty(r)){const i=this._rasterFieldPrefix+r;t[i]=this._formatAttributeValue(e.attributes[r],i)}}}const a=new s(this.fullExtent.clone(),null,t);a.layer=i,a.sourceLayer=a.layer,p.push(a)}return p}updateFullExtent(){const e=this.layer.tileInfo;let t;e&&e.spatialReference||(t=new o(\"layerview:tiling-information-missing\",\"The layer doesn't provide tiling information\",{layer:this.layer}));const r=a(this.layer.fullExtent,this.view.spatialReference,!1),i=n(this.layer.fullExtent,this.view.spatialReference,r);return null==i&&(t=new o(\"layerview:projection-not-supported\",\"The layer extent cannot be projected to the view's spatial reference\",{layer:this.layer})),this._set(\"fullExtent\",i),this.datumTransformation||(this.datumTransformation=a(this.layer.fullExtent,this.view.spatialReference,!0)),t?Promise.reject(t):Promise.resolve()}_formatAttributeValue(e,t){if(\"string\"==typeof e){const r=this.layer.popupTemplate&&this.layer.popupTemplate.fieldInfos,i=this._getFieldInfo(r,t),o=i&&i.format;if(o){let t,r;return e.trim().indexOf(\",\")>-1?(t=\",\",r=t+\" \",this._formatDelimitedString(e,t,r,o)):e.trim().indexOf(\" \")>-1?(t=r=\" \",this._formatDelimitedString(e,t,r,o)):this._formatNumberFromString(e,o)}}return e}_getFieldInfo(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let i;return e.some((e=>!(!e.fieldName||e.fieldName.toLowerCase()!==r&&e.fieldName.toLowerCase()!==r.replace(/ /g,\"_\"))&&(i=e,!0))),i}_formatDelimitedString(e,t,r,i){return e&&t&&r&&i?e.trim().split(t).map((e=>this._formatNumberFromString(e,i))).join(r):e}_formatNumberFromString(e,t){if(!e||!t)return e;const r=Number(e);return isNaN(r)?e:t.format(r)}};return e([r()],u.prototype,\"layer\",void 0),e([r()],u.prototype,\"view\",void 0),e([r()],u.prototype,\"fullExtent\",void 0),e([r()],u.prototype,\"tileInfo\",void 0),e([r({readOnly:!0})],u.prototype,\"hasTilingEffects\",null),u=e([i(\"esri.views.layers.ImageryTileLayerView\")],u),u};export default p;export{p as ImageryTileLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../core/maybe.js\";import{i as e,a as s,r,j as i,m as a}from\"../../../chunks/mat3.js\";import{extractBands as o}from\"../../../layers/support/rasterFunctions/pixelUtils.js\";import{c as u}from\"../../../chunks/mat3f32.js\";import{f as n}from\"../../../chunks/vec2f32.js\";import{DisplayObject as l}from\"./DisplayObject.js\";import{createTransformTexture as h,createRasterTexture as d,createColormapTexture as m}from\"../../webgl/rasterUtils.js\";const _={bandCount:3,outMin:0,outMax:1,minCutOff:[0,0,0],maxCutOff:[255,255,255],factor:[1/255,1/255,1/255],useGamma:!1,gamma:[1,1,1],gammaCorrection:[1,1,1],colormap:null,colormapOffset:null,type:\"stretch\"};class x extends l{constructor(t=null,e=null,s=null){super(),this._textureInvalidated=!0,this._memoryUsed=null,this._supportsBilinear=!0,this.stencilRef=0,this.coordScale=[1,1],this._symbolizerParameters=null,this.height=null,this.isRendereredSource=!1,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this.rawPixelData=null,this._suspended=!1,this._bandIds=null,this._interpolation=null,this._transformGrid=null,this.width=null,this.x=0,this.y=0,this.transforms={dvs:u()},this.source=t,this.transformGrid=e,this.interpolation=s}destroy(){const t=this.getTextures();null==t||t.textures.forEach((t=>t.dispose())),this._rasterTexture=null,this._transformGridTexture=null,this._colormapTexture=null}get symbolizerParameters(){return this._symbolizerParameters||_}set symbolizerParameters(t){this._symbolizerParameters=t}get source(){return this._source}set source(t){this._source=t,this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTexture=null,this._rasterTextureBandIds=null,this._memoryUsed=null)}get suspended(){return this._suspended}set suspended(t){this._suspended&&!t&&this.stage&&(this.ready(),this.requestRender()),this._suspended=t}get bandIds(){return this._bandIds}set bandIds(t){this._bandIds=t,this.invalidateTexture()}get interpolation(){return this._interpolation}set interpolation(t){this._interpolation=t,this._rasterTexture&&this._rasterTexture.setSamplingMode(!this._supportsBilinear||\"bilinear\"!==t&&\"cubic\"!==t?9728:9729)}get transformGrid(){return this._transformGrid}set transformGrid(t){this._transformGrid=t,this._transformGridTexture&&(this._transformGridTexture.dispose(),this._transformGridTexture=null,this._memoryUsed=null)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRender())}setTransform(t){const o=e(this.transforms.dvs),[u,l]=t.toScreenNoRotation([0,0],this.x,this.y),h=this.resolution/this.pixelRatio/t.resolution,d=h*this.width,m=h*this.height,_=Math.PI*this.rotation/180;s(o,o,n(u,l)),s(o,o,n(d/2,m/2)),r(o,o,-_),s(o,o,n(-d/2,-m/2)),i(o,o,n(d,m)),a(this.transforms.dvs,t.displayViewMat3,o)}getTextures(){if(!this._rasterTexture)return null;const t=[],e=[];return this._transformGridTexture&&(e.push(this._transformGridTexture),t.push(\"u_transformGrid\")),this._rasterTexture&&(e.push(this._rasterTexture),t.push(\"u_image\")),this._colormapTexture&&(e.push(this._colormapTexture),t.push(\"u_colormap\")),{names:t,textures:e}}getMemoryUsage(){if(t(this._memoryUsed)){const t=this.getTextures();if(null==t)return 0;this._memoryUsed=t.textures.map((t=>t.descriptor.width*t.descriptor.height*4)).reduce(((t,e)=>t+e))}return this._memoryUsed}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}updateTexture({context:t}){var e,s,r;if(!this.stage)return null==(e=this._rasterTexture)||e.dispose(),null==(s=this._transformGridTexture)||s.dispose(),null==(r=this._colormapTexture)||r.dispose(),this._rasterTexture=null,this._rasterTextureBandIds=null,this._transformGridTexture=null,void(this._colormapTexture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1;const i=this.source,a=i&&i.pixels&&i.pixels.length>0;this._createOrDestroyRasterTexture(t),this._rasterTexture&&(a?(this._updateColormapTexture(t),this.transformGrid&&!this._transformGridTexture&&(this._transformGridTexture=h(t,this.transformGrid))):this._rasterTexture.setData(null)),this.suspended||(this.ready(),this.requestRender())}_createOrDestroyRasterTexture(t){var e,s;const r=this.source?o(this.source,this.bandIds):null;if(!(r&&r.pixels&&r.pixels.length>0))return void(this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTextureBandIds=null,this._rasterTexture=null));const i=null==this._rasterTextureBandIds&&null==this.bandIds||this._rasterTextureBandIds&&this.bandIds&&this._rasterTextureBandIds.join(\"\")===this.bandIds.join(\"\");if(this._rasterTexture){if(i)return;this._rasterTexture.dispose(),this._rasterTextureBandIds=null,this._rasterTexture=null}const a=this.interpolation||\"nearest\",u=this.isRendereredSource||!(null!=(e=t.capabilities.textureFloat)&&e.textureFloat);this._rasterTexture=d(t,r,a,u),this._supportsBilinear=null==(s=t.capabilities.textureFloat)?void 0:s.textureFloatLinear,this._rasterTextureBandIds=this.bandIds}_updateColormapTexture(t){const e=this._colormap,s=this.symbolizerParameters.colormap;return s?e?s.length!==e.length||s.some(((t,s)=>t!==e[s]))?(this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null),this._colormapTexture=m(t,s),void(this._colormap=s)):void 0:(this._colormapTexture=m(t,s),void(this._colormap=s)):(this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null),void(this._colormap=null))}}export{x as RasterBitmap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{TiledDisplayObject as t}from\"./webgl/TiledDisplayObject.js\";import{RasterBitmap as s}from\"./RasterBitmap.js\";class e extends t{constructor(t,e,i,a=null){super(t,e,i),this.bitmap=new s(a,null,null),this.bitmap.coordScale=i,this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}getMemoryUsage(){return this.bitmap.getMemoryUsage()}setTransform(t,s){super.setTransform(t,s),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{e as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as s}from\"../viewpointUtils.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import{brushes as i}from\"./brushes.js\";import r from\"./webgl/TileContainer.js\";import{RasterTile as o}from\"./RasterTile.js\";class n extends r{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const s=this._getTileBounds(e);return new o(e,s,this._tileInfoView.tileInfo.size)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"bitmap (tile)\",brushes:[i.raster],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}_getTileBounds(t){const i=this._tileInfoView.getTileBounds(e(),t);if(this.isCustomTilingScheme&&t.world){const{tileInfo:e}=this._tileInfoView,r=s(e.spatialReference);if(r){const{resolution:s}=e.lodAt(t.level),o=r/s%e.size[0],n=o?(e.size[0]-o)*s:0;i[0]-=n*t.world,i[2]-=n*t.world}}return i}}export{n as RasterTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isNone as t,unwrap as i}from\"../../../core/maybe.js\";import s from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{debounce as l,isAbortError as o,createAbortController as h,eachAlways as n}from\"../../../core/promiseUtils.js\";import c from\"../../../geometry/Point.js\";import u from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import{createScreenPoint as p}from\"../../../core/screenUtils.js\";import m from\"../../../Graphic.js\";import{watch as d}from\"../../../core/watchUtils.js\";import y from\"../../../layers/support/PixelBlock.js\";import _ from\"../../../layers/support/TileInfo.js\";import{extractBands as g}from\"../../../layers/support/rasterFunctions/pixelUtils.js\";import{computeProjectedScales as b}from\"../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{update as f,unregister as w,register as I,getRasterId as P}from\"../../../layers/support/rasterDatasets/RawBlockCache.js\";import S from\"../../webgl/capabilities.js\";import{RefreshableLayerView as C}from\"../../layers/RefreshableLayerView.js\";import R from\"../tiling/TileInfoView.js\";import U from\"../tiling/TileQueue.js\";import v from\"../tiling/TileStrategy.js\";import T from\"../../layers/LayerView.js\";import{createQueryGeometry as x}from\"../../support/drapedUtils.js\";import{ImageryTileLayerView as z}from\"../../layers/ImageryTileLayerView.js\";import{RasterTileContainer as k}from\"../engine/RasterTileContainer.js\";import{LayerView2DMixin as j}from\"./LayerView2D.js\";const V=s.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\"),L=[0,0];let q=class extends(z(C(j(T)))){constructor(){super(...arguments),this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._bitmapView=null,this._emptyTilePixelBlock=null,this._srcResolutions=null,this._previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._globalUpdateRequested=!1,this._isCustomTilingScheme=!1,this.useWebGLForProcessing=!0,this._redrawDebounced=l((e=>this._redrawImage(e)),2e3)}initialize(){const e=this.updateFullExtent();this.addResolvingPromise(e)}get useProgressiveUpdate(){return null==this._get(\"useProgressiveUpdate\")||this._get(\"useProgressiveUpdate\")}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){this._tileStrategy.destroy(),this._bitmapView.removeAllChildren();const t=this._getCacheSize(e);this._tileStrategy=new v({cachePolicy:\"purge\",resampling:!1,acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.requestUpdate()}}hitTest(e,t){if(this.suspended)return Promise.resolve(null);const i=this.view.toMap(p(e,t));return Promise.resolve(new m({attributes:{},geometry:i}))}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){var a;if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:u.fromJSON(t);f(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,(null==(a=this._previousLOD)?void 0:a.level)!==r.level&&(this._previousLOD=r,null!=this._symbolizerParams&&this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}this.notifyChange(\"updating\")}attach(){this.layer.increaseRasterJobHandlerUsage(),S().supportsTextureFloat||(this.useWebGLForProcessing=!1),this.layer.raster&&(this.layer.raster.ioConfig.allowPartialFill=!0),this._initializeTileInfo(),this._tileInfoView=new R(this.tileInfo,this.fullExtent),this._fetchQueue=new U({tileInfoView:this._tileInfoView,concurrency:10,process:(e,t)=>this.fetchTile(e,t)});const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new v({cachePolicy:\"purge\",resampling:!1,acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:e,tileInfoView:this._tileInfoView}),this._bitmapView=new k(this._tileInfoView),this._bitmapView.isCustomTilingScheme=this._isCustomTilingScheme,this.container.addChild(this._bitmapView),this.handles.add([d(this,[\"layer.bandIds\",\"layer.renderer\"],(()=>this._redrawDebounced().catch((e=>{o(e)||V.error(e)})))),d(this,[\"layer.interpolation\"],((e,t)=>{\"majority\"!==e&&\"majority\"!==t||!this._canUseMajorityInterpolationOnDataSource()?this._redrawDebounced().catch((e=>{o(e)||V.error(e)})):this.refreshDebounced()})),d(this,[\"layer.multidimensionalDefinition\"],this.refreshDebounced)],\"attach\"),this._updateBlockCacheRegistry()}detach(){this.handles.remove(\"attach\"),this.layer.decreaseRasterJobHandlerUsage(),this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,w(this._blockCacheRegistryUrl,this._blockCacheRegistryId)}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){!this.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=h(),0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.requestUpdate()}createFetchPopupFeaturesQueryGeometry(e,t){return x(e,t,this.view)}async doRefresh(){this.updateRequested||this.suspended||(this.layer.updateRenderer(),this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset(),this._tileStrategy.tiles.forEach((e=>this._enqueueTileFetch(e))),this.notifyChange(\"updating\"))}isUpdating(){return this._fetchQueue.length>0||this._globalUpdateRequested}acquireTile(e){const t=this._bitmapView.createTile(e),i=t.bitmap;return[i.x,i.y]=this._tileInfoView.getTileCoords(L,t.key),i.resolution=this._tileInfoView.getTileResolution(t.key),[i.width,i.height]=this._tileInfoView.tileInfo.size,this._enqueueTileFetch(t),this.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){this._fetchQueue.abort(e.key.id),this._bitmapView.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.requestUpdate()})),this.requestUpdate()}fetchTile(e,s){const r=!t(s)&&s.signal,a=this._canUseWebGLForProcessing(),l={tileInfo:this.tileInfo,signal:i(r),registryId:this._blockCacheRegistryId,requestRawData:a,srcResolution:this._srcResolutions[e.level],datumTransformation:this.datumTransformation,interpolation:a?\"nearest\":this.layer.interpolation};return this.layer.fetchTile(e.level,e.row,e.col,l)}_canUseWebGLForProcessing(){return this.useWebGLForProcessing&&this.layer.symbolizer.canRenderInWebGL&&!(\"majority\"===this.layer.interpolation&&this._canUseMajorityInterpolationOnDataSource())}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const e=this.view.spatialReference,t=new c({x:this.fullExtent.xmin,y:this.fullExtent.ymax,spatialReference:e}),{scales:i,srcResolutions:s,isCustomTilingScheme:r}=b(this.layer.rasterInfo,e),a=_.create({spatialReference:e,size:512,scales:i});(0===a.origin.x||a.origin.x>t.x)&&(a.origin=t),this._isCustomTilingScheme=r,this._set(\"tileInfo\",a),this._srcResolutions=null!=s?s:[]}async _enqueueTileFetch(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key),{bandIds:s}=this.layer;let r=!this.useProgressiveUpdate||this.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.moving&&0===this._fetchQueue.length){r=!1;try{await this._redrawImage(this._abortController&&this._abortController.signal)}catch(i){o(i)&&V.error(i)}this._globalUpdateRequested=!1}const a=this._canUseWebGLForProcessing();if(a&&!this.hasTilingEffects&&null==this._symbolizerParams&&this._updateSymbolizerParams(),t&&t.pixelBlock){const i={extent:t.extent,pixelBlock:t.pixelBlock};if(e.bitmap.rawPixelData=i,a)e.bitmap.source=t.pixelBlock,e.bitmap.isRendereredSource=!1;else{const t=await this.layer.applyRenderer(i,this.hasTilingEffects&&this._globalSymbolizerParams&&\"stretch\"===this._globalSymbolizerParams.type?this._globalSymbolizerParams:null);e.bitmap.source=t,e.bitmap.isRendereredSource=!0}e.bitmap.symbolizerParameters=a?this._globalSymbolizerParams||this._symbolizerParams:null,a?e.bitmap.transformGrid||(e.bitmap.transformGrid=t.transformGrid):e.bitmap.transformGrid=null}else{const t=this._createEmptyTilePixelBlock();e.bitmap.source=t,e.bitmap.symbolizerParameters=a?this._symbolizerParams:null,e.bitmap.transformGrid=null}e.bitmap.bandIds=s,e.bitmap.width=this._tileInfoView.tileInfo.size[0],e.bitmap.height=this._tileInfoView.tileInfo.size[1],e.bitmap.interpolation=this._getLayerInterpolation(),e.bitmap.suspended=r,e.bitmap.invalidateTexture(),e.once(\"attach\",(()=>this.requestUpdate())),this._bitmapView.addChild(e)}catch(i){o(i)||V.error(i)}this.requestUpdate()}}async _redrawImage(e){this.layer.updateRenderer(),this.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const{bandIds:t}=this.layer,i=this._bitmapView.children.map((async e=>{const i=this._canUseWebGLForProcessing();!i&&e.bitmap.rawPixelData?(e.bitmap.source=await this.layer.applyRenderer(e.bitmap.rawPixelData,this.hasTilingEffects&&this._globalSymbolizerParams&&\"stretch\"===this._globalSymbolizerParams.type?this._globalSymbolizerParams:null),e.bitmap.isRendereredSource=!0):(e.bitmap.isRendereredSource&&e.bitmap.rawPixelData&&(e.bitmap.source=e.bitmap.rawPixelData.pixelBlock),e.bitmap.isRendereredSource=!1),e.bitmap.symbolizerParameters=i?this._globalSymbolizerParams||this._symbolizerParams:null,e.bitmap.bandIds=t,e.bitmap.interpolation=this._getLayerInterpolation(),e.bitmap.suspended=!1}));await n(i),this.container.requestRender()}_createEmptyTilePixelBlock(){if(!this._emptyTilePixelBlock){const e=this._tileInfoView.tileInfo.size[0],t=this._tileInfoView.tileInfo.size[1];this._emptyTilePixelBlock=new y({width:e,height:t,pixels:[new Uint8Array(e*t)],mask:new Uint8Array(e*t),pixelType:\"u8\"})}return this._emptyTilePixelBlock}async _updateGlobalSymbolizerParams(e){const t={srcResolution:this._srcResolutions[this._previousLOD.level],registryId:this._blockCacheRegistryId,signal:e},i=await this.layer.fetchPixels(this.view.extent,this.view.width,this.view.height,t);if(!i||!i.pixelBlock)return;const s=this.layer.symbolizer.generateWebGLParameters({pixelBlock:g(i.pixelBlock,this.layer.bandIds),isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds});!this._canUseWebGLForProcessing()&&s&&\"stretch\"===s.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(s.factor=s.factor.map((e=>255*e)),s.outMin=Math.round(255*s.outMin),s.outMax=Math.round(255*s.outMax)),this._globalSymbolizerParams=s}_updateSymbolizerParams(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds})}_updateBlockCacheRegistry(e=!1){const{url:t,rasterInfo:i,multidimensionalDefinition:s,raster:r}=this.layer,a=null!=i&&i.multidimensionalInfo?r.getSliceIndex(s):null,l=P(t,a);if(l!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&w(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=I(l,this.layer.raster.rasterInfo),e){const e=this._tileInfoView.getClosestInfoForScale(this.view.scale),t=this._srcResolutions[e.level];f(l,this._blockCacheRegistryId,this.view.extent,this.view.resolution,t,this.layer.raster.ioConfig.sampling)}this._blockCacheRegistryUrl=l}}_canUseMajorityInterpolationOnDataSource(){const{bandCount:e,attributeTable:t,colormap:i,pixelType:s}=this.layer.rasterInfo;return 1===e&&(null!=t||null!=i||\"u8\"===s||\"s8\"===s)}_getLayerInterpolation(){const e=this.layer.renderer.type;return\"raster-colormap\"===e||\"unique-value\"===e||\"class-breaks\"===e?\"nearest\":this.layer.interpolation}};e([r()],q.prototype,\"useProgressiveUpdate\",null),q=e([a(\"esri.views.2d.layers.ImageryTileLayerView2D\")],q);var D=q;export default D;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import o from\"../../core/Evented.js\";import{IdentifiableMixin as l}from\"../../core/Identifiable.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{HandleOwnerMixin as a}from\"../../core/HandleOwner.js\";let p=class extends(a(l(n(o.EventedMixin(i))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const r=this.layer&&this.layer.id||\"no id\",s=this.layer&&this.layer.title||\"no title\";throw t.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${s}', id: '${r}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([r()],p.prototype,\"fullOpacity\",null),e([r()],p.prototype,\"layer\",void 0),e([r()],p.prototype,\"parent\",void 0),e([r({readOnly:!0})],p.prototype,\"suspended\",null),e([r({readOnly:!0})],p.prototype,\"suspendInfo\",null),e([r({readOnly:!0})],p.prototype,\"legendEnabled\",null),e([r({type:Boolean,readOnly:!0})],p.prototype,\"updating\",null),e([r()],p.prototype,\"visible\",null),p=e([s(\"esri.views.layers.LayerView\")],p);var d=p;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),t([r({readOnly:!0})],i.prototype,\"version\",null),i=s=t([o(\"esri.views.layers.support.ClipRect\")],i);var p=i;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"../../../geometry/Geometry.js\";import s from\"../../../geometry/Extent.js\";import p from\"../../../geometry/Polygon.js\";import{fromJSON as m}from\"../../../geometry/support/jsonUtils.js\";import\"../../../geometry.js\";import i from\"./ClipArea.js\";var y;const c={base:t,key:\"type\",typeMap:{extent:s,polygon:p}};let n=y=class extends i{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};r([o({types:c,json:{read:m,write:!0}})],n.prototype,\"geometry\",void 0),r([o({readOnly:!0})],n.prototype,\"version\",null),n=y=r([e(\"esri.views.layers.support.Geometry\")],n);var l=n;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"./ClipArea.js\";let e=class extends t{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],e.prototype,\"path\",void 0),r([o({readOnly:!0})],e.prototype,\"version\",null),e=r([s(\"esri.views.layers.support.Path\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import i from\"../../../core/Collection.js\";import{referenceSetter as r}from\"../../../core/collectionUtils.js\";import{init as o}from\"../../../core/watchUtils.js\";import a from\"../../layers/support/ClipArea.js\";import p from\"../../layers/support/ClipRect.js\";import{Container as h}from\"../engine/Container.js\";import n from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=i.ofType({key:\"type\",base:a,typeMap:{rect:p,path:d,geometry:n}}),l=i=>{let a=class extends i{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new h),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([o(this,\"suspended\",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),o(this,[\"layer.opacity\",\"container\"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),o(this,[\"layer.blendMode\"],(t=>{this.container&&(this.container.blendMode=t)}),!0),o(this,[\"layer.effect\"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,o=!r;!s&&t<=i&&(s=!0),!o&&t>=r&&(o=!0),e=s&&o}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return t([e({type:c,set(t){const e=r(t,this._get(\"clips\"),c);this._set(\"clips\",e)}})],a.prototype,\"clips\",void 0),t([e()],a.prototype,\"moving\",void 0),t([e()],a.prototype,\"attached\",void 0),t([e()],a.prototype,\"container\",void 0),t([e()],a.prototype,\"suspended\",void 0),t([e({readOnly:!0})],a.prototype,\"updateParameters\",void 0),t([e()],a.prototype,\"updateRequested\",void 0),t([e()],a.prototype,\"updating\",null),t([e()],a.prototype,\"view\",void 0),a=t([s(\"esri.views.2d.layers.LayerView2D\")],a),a};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{s,m as t}from\"../../../../chunks/mat3.js\";import o from\"../../tiling/TileKey.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as e}from\"../DisplayObject.js\";class r extends e{constructor(s,t,e,r=e){super(),this.triangleCountReportedInDebug=0,this.transforms={dvs:i(),tileMat3:i()},this.triangleCount=0,this.key=new o(s),this.bounds=t,this.size=e,this.coordRange=r}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}get coords(){return this._coords}get bounds(){return this._bounds}set bounds(s){this._coords=[s[0],s[3]],this._bounds=s}setTransform(o,i){const e=i/(o.resolution*o.pixelRatio),r=this.transforms.tileMat3,[n,h]=o.toScreenNoRotation([0,0],this.coords),a=this.size[0]/this.coordRange[0]*e,d=this.size[1]/this.coordRange[1]*e;s(r,a,0,0,0,d,0,n,h,1),t(this.transforms.dvs,o.displayViewMat3,r)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./enums.js\";import r from\"./brushes/WGLBrushInfo.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./WGLContainer.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends t{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(n),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e;return{...super.createRenderParams(e),requiredLevel:this._tileInfoView.getClosestInfoForScale(r.scale).level,displayLevel:this._tileInfoView.tileInfo.scaleToZoom(r.scale)}}prepareRenderPasses(t){const n=t.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()}),i=t.registerRenderPass({name:\"tileInfo\",brushes:[r],drawPhase:e.DEBUG,target:()=>this.children,has:\"esri-tiles-debug\"});return[...super.prepareRenderPasses(t),n,i]}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export default i;export{n as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{getInfo as n}from\"../../../geometry/support/spatialReferenceUtils.js\";import{project as t}from\"../../../geometry/support/webMercatorUtils.js\";import o from\"../../../geometry/Point.js\";import i from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import{getMetersPerUnitForSR as r}from\"../../../core/unitUtils.js\";import{isLoaded as a,isSupported as s,load as l,getTransformation as c,project as x}from\"../../../geometry/projection.js\";const u=5e-4,m=function(e,n){const t=(e.isWGS84||e.isWebMercator)&&(n.isWGS84||n.isWebMercator);return!(e.equals(n)||t)},p=function(e,n){const t=(e[0]+e[4]+e[4*n.cols]+e[4*n.cols+4])/4,o=(e[1]+e[5]+e[4*n.rows+1]+e[4*n.rows+5])/4;return[Math.abs(t-e[2*n.rows+2]),Math.abs(o-e[2*n.rows+3])]},f=32;async function h(){if(a()||!s())return null;await l()}function y(n,t,o){if(!m(n.spatialReference,t))return null;if(!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");return o?c(t,n.spatialReference,n):c(n.spatialReference,t,n)}function M(n,o,r,s=null){if(n.spatialReference.equals(o))return n;const l=m(n.spatialReference,o);if(l&&!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const c=r.center,u=new i({xmin:c.x-n.x/2,xmax:c.x+n.x/2,ymin:c.y-n.y/2,ymax:c.y+n.y/2,spatialReference:n.spatialReference}),p=l?x(u,o,s):t(u,o);if(null==p)return null;return{x:p.xmax-p.xmin,y:p.ymax-p.ymin}}function w(e,n=.01){return r(e)?n/r(e):0}function d(o,i,r=null,s=!0){const l=o.spatialReference;if(l.equals(i))return o;const c=m(l,i);if(c&&!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const p=c?x(o,i,r):t(o,i);if(p&&s&&i.isGeographic){var f,h;const[e,t]=l.isWebMercator?n(l).origin:null!=(f=null==(h=n(l))?void 0:h.valid)?f:[],i=w(l);i&&null!=e&&null!=t&&(Math.abs(o.x-e)<i&&Math.abs(180-p.x)<u?p.x-=360:Math.abs(o.x-t)<i&&Math.abs(180+p.x)<u&&(p.x+=360))}return p}function g(i,r,s=null,l=!0){var c,p,f,h;const y=i.spatialReference;if(y.equals(r))return i;const M=m(y,r);if(M&&!a())throw new e(\"rasterprojectionhelper-projectExtent\",\"projection engine is not loaded\");const g=M?x(i,r,s):t(i,r);let[R,j]=null!=(c=null==(p=n(y))?void 0:p.origin)?c:[];if(g&&l&&y.isWebMercator&&r.isGeographic&&null!=R&&null!=j){const e=.001,n=1e3;if(Math.abs(i.xmin-R)<e&&Math.abs(j-i.xmax)>n&&Math.abs(180-g.xmax)<u){g.xmin=-180;const e=[];e.push(new o(i.xmax,i.ymin,y)),e.push(new o(i.xmax,(i.ymin+i.ymax)/2,y)),e.push(new o(i.xmax,i.ymax,y));const n=e.map((e=>d(e,r,s))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));g.xmax=Math.max.apply(null,n)}if(Math.abs(i.xmax-j)<e&&Math.abs(R-i.xmin)>n&&Math.abs(180+g.xmin)<u){g.xmax=180;const e=[];e.push(new o(i.xmin,i.ymin,y)),e.push(new o(i.xmin,(i.ymin+i.ymax)/2,y)),e.push(new o(i.xmin,i.ymax,y));const n=e.map((e=>d(e,r,s))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));g.xmin=Math.min.apply(null,n)}}[R,j]=r.isWebMercator?n(r).origin:null!=(f=null==(h=n(r))?void 0:h.valid)?f:[];const b=w(r);return b&&null!=R&&null!=j&&(Math.abs(g.xmin-R)<b&&(g.xmin=R),Math.abs(g.xmax-j)<b&&(g.xmax=j)),g}function R(t,i,r,s=null,l=null,c=!1,x=[f,f]){var u,h;if(m(t.spatialReference,i.spatialReference)&&!a())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");if(!(t&&i&&r))return null;const{xmin:y,ymin:M,xmax:w,ymax:g}=t,R=t.spatialReference,j=i.spatialReference,[b,v]=null!=(u=null==(h=n(R))?void 0:h.valid)?u:[],N={x:x[0]*r.x,y:x[1]*r.y},S={cols:Math.ceil((w-y)/N.x-.1)+1,rows:Math.ceil((g-M)/N.y-.1)+1},z=N.x,W=N.y,G=[];let P,L=!1;for(let e=0;e<S.cols;e++){const n=[];for(let t=0;t<S.rows;t++){let r=d(new o({x:y+z*e,y:g-W*t,spatialReference:R}),j,s);l&&(r=l.inverseTransform(r)),n.push(r),e>0&&c&&r&&P[t]&&null!=b&&r.x<P[t].x&&(r.x+=v-b),r?(G.push((r.x-i.xmin)/(i.xmax-i.xmin)),G.push((i.ymax-r.y)/(i.ymax-i.ymin))):(G.push(NaN),G.push(NaN),L=!0)}P=n}const q=p(G,S),A=new Float32Array((S.cols-1)*(S.rows-1)*2*6),E=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),F=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<S.cols-1;e++){for(let n=0;n<S.rows-1;n++){let t=e*S.rows*2+2*n;const o=G[t],i=G[t+1],r=G[t+2],a=G[t+3];t+=2*S.rows;const s=G[t],l=G[t+1],c=G[t+2],x=G[t+3];let u=0,m=12*(n*(S.cols-1)+e);for(let e=0;e<3;e++)A[m++]=E[u++]*o+E[u++]*r+E[u++]*c;u=0;for(let e=0;e<3;e++)A[m++]=E[u++]*i+E[u++]*a+E[u++]*x;u=0;for(let e=0;e<3;e++)A[m++]=F[u++]*o+F[u++]*s+F[u++]*c;u=0;for(let e=0;e<3;e++)A[m++]=F[u++]*i+F[u++]*l+F[u++]*x}if(L)for(let e=0;e<A.length;e++)isNaN(A[e])&&(A[e]=-1)}return{offsets:G,error:q,coefficients:A,spacing:x,size:[S.cols-1,S.rows-1]}}function j(e,n,t){const i=Math.log(e.x/n.pixelSize.x)/Math.LN2,r=Math.log(e.y/n.pixelSize.y)/Math.LN2,a=n.storageInfo.maximumPyramidLevel||0;let s=\"down\"===t?Math.floor(Math.min(i,r)):\"up\"===t?Math.ceil(Math.max(i,r)):Math.round((i+r)/2),l=!1;s<0?s=0:s>a&&(l=s>a+3,s=a);const c=2**s;return{pyramidLevel:s,pyramidResolution:new o({x:c*n.nativePixelSize.x,y:c*n.nativePixelSize.y,spatialReference:n.spatialReference}),excessiveReading:l}}function b(e,n,t=512,i=!0){const{extent:a,spatialReference:s,pixelSize:l}=e,c=M(new o({x:l.x,y:l.y,spatialReference:s}),n,a);if(null==c)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const x=(c.x+c.y)/2,u=r(n),m=x*u*96*39.37,p=n.isGeographic?512/t*295828763.7958547:512/t*591657527.591555;let f=!1;const h=g(a,n);i&&(n.isGeographic||n.isWebMercator)&&(f=h.xmin*h.xmax<0);let y,w=m;const d=1.001;if(f){w=p;const e=.29858214164761665,n=e*(96*u*39.37);y=M(new o({x:e,y:e,spatialReference:{wkid:3857}}),s,h),y.x*=w/n,y.y*=w/n}else{y={x:l.x,y:l.y};const n=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let t=0;for(;w<p*(d/2)&&t<n;)t++,w*=2,y.x*=2,y.y*=2;Math.max(w,p)/Math.min(w,p)<=d&&(w=p)}const R=[w],j=[{x:y.x,y:y.y}],b=70.5310735,v=Math.min(b,m)/d;for(;w>=v;)w/=2,y.x/=2,y.y/=2,R.push(w),j.push({x:y.x,y:y.y});return{projectedPixelSize:c,scales:R,srcResolutions:j,isCustomTilingScheme:!f}}export{b as computeProjectedScales,f as defaultGridSpacing,y as getDefaultDatumTransformationForDataset,R as getProjectionOffsetGrid,h as load,g as projectExtent,d as projectPoint,M as projectResolution,j as snapPyramid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l,hasField as t}from\"../../../layers/support/fieldUtils.js\";async function i(i,d=i.popupTemplate){if(!e(d))return[];const o=await d.getRequiredFields(i.fields),{lastEditInfoEnabled:s}=d,{objectIdField:u,typeIdField:a,globalIdField:n,relationships:f}=i;if(o.includes(\"*\"))return[\"*\"];const r=s?await p(i):[],m=l(i.fields,[...o,...r]);return a&&m.push(a),m&&u&&t(i.fields,u)&&-1===m.indexOf(u)&&m.push(u),m&&n&&t(i.fields,n)&&-1===m.indexOf(n)&&m.push(n),f&&f.forEach((e=>{const{keyField:p}=e;m&&p&&t(i.fields,p)&&-1===m.indexOf(p)&&m.push(p)})),m}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,i as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../geometry/Point.js\";import\"../../../geometry.js\";import n from\"./EphemeralBlockCache.js\";import{projectExtent as o,projectResolution as r,snapPyramid as l}from\"../rasterFunctions/rasterProjectionHelper.js\";const c=new Map,a=new n;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(n,c,a,i,s,u,f=null){const h=y(n,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const n=g[y];if(n.xmax-n.xmin<=i||n.ymax-n.ymin<=i)continue;let c=o(n,p,f);e(k)&&(c=k.inverseTransform(c));const a=new t({x:i,y:i,spatialReference:n.spatialReference});if(null==s&&!(s=r(a,p,n,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=l(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n"],"sourceRoot":""}